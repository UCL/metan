{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}log1
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log1.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}12 Jul 2024, 11:48:46
{txt}
{com}. log using `"$BaseDir1/metan_test_${c -(}Date{c )-}_log2"', name(log2)
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}12 Jul 2024, 11:48:46
{txt}
{com}. log using `"$BaseDir1/metan_test_${c -(}Date{c )-}_log3"', name(log3)
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}12 Jul 2024, 11:48:46
{txt}
{com}. loc starttime "$S_TIME"
{txt}
{com}. 
. nois di _n(3)
{res}



{txt}
{com}. nois di `"Current directory:"' c(pwd)
{res}Current directory:C:\Program Files (x86)\Stata14
{txt}
{com}. nois di `"File run: `logname'.do"'
{res}File run: .do
{txt}
{com}. nois di `"Date file produced: $S_DATE $S_TIME"'
{res}Date file produced: 12 Jul 2024 11:48:46
{txt}
{com}. nois di `"--------------------------------------"'
{res}--------------------------------------
{txt}
{com}. nois di _n(3)
{res}



{txt}
{com}. 
. 
. ** Check that we're using the correct version
. // should be -metan9- v3.04 (i.e. the version currently available via SSC)
. which metan
{txt}C:\Users\Test\Documents\metan\Releases\version 4.08 (17jun2024)\metan.ado
{res}*! version 4.08  17jun2024
*! Current version by David Fisher
*! Previous versions by Ross Harris and Michael Bradburn
{txt}
{com}. which metan9
{txt}C:\Users\Test\Documents\metan\Releases\version 4.08 (17jun2024)\metan9.ado
{res}*! 3.04 21Sep2010
{txt}
{com}. 
. 
. 
. *********************************************
. * Part 1: test all -metan9- options in turn *
. *********************************************
. 
. // This section tests backwards compatibility.
. // As requested by JS/JPTH, all syntax in the metan9 help file should continue to run
. //   even if no longer "preferred" syntax for metan v4.0x
. 
. use "$Datasets/metan_example_data", clear
{txt}(Example dataset for meta-analyses, Ross Harris 2006)

{com}. 
. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:46
{txt}{.-}

{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:46
{txt}{.-}

{com}. 
. 
. 
. *** if, in, weights
. 
. // if, in
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:46
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath in 1/10 if type_study=="1: Cohort Studies", label(namevar=id, yearid=year)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60} 26.30
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60} 10.23
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  2.78
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60} 18.99
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60} 41.70
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  0.808{col 35}  0.706     0.924{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res}  2.26{txt} (d.f. = {res}4{txt}) p = {res}0.688
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}   0.0%

{txt}  Test of RR=1 : z= {res}  3.10{txt} p = {res}0.002
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:47
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:47
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath in 1/10 if type_study=="1: Cohort Studies", label(namevar=id, yearid=year)

{txt}Studies included: {res}5
{txt}Participants included: {res}887

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 21}{c TT}{hline 46}
Study identifier{col 22}{c |}    Risk               
(Year){col 22}{c |}    ratio   {col 36}[95% Conf. Interval]{col 59}% Weight
{hline 21}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 22}{c |}{col 26}{res}  0.788{col 37}  0.608{col 47}  1.022{col 58}  26.30
{txt}CA,USA 81-85 (1992){res}{txt}{col 22}{c |}{col 26}{res}  1.059{col 37}  0.705{col 47}  1.590{col 58}  10.23
{txt}SWE 71-75 (1997){res}{txt}{col 22}{c |}{col 26}{res}  0.923{col 37}  0.420{col 47}  2.028{col 58}   2.78
{txt}Hartman (1998){res}{txt}{col 22}{c |}{col 26}{res}  0.804{col 37}  0.592{col 47}  1.092{col 58}  18.99
{txt}AHS (1998){res}{txt}{col 22}{c |}{col 26}{res}  0.752{col 37}  0.607{col 47}  0.933{col 58}  41.70
{txt}{hline 21}{c +}{hline 46}
Overall, MH{col 22}{c |}{col 26}{res}  0.808{col 37}  0.706{col 47}  0.924{col 58} 100.00
{txt}{hline 21}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} -3.101{txt}  p = {res}0.002


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Mantel-Haenszel Q{col 22}{c |}{col 26}{res}   2.26{col 39}  4{col 46}  0.688
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  0.752{col 36}  1.000{col 46}  1.669
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}    0.0%{col 35}    0.0%{col 45}   64.1%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:54
{txt}{.-}

{com}. 
. // weights: not allowed; listed incorrectly in the -metan9- syntax diagram but now removed
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:54
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath cnodeath [aw=n_pop], label(namevar=id, yearid=year)
{err}weights not allowed
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:54
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:54
{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath [aw=n_pop], label(namevar=id, yearid=year)
{err}weights not allowed
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:54
{txt}{.-}

{com}. 
. 
. *** measure_and_model_options: or, rr, rd
. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:54
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) or

{txt}{col 12}Study{col 22}|{col 24}{col 28}OR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.612{col 35}  0.360     1.041{col 60}  8.88
{txt}Ohno (1988){col 22}|{res}  1.288{col 35}  0.743     2.235{col 60}  5.71
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.109{col 35}  0.529     2.328{col 60}  3.39
{txt}Walker (1992){col 22}|{res}  1.155{col 35}  0.596     2.237{col 60}  4.18
{txt}Ghadirian (1996){col 22}|{res}  1.353{col 35}  0.631     2.905{col 60}  2.89
{txt}Ewings (1996){col 22}|{res}  1.242{col 35}  0.701     2.202{col 60}  5.38
{txt}Hayes (1996){col 22}|{res}  2.173{col 35}  1.108     4.261{col 60}  2.94
{txt}SWE 71-75 (1997){col 22}|{res}  0.857{col 35}  0.189     3.888{col 60}  0.93
{txt}Hartman (1998){col 22}|{res}  0.643{col 35}  0.348     1.191{col 60}  6.45
{txt}AHS (1998){col 22}|{res}  0.573{col 35}  0.378     0.869{col 60} 14.98
{txt}Lee (1998){col 22}|{res}  1.467{col 35}  0.434     4.951{col 60}  1.10
{txt}Hsieh (1999){col 22}|{res}  2.651{col 35}  1.234     5.696{col 60}  2.06
{txt}ATBC (2001){col 22}|{res}  1.134{col 35}  0.500     2.572{col 60}  2.75
{txt}CARET (2003){col 22}|{res}  1.215{col 35}  0.763     1.936{col 60}  8.22
{txt}Lifespan study (2004{col 22}|{res}  0.745{col 35}  0.461     1.204{col 60}  9.87
{txt}Joseph (2004){col 22}|{res}  1.513{col 35}  0.648     3.533{col 60}  2.22
{txt}Friedenreich (2004){col 22}|{res}  1.179{col 35}  0.713     1.952{col 60}  7.13
{txt}Allen (2004){col 22}|{res}  2.098{col 35}  0.936     4.702{col 60}  2.08
{txt}Weinstein (2005){col 22}|{res}  1.163{col 35}  0.669     2.023{col 60}  5.94
{txt}King (2005){col 22}|{res}  1.176{col 35}  0.534     2.593{col 60}  2.90
{txt}---------------------+---------------------------------------------------
M-H pooled OR{col 22}|{res}  1.059{col 35}  0.922     1.216{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 32.69{txt} (d.f. = {res}19{txt}) p = {res}0.026
{txt}  I-squared (variation in OR attributable to heterogeneity) ={res}  41.9%

{txt}  Test of OR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:56
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:56
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) or

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Odds Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Odds               
(Year){col 23}{c |}    Ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.612{col 38}  0.360{col 48}  1.041{col 59}   8.88
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.288{col 38}  0.743{col 48}  2.235{col 59}   5.71
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.109{col 38}  0.529{col 48}  2.328{col 59}   3.39
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.155{col 38}  0.596{col 48}  2.237{col 59}   4.18
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.353{col 38}  0.631{col 48}  2.905{col 59}   2.89
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.242{col 38}  0.701{col 48}  2.202{col 59}   5.38
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  2.173{col 38}  1.108{col 48}  4.261{col 59}   2.94
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.857{col 38}  0.189{col 48}  3.888{col 59}   0.93
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.643{col 38}  0.348{col 48}  1.191{col 59}   6.45
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.573{col 38}  0.378{col 48}  0.869{col 59}  14.98
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.467{col 38}  0.434{col 48}  4.951{col 59}   1.10
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  2.651{col 38}  1.234{col 48}  5.696{col 59}   2.06
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.134{col 38}  0.500{col 48}  2.572{col 59}   2.75
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.215{col 38}  0.763{col 48}  1.936{col 59}   8.22
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.745{col 38}  0.461{col 48}  1.204{col 59}   9.87
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.513{col 38}  0.648{col 48}  3.533{col 59}   2.22
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.179{col 38}  0.713{col 48}  1.952{col 59}   7.13
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  2.098{col 38}  0.936{col 48}  4.702{col 59}   2.08
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.163{col 38}  0.669{col 48}  2.023{col 59}   5.94
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.176{col 38}  0.534{col 48}  2.593{col 59}   2.90
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.059{col 38}  0.922{col 48}  1.216{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  32.69{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.684
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   64.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:57
{txt}{.-}

{com}. 
. // correctly exits with error if combined with mean + sd
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:57
{txt}
{com}. cap nois metan9 tsample tmean tsd csample cmean csd, label(namevar=id, yearid=year) or
{err}Invalid specifications for combining trials
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:57
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:57
{txt}
{com}. cap nois metan  tsample tmean tsd csample cmean csd, label(namevar=id, yearid=year) or
{err}Invalid specifications for combining trials
Error in {bf:metan.ProcessData}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:57
{txt}{.-}

{com}. 
. // use two/three variable syntax
. gen double logor   = ln( (tdeath*cnodeath)/(tnodeath*cdeath) )
{txt}
{com}. gen double selogor = sqrt( (1/tdeath) + (1/tnodeath) + (1/cdeath) + (1/cnodeath) )
{txt}
{com}. gen double lcilogor = logor - invnorm(.975)*selogor
{txt}
{com}. gen double ucilogor = logor + invnorm(.975)*selogor
{txt}
{com}. 
. quietly metan tdeath tnodeath cdeath cnodeath, or nograph
{txt}
{com}. // rename (_ES _seES _LCI _UCI) (logor selogor lcilogor ucilogor)
. assert float(_ES) == float(logor)
{txt}
{com}. assert float(_seES) == float(selogor)
{txt}
{com}. assert float(_LCI) == float(lcilogor)
{txt}
{com}. assert float(_UCI) == float(ucilogor)
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:57
{txt}
{com}. cap nois metan9 logor selogor, label(namevar=id, yearid=year) or        // exits with error
{err}Option not available without raw data counts
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:57
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:57
{txt}
{com}. cap nois metan  logor selogor, label(namevar=id, yearid=year) or        // does not exit, but undocumented (as requested by JS/JH)

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of{res} Odds Ratios
{txt}using the {res}common-effect inverse-variance{txt} model

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Odds               
(Year){col 23}{c |}    Ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.612{col 38}  0.360{col 48}  1.041{col 59}   6.90
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.288{col 38}  0.743{col 48}  2.235{col 59}   6.42
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.109{col 38}  0.529{col 48}  2.328{col 59}   3.55
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.155{col 38}  0.596{col 48}  2.237{col 59}   4.45
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.353{col 38}  0.631{col 48}  2.905{col 59}   3.34
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.242{col 38}  0.701{col 48}  2.202{col 59}   5.95
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  2.173{col 38}  1.108{col 48}  4.261{col 59}   4.30
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.857{col 38}  0.189{col 48}  3.888{col 59}   0.85
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.643{col 38}  0.348{col 48}  1.191{col 59}   5.14
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.573{col 38}  0.378{col 48}  0.869{col 59}  11.25
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.467{col 38}  0.434{col 48}  4.951{col 59}   1.32
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  2.651{col 38}  1.234{col 48}  5.696{col 59}   3.33
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.134{col 38}  0.500{col 48}  2.572{col 59}   2.90
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.215{col 38}  0.763{col 48}  1.936{col 59}   8.99
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.745{col 38}  0.461{col 48}  1.204{col 59}   8.45
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.513{col 38}  0.648{col 48}  3.533{col 59}   2.71
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.179{col 38}  0.713{col 48}  1.952{col 59}   7.68
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  2.098{col 38}  0.936{col 48}  4.702{col 59}   2.99
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.163{col 38}  0.669{col 48}  2.023{col 59}   6.36
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.176{col 38}  0.534{col 48}  2.593{col 59}   3.12
{txt}{hline 22}{c +}{hline 46}
Overall, IV{col 23}{c |}{col 27}{res}  1.058{col 38}  0.921{col 48}  1.217{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.798{txt}  p = {res}0.425


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  32.69{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.684
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   64.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:58
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:58
{txt}
{com}. cap nois metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) or              // exits with error
{err}Option not available without raw data counts
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:58
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:58
{txt}
{com}. cap nois metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) or              // does not exit, but undocumented (as requested by JS/JH)

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of{res} Odds Ratios
{txt}using the {res}common-effect inverse-variance{txt} model

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Odds               
(Year){col 23}{c |}    Ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.612{col 38}  0.360{col 48}  1.041{col 59}   6.90
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.288{col 38}  0.743{col 48}  2.235{col 59}   6.42
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.109{col 38}  0.529{col 48}  2.328{col 59}   3.55
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.155{col 38}  0.596{col 48}  2.237{col 59}   4.45
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.353{col 38}  0.631{col 48}  2.905{col 59}   3.34
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.242{col 38}  0.701{col 48}  2.202{col 59}   5.95
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  2.173{col 38}  1.108{col 48}  4.261{col 59}   4.30
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.857{col 38}  0.189{col 48}  3.888{col 59}   0.85
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.643{col 38}  0.348{col 48}  1.191{col 59}   5.14
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.573{col 38}  0.378{col 48}  0.869{col 59}  11.25
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.467{col 38}  0.434{col 48}  4.951{col 59}   1.32
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  2.651{col 38}  1.234{col 48}  5.696{col 59}   3.33
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.134{col 38}  0.500{col 48}  2.572{col 59}   2.90
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.215{col 38}  0.763{col 48}  1.936{col 59}   8.99
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.745{col 38}  0.461{col 48}  1.204{col 59}   8.45
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.513{col 38}  0.648{col 48}  3.533{col 59}   2.71
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.179{col 38}  0.713{col 48}  1.952{col 59}   7.68
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  2.098{col 38}  0.936{col 48}  4.702{col 59}   2.99
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.163{col 38}  0.669{col 48}  2.023{col 59}   6.36
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.176{col 38}  0.534{col 48}  2.593{col 59}   3.12
{txt}{hline 22}{c +}{hline 46}
Overall, IV{col 23}{c |}{col 27}{res}  1.058{col 38}  0.921{col 48}  1.217{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.798{txt}  p = {res}0.425


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  32.69{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.684
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   64.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:59
{txt}{.-}

{com}. 
. // missing data
. gen logor2 = logor
{txt}
{com}. replace logor2 = . in 1
{txt}(1 real change made, 1 to missing)

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:59
{txt}
{com}. cap nois metan9 logor2 lcilogor ucilogor, label(namevar=id, yearid=year)                // exits with error
{txt}Effect size and confidence intervals invalid:
order should be {effect size, lower ci limit, upper ci limit}

{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:48:59
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:48:59
{txt}
{com}. metan  logor2 lcilogor ucilogor, label(namevar=id, yearid=year)                                 // excludes the study with missing logor, and prints warning message
{error}Note: 1 study with missing or insufficient data found;
{error} use the {bf:{help metan##options_main:keepall}} option to include this study in the {error}summary table{error} and forest plot

{txt}Studies included: {res}19
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}                       
(Year){col 23}{c |}   Effect   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.253{col 38} -0.297{col 48}  0.804{col 59}   6.90
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.104{col 38} -0.638{col 48}  0.845{col 59}   3.81
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.144{col 38} -0.518{col 48}  0.805{col 59}   4.78
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.303{col 38} -0.461{col 48}  1.066{col 59}   3.59
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.217{col 38} -0.356{col 48}  0.789{col 59}   6.39
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.776{col 38}  0.102{col 48}  1.450{col 59}   4.61
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.154{col 38} -1.666{col 48}  1.358{col 59}   0.92
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.441{col 38} -1.057{col 48}  0.175{col 59}   5.52
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.556{col 38} -0.972{col 48} -0.140{col 59}  12.08
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.383{col 38} -0.834{col 48}  1.600{col 59}   1.41
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.975{col 38}  0.210{col 48}  1.740{col 59}   3.58
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.126{col 38} -0.693{col 48}  0.945{col 59}   3.12
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.195{col 38} -0.271{col 48}  0.660{col 59}   9.66
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.295{col 38} -0.775{col 48}  0.186{col 59}   9.08
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.414{col 38} -0.434{col 48}  1.262{col 59}   2.91
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.165{col 38} -0.339{col 48}  0.669{col 59}   8.25
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.741{col 38} -0.066{col 48}  1.548{col 59}   3.21
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.151{col 38} -0.403{col 48}  0.705{col 59}   6.83
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.162{col 38} -0.628{col 48}  0.953{col 59}   3.35
{txt}{hline 22}{c +}{hline 46}
Overall, IV{col 23}{c |}{col 27}{res}  0.097{col 38} -0.047{col 48}  0.242{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.320{txt}  p = {res}0.187


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  28.31{col 40} 18{col 47}  0.058
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.254{col 37}  1.000{col 47}  1.629
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   36.4%{col 36}    0.0%{col 46}   62.3%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. metan  logor2 lcilogor ucilogor, label(namevar=id, yearid=year) keepall                 // shows the missing study in table (as "Insuff data") and prints appropriate message in header

{txt}Studies included: {res}19
{txt}  plus {res}1{txt} study with insufficient data
Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}                       
(Year){col 23}{c |}   Effect   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.253{col 38} -0.297{col 48}  0.804{col 59}   6.90
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.104{col 38} -0.638{col 48}  0.845{col 59}   3.81
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.144{col 38} -0.518{col 48}  0.805{col 59}   4.78
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.303{col 38} -0.461{col 48}  1.066{col 59}   3.59
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.217{col 38} -0.356{col 48}  0.789{col 59}   6.39
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.776{col 38}  0.102{col 48}  1.450{col 59}   4.61
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.154{col 38} -1.666{col 48}  1.358{col 59}   0.92
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.441{col 38} -1.057{col 48}  0.175{col 59}   5.52
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.556{col 38} -0.972{col 48} -0.140{col 59}  12.08
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.383{col 38} -0.834{col 48}  1.600{col 59}   1.41
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.975{col 38}  0.210{col 48}  1.740{col 59}   3.58
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.126{col 38} -0.693{col 48}  0.945{col 59}   3.12
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.195{col 38} -0.271{col 48}  0.660{col 59}   9.66
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.295{col 38} -0.775{col 48}  0.186{col 59}   9.08
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.414{col 38} -0.434{col 48}  1.262{col 59}   2.91
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.165{col 38} -0.339{col 48}  0.669{col 59}   8.25
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.741{col 38} -0.066{col 48}  1.548{col 59}   3.21
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.151{col 38} -0.403{col 48}  0.705{col 59}   6.83
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.162{col 38} -0.628{col 48}  0.953{col 59}   3.35
{txt}AHS 60-80 (1984){col 23}{c |}{col 26} (Insufficient data)
{hline 22}{c +}{hline 46}
Overall, IV{col 23}{c |}{col 27}{res}  0.097{col 38} -0.047{col 48}  0.242{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.320{txt}  p = {res}0.187


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  28.31{col 40} 18{col 47}  0.058
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.254{col 37}  1.000{col 47}  1.629
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   36.4%{col 36}    0.0%{col 46}   62.3%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:01
{txt}{.-}

{com}. 
. 
. 
. *** measure_and_model_options: fixed, random, fixedi, peto
. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:01
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) fixed    // M-H

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of RR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:02
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:02
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) fixed    // M-H

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:03
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:03
{txt}
{com}. metan9 tsample tmean tsd csample cmean csd, label(namevar=id, yearid=year) fixed        // I-V if not 2x2 cell counts

{txt}{col 12}Study{col 22}|{col 24}{col 28}SMD{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.292{col 35}  0.027     0.557{col 60}  6.82
{txt}Ohno (1988){col 22}|{res} -0.078{col 35} -0.350     0.195{col 60}  6.45
{txt}CA,USA 81-85 (1992){col 22}|{res}  0.008{col 35} -0.361     0.376{col 60}  3.52
{txt}Walker (1992){col 22}|{res} -0.066{col 35} -0.396     0.264{col 60}  4.39
{txt}Ghadirian (1996){col 22}|{res} -0.021{col 35} -0.402     0.360{col 60}  3.31
{txt}Ewings (1996){col 22}|{res} -0.254{col 35} -0.531     0.022{col 60}  6.28
{txt}Hayes (1996){col 22}|{res}  0.203{col 35} -0.128     0.534{col 60}  4.37
{txt}SWE 71-75 (1997){col 22}|{res} -0.136{col 35} -0.892     0.620{col 60}  0.84
{txt}Hartman (1998){col 22}|{res}  0.279{col 35} -0.028     0.587{col 60}  5.06
{txt}AHS (1998){col 22}|{res} -0.519{col 35} -0.728    -0.309{col 60} 10.92
{txt}Lee (1998){col 22}|{res}  0.528{col 35} -0.088     1.144{col 60}  1.26
{txt}Hsieh (1999){col 22}|{res}  0.048{col 35} -0.321     0.417{col 60}  3.52
{txt}ATBC (2001){col 22}|{res}  0.012{col 35} -0.394     0.419{col 60}  2.90
{txt}CARET (2003){col 22}|{res}  0.285{col 35}  0.052     0.518{col 60}  8.83
{txt}Lifespan study (2004{col 22}|{res}  0.091{col 35} -0.146     0.328{col 60}  8.54
{txt}Joseph (2004){col 22}|{res} -0.330{col 35} -0.753     0.093{col 60}  2.68
{txt}Friedenreich (2004){col 22}|{res}  0.024{col 35} -0.227     0.275{col 60}  7.61
{txt}Allen (2004){col 22}|{res}  0.106{col 35} -0.290     0.503{col 60}  3.05
{txt}Weinstein (2005){col 22}|{res}  0.155{col 35} -0.116     0.426{col 60}  6.53
{txt}King (2005){col 22}|{res}  0.011{col 35} -0.381     0.403{col 60}  3.12
{txt}---------------------+---------------------------------------------------
I-V pooled SMD{col 22}|{res}  0.009{col 35} -0.060     0.078{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 49.73{txt} (d.f. = {res}19{txt}) p = {res}0.000
{txt}  I-squared (variation in SMD attributable to heterogeneity) ={res}  61.8%

{txt}  Test of SMD=0 : z= {res}  0.26{txt} p = {res}0.795
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:04
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:04
{txt}
{com}. metan  tsample tmean tsd csample cmean csd, label(namevar=id, yearid=year) fixed        // I-V if not 2x2 cell counts

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Standardised Mean Differences
{txt}  by the method of {res}Cohen
{txt}using the {res}common-effect inverse-variance{txt} model

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}                       
(Year){col 23}{c |}     SMD    {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.292{col 38}  0.027{col 48}  0.557{col 59}   6.82
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res} -0.078{col 38} -0.350{col 48}  0.195{col 59}   6.45
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.008{col 38} -0.361{col 48}  0.376{col 59}   3.52
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res} -0.066{col 38} -0.396{col 48}  0.264{col 59}   4.39
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res} -0.021{col 38} -0.402{col 48}  0.360{col 59}   3.31
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res} -0.254{col 38} -0.531{col 48}  0.022{col 59}   6.28
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.203{col 38} -0.128{col 48}  0.534{col 59}   4.37
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.136{col 38} -0.892{col 48}  0.620{col 59}   0.84
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.279{col 38} -0.028{col 48}  0.587{col 59}   5.06
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.519{col 38} -0.728{col 48} -0.309{col 59}  10.92
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.528{col 38} -0.088{col 48}  1.144{col 59}   1.26
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.048{col 38} -0.321{col 48}  0.417{col 59}   3.52
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.012{col 38} -0.394{col 48}  0.419{col 59}   2.90
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.285{col 38}  0.052{col 48}  0.518{col 59}   8.83
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.091{col 38} -0.146{col 48}  0.328{col 59}   8.54
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.330{col 38} -0.753{col 48}  0.093{col 59}   2.68
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.024{col 38} -0.227{col 48}  0.275{col 59}   7.61
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.106{col 38} -0.290{col 48}  0.503{col 59}   3.05
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.155{col 38} -0.116{col 48}  0.426{col 59}   6.53
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.011{col 38} -0.381{col 48}  0.403{col 59}   3.12
{txt}{hline 22}{c +}{hline 46}
Overall, IV{col 23}{c |}{col 27}{res}  0.009{col 38} -0.060{col 48}  0.078{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.260{txt}  p = {res}0.795


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  49.73{col 40} 19{col 47}  0.000
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.618{col 37}  1.206{col 47}  2.014
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   61.8%{col 36}   31.2%{col 46}   75.4%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:05
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:05
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) random   // D-L

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}  6.64
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}  7.17
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}  3.83
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}  5.37
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  4.06
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}  8.08
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  4.53
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  1.29
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}  5.55
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60}  7.90
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  2.19
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  4.70
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}  3.21
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}  6.87
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}  6.24
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  3.19
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}  7.35
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  3.49
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}  4.97
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}  3.37
{txt}---------------------+---------------------------------------------------
D+L pooled RR{col 22}|{res}  1.052{col 35}  0.958     1.156{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%
{txt}  Estimate of between-study variance Tau-squared = {res} 0.0171

{txt}  Test of RR=1 : z= {res}  1.06{txt} p = {res}0.290
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:06
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:06
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) random   // D-L

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   6.65
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.17
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.82
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   5.37
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   4.06
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   8.08
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   4.53
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   1.29
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.55
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}   7.90
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   2.19
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   4.70
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   3.21
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   6.87
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   6.24
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   3.19
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   7.35
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   3.49
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   4.97
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   3.37
{txt}{hline 22}{c +}{hline 46}
Overall, DL{col 23}{c |}{col 27}{res}  1.052{col 38}  0.958{col 48}  1.156{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  1.058{txt}  p = {res}0.290


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.708
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   65.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 22}{c TT}{hline 13}
Method{col 23}{c |}{col 29}tau{c 178}
{hline 22}{c +}{hline 13}
DL{col 23}{c |}{col 26}{res}  0.0171
{txt}{hline 22}{c BT}{hline 13}
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:07
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:07
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) peto     // Peto

{txt}{col 12}Study{col 22}|{col 24}{col 28}OR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.615{col 35}  0.363     1.041{col 60}  6.91
{txt}Ohno (1988){col 22}|{res}  1.286{col 35}  0.743     2.226{col 60}  6.37
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.108{col 35}  0.530     2.318{col 60}  3.52
{txt}Walker (1992){col 22}|{res}  1.153{col 35}  0.597     2.228{col 60}  4.42
{txt}Ghadirian (1996){col 22}|{res}  1.349{col 35}  0.632     2.878{col 60}  3.33
{txt}Ewings (1996){col 22}|{res}  1.241{col 35}  0.701     2.194{col 60}  5.89
{txt}Hayes (1996){col 22}|{res}  2.141{col 35}  1.108     4.136{col 60}  4.42
{txt}SWE 71-75 (1997){col 22}|{res}  0.862{col 35}  0.196     3.797{col 60}  0.87
{txt}Hartman (1998){col 22}|{res}  0.646{col 35}  0.351     1.190{col 60}  5.14
{txt}AHS (1998){col 22}|{res}  0.576{col 35}  0.382     0.870{col 60} 11.31
{txt}Lee (1998){col 22}|{res}  1.452{col 35}  0.439     4.803{col 60}  1.34
{txt}Hsieh (1999){col 22}|{res}  2.582{col 35}  1.232     5.408{col 60}  3.50
{txt}ATBC (2001){col 22}|{res}  1.132{col 35}  0.502     2.557{col 60}  2.89
{txt}CARET (2003){col 22}|{res}  1.214{col 35}  0.763     1.931{col 60}  8.89
{txt}Lifespan study (2004{col 22}|{res}  0.746{col 35}  0.463     1.203{col 60}  8.39
{txt}Joseph (2004){col 22}|{res}  1.504{col 35}  0.650     3.478{col 60}  2.73
{txt}Friedenreich (2004){col 22}|{res}  1.178{col 35}  0.713     1.947{col 60}  7.60
{txt}Allen (2004){col 22}|{res}  2.065{col 35}  0.938     4.549{col 60}  3.07
{txt}Weinstein (2005){col 22}|{res}  1.162{col 35}  0.669     2.018{col 60}  6.29
{txt}King (2005){col 22}|{res}  1.174{col 35}  0.535     2.577{col 60}  3.10
{txt}---------------------+---------------------------------------------------
Peto pooled OR{col 22}|{res}  1.059{col 35}  0.922     1.216{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 32.76{txt} (d.f. = {res}19{txt}) p = {res}0.026
{txt}  I-squared (variation in OR attributable to heterogeneity) ={res}  42.0%

{txt}  Test of OR=1 : z= {res}  0.81{txt} p = {res}0.417
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:08
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:08
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) peto     // Peto
{error}Note: Peto method specified; odds ratios assumed

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Peto Odds Ratios

{txt}{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Odds               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.615{col 38}  0.363{col 48}  1.041{col 59}   6.91
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.286{col 38}  0.743{col 48}  2.226{col 59}   6.37
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.108{col 38}  0.530{col 48}  2.318{col 59}   3.52
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.153{col 38}  0.597{col 48}  2.228{col 59}   4.42
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.349{col 38}  0.632{col 48}  2.878{col 59}   3.33
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.241{col 38}  0.701{col 48}  2.194{col 59}   5.89
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  2.141{col 38}  1.108{col 48}  4.136{col 59}   4.42
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.862{col 38}  0.196{col 48}  3.797{col 59}   0.87
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.646{col 38}  0.351{col 48}  1.190{col 59}   5.14
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.576{col 38}  0.382{col 48}  0.870{col 59}  11.31
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.452{col 38}  0.439{col 48}  4.803{col 59}   1.34
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  2.582{col 38}  1.232{col 48}  5.408{col 59}   3.50
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.132{col 38}  0.502{col 48}  2.557{col 59}   2.89
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.214{col 38}  0.763{col 48}  1.931{col 59}   8.89
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.746{col 38}  0.463{col 48}  1.203{col 59}   8.39
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.504{col 38}  0.650{col 48}  3.478{col 59}   2.73
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.178{col 38}  0.713{col 48}  1.947{col 59}   7.60
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  2.065{col 38}  0.938{col 48}  4.549{col 59}   3.07
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.162{col 38}  0.669{col 48}  2.018{col 59}   6.29
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.174{col 38}  0.535{col 48}  2.577{col 59}   3.10
{txt}{hline 22}{c +}{hline 46}
Overall, Peto{col 23}{c |}{col 27}{res}  1.059{col 38}  0.922{col 48}  1.216{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}chi{c 178}{txt} = {res}  0.66{txt} on {res}1{txt} df,  p = {res}0.417


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Peto Q{col 23}{c |}{col 27}{res}  32.76{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.313{col 37}  1.000{col 47}  1.686
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   42.0%{col 36}    0.0%{col 46}   64.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Peto Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:09
{txt}{.-}

{com}. 
. // correctly exits with error if combined with non-2x2 count data
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:09
{txt}
{com}. cap nois metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) peto
{err}Option not available without raw data counts
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:09
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:09
{txt}
{com}. cap nois metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) peto
{err}Option {bf:peto} is not appropriate without 2x2 count data
Error in {bf:metan.ProcessData}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:09
{txt}{.-}

{com}. 
. 
. 
. *** measure_and_model_options: cornfield, chi2, breslow 
. // Note: check that both -metan- and -metan9- derive I-squared from Breslow statistic if appropriate
. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:09
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) cornfield       // exits with error as cornfield only valid with OR
{err}option {bf:cornfield} not allowed
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) cornfield or

{txt}{col 12}Study{col 22}|{col 24}{col 28}OR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.612{col 35}  0.360     1.040{col 60}  8.88
{txt}Ohno (1988){col 22}|{res}  1.288{col 35}  0.744     2.231{col 60}  5.71
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.109{col 35}  0.531     2.318{col 60}  3.39
{txt}Walker (1992){col 22}|{res}  1.155{col 35}  0.598     2.230{col 60}  4.18
{txt}Ghadirian (1996){col 22}|{res}  1.353{col 35}  0.633     2.892{col 60}  2.89
{txt}Ewings (1996){col 22}|{res}  1.242{col 35}  0.702     2.197{col 60}  5.38
{txt}Hayes (1996){col 22}|{res}  2.173{col 35}  1.111     4.248{col 60}  2.94
{txt}SWE 71-75 (1997){col 22}|{res}  0.857{col 35}  0.196     3.758{col 60}  0.93
{txt}Hartman (1998){col 22}|{res}  0.643{col 35}  0.348     1.188{col 60}  6.45
{txt}AHS (1998){col 22}|{res}  0.573{col 35}  0.378     0.869{col 60} 14.98
{txt}Lee (1998){col 22}|{res}  1.467{col 35}  0.442     4.862{col 60}  1.10
{txt}Hsieh (1999){col 22}|{res}  2.651{col 35}  1.240     5.668{col 60}  2.06
{txt}ATBC (2001){col 22}|{res}  1.134{col 35}  0.503     2.557{col 60}  2.75
{txt}CARET (2003){col 22}|{res}  1.215{col 35}  0.764     1.934{col 60}  8.22
{txt}Lifespan study (2004{col 22}|{res}  0.745{col 35}  0.461     1.202{col 60}  9.87
{txt}Joseph (2004){col 22}|{res}  1.513{col 35}  0.652     3.510{col 60}  2.22
{txt}Friedenreich (2004){col 22}|{res}  1.179{col 35}  0.714     1.949{col 60}  7.13
{txt}Allen (2004){col 22}|{res}  2.098{col 35}  0.941     4.676{col 60}  2.08
{txt}Weinstein (2005){col 22}|{res}  1.163{col 35}  0.670     2.019{col 60}  5.94
{txt}King (2005){col 22}|{res}  1.176{col 35}  0.537     2.579{col 60}  2.90
{txt}---------------------+---------------------------------------------------
M-H pooled OR{col 22}|{res}  1.059{col 35}  0.922     1.216{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 32.69{txt} (d.f. = {res}19{txt}) p = {res}0.026
{txt}  I-squared (variation in OR attributable to heterogeneity) ={res}  41.9%

{txt}  Test of OR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:10
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:10
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) cornfield                        // *assumes* OR and runs accordingly, rather than exiting with error
{error}Note: Cornfield-type confidence intervals specified; odds ratios assumed

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Odds Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Odds               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.612{col 38}  0.360{col 48}  1.040{col 59}   8.88
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.288{col 38}  0.744{col 48}  2.231{col 59}   5.71
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.109{col 38}  0.531{col 48}  2.318{col 59}   3.39
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.155{col 38}  0.598{col 48}  2.230{col 59}   4.18
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.353{col 38}  0.633{col 48}  2.892{col 59}   2.89
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.242{col 38}  0.702{col 48}  2.197{col 59}   5.38
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  2.173{col 38}  1.111{col 48}  4.248{col 59}   2.94
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.857{col 38}  0.196{col 48}  3.758{col 59}   0.93
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.643{col 38}  0.348{col 48}  1.188{col 59}   6.45
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.573{col 38}  0.378{col 48}  0.869{col 59}  14.98
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.467{col 38}  0.442{col 48}  4.862{col 59}   1.10
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  2.651{col 38}  1.240{col 48}  5.668{col 59}   2.06
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.134{col 38}  0.503{col 48}  2.557{col 59}   2.75
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.215{col 38}  0.764{col 48}  1.934{col 59}   8.22
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.745{col 38}  0.461{col 48}  1.202{col 59}   9.87
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.513{col 38}  0.652{col 48}  3.510{col 59}   2.22
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.179{col 38}  0.714{col 48}  1.949{col 59}   7.13
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  2.098{col 38}  0.941{col 48}  4.676{col 59}   2.08
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.163{col 38}  0.670{col 48}  2.019{col 59}   5.94
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.176{col 38}  0.537{col 48}  2.579{col 59}   2.90
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.059{col 38}  0.922{col 48}  1.216{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  32.69{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.684
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   64.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3                                                                                                                                                            // (and prints a message about the OR assumption)
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:11
{txt}{.-}

{com}. 
. // correctly exits with error if combined with non-odds ratio and 2x2 data
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:11
{txt}
{com}. cap nois metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) cornfield
{err}Option not available without raw data counts
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:11
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:11
{txt}
{com}. cap nois metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) cornfield or
{err}Option {bf:cornfield} is not appropriate without 2x2 count data
Error in {bf:metan.ProcessData}
{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) cornfield rr
{err}Option {bf:cornfield} is only compatible with odds ratios
Error in {bf:metan.ProcessData}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:11
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:11
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) chi2            // exits with error as chi2 only valid with OR
{err}Chi-squared option invalid for M-H RR
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) chi2 or

{txt}{col 12}Study{col 22}|{col 24}{col 28}OR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.612{col 35}  0.360     1.041{col 60}  8.88
{txt}Ohno (1988){col 22}|{res}  1.288{col 35}  0.743     2.235{col 60}  5.71
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.109{col 35}  0.529     2.328{col 60}  3.39
{txt}Walker (1992){col 22}|{res}  1.155{col 35}  0.596     2.237{col 60}  4.18
{txt}Ghadirian (1996){col 22}|{res}  1.353{col 35}  0.631     2.905{col 60}  2.89
{txt}Ewings (1996){col 22}|{res}  1.242{col 35}  0.701     2.202{col 60}  5.38
{txt}Hayes (1996){col 22}|{res}  2.173{col 35}  1.108     4.261{col 60}  2.94
{txt}SWE 71-75 (1997){col 22}|{res}  0.857{col 35}  0.189     3.888{col 60}  0.93
{txt}Hartman (1998){col 22}|{res}  0.643{col 35}  0.348     1.191{col 60}  6.45
{txt}AHS (1998){col 22}|{res}  0.573{col 35}  0.378     0.869{col 60} 14.98
{txt}Lee (1998){col 22}|{res}  1.467{col 35}  0.434     4.951{col 60}  1.10
{txt}Hsieh (1999){col 22}|{res}  2.651{col 35}  1.234     5.696{col 60}  2.06
{txt}ATBC (2001){col 22}|{res}  1.134{col 35}  0.500     2.572{col 60}  2.75
{txt}CARET (2003){col 22}|{res}  1.215{col 35}  0.763     1.936{col 60}  8.22
{txt}Lifespan study (2004{col 22}|{res}  0.745{col 35}  0.461     1.204{col 60}  9.87
{txt}Joseph (2004){col 22}|{res}  1.513{col 35}  0.648     3.533{col 60}  2.22
{txt}Friedenreich (2004){col 22}|{res}  1.179{col 35}  0.713     1.952{col 60}  7.13
{txt}Allen (2004){col 22}|{res}  2.098{col 35}  0.936     4.702{col 60}  2.08
{txt}Weinstein (2005){col 22}|{res}  1.163{col 35}  0.669     2.023{col 60}  5.94
{txt}King (2005){col 22}|{res}  1.176{col 35}  0.534     2.593{col 60}  2.90
{txt}---------------------+---------------------------------------------------
M-H pooled OR{col 22}|{res}  1.059{col 35}  0.922     1.216{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 32.69{txt} (d.f. = {res}19{txt}) p = {res}0.026
{txt}  I-squared (variation in OR attributable to heterogeneity) ={res}  41.9%

{txt}  Test of OR=1: chi-squared = {res}0.66{txt} (d.f. = 1) p = {res}0.417
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:12
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:12
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) chi2                                     // *assumes* OR and runs accordingly, rather than exiting with error
{error}Note: Chi-squared option specified; odds ratios assumed

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Odds Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Odds               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.612{col 38}  0.360{col 48}  1.041{col 59}   8.88
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.288{col 38}  0.743{col 48}  2.235{col 59}   5.71
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.109{col 38}  0.529{col 48}  2.328{col 59}   3.39
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.155{col 38}  0.596{col 48}  2.237{col 59}   4.18
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.353{col 38}  0.631{col 48}  2.905{col 59}   2.89
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.242{col 38}  0.701{col 48}  2.202{col 59}   5.38
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  2.173{col 38}  1.108{col 48}  4.261{col 59}   2.94
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.857{col 38}  0.189{col 48}  3.888{col 59}   0.93
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.643{col 38}  0.348{col 48}  1.191{col 59}   6.45
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.573{col 38}  0.378{col 48}  0.869{col 59}  14.98
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.467{col 38}  0.434{col 48}  4.951{col 59}   1.10
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  2.651{col 38}  1.234{col 48}  5.696{col 59}   2.06
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.134{col 38}  0.500{col 48}  2.572{col 59}   2.75
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.215{col 38}  0.763{col 48}  1.936{col 59}   8.22
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.745{col 38}  0.461{col 48}  1.204{col 59}   9.87
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.513{col 38}  0.648{col 48}  3.533{col 59}   2.22
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.179{col 38}  0.713{col 48}  1.952{col 59}   7.13
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  2.098{col 38}  0.936{col 48}  4.702{col 59}   2.08
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.163{col 38}  0.669{col 48}  2.023{col 59}   5.94
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.176{col 38}  0.534{col 48}  2.593{col 59}   2.90
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.059{col 38}  0.922{col 48}  1.216{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}CMH chi{c 178}{txt} = {res}  0.66{txt} on {res}1{txt} df,  p = {res}0.417


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  32.69{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.684
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   64.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3                                                                                                                                                            // (and prints a message about the OR assumption)
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:13
{txt}{.-}

{com}. 
. // correctly exits with error if combined with non-odds ratio and 2x2 data
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:13
{txt}
{com}. cap nois metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) chi2
{err}Option not available without raw data counts
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:13
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:13
{txt}
{com}. cap nois metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) chi2 or
{err}Option {bf:chi2} is incompatible with other options
Error in {bf:metan.ParseModel}
{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) chi2 rr
{err}Option {bf:chi2} is only compatible with odds ratios
Error in {bf:metan.ProcessData}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:13
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:13
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) breslow         // exits with error as breslow only valid with OR
{err}Breslow-Day heterogeneity option not available for M-H RR
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) breslow or

{txt}{col 12}Study{col 22}|{col 24}{col 28}OR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.612{col 35}  0.360     1.041{col 60}  8.88
{txt}Ohno (1988){col 22}|{res}  1.288{col 35}  0.743     2.235{col 60}  5.71
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.109{col 35}  0.529     2.328{col 60}  3.39
{txt}Walker (1992){col 22}|{res}  1.155{col 35}  0.596     2.237{col 60}  4.18
{txt}Ghadirian (1996){col 22}|{res}  1.353{col 35}  0.631     2.905{col 60}  2.89
{txt}Ewings (1996){col 22}|{res}  1.242{col 35}  0.701     2.202{col 60}  5.38
{txt}Hayes (1996){col 22}|{res}  2.173{col 35}  1.108     4.261{col 60}  2.94
{txt}SWE 71-75 (1997){col 22}|{res}  0.857{col 35}  0.189     3.888{col 60}  0.93
{txt}Hartman (1998){col 22}|{res}  0.643{col 35}  0.348     1.191{col 60}  6.45
{txt}AHS (1998){col 22}|{res}  0.573{col 35}  0.378     0.869{col 60} 14.98
{txt}Lee (1998){col 22}|{res}  1.467{col 35}  0.434     4.951{col 60}  1.10
{txt}Hsieh (1999){col 22}|{res}  2.651{col 35}  1.234     5.696{col 60}  2.06
{txt}ATBC (2001){col 22}|{res}  1.134{col 35}  0.500     2.572{col 60}  2.75
{txt}CARET (2003){col 22}|{res}  1.215{col 35}  0.763     1.936{col 60}  8.22
{txt}Lifespan study (2004{col 22}|{res}  0.745{col 35}  0.461     1.204{col 60}  9.87
{txt}Joseph (2004){col 22}|{res}  1.513{col 35}  0.648     3.533{col 60}  2.22
{txt}Friedenreich (2004){col 22}|{res}  1.179{col 35}  0.713     1.952{col 60}  7.13
{txt}Allen (2004){col 22}|{res}  2.098{col 35}  0.936     4.702{col 60}  2.08
{txt}Weinstein (2005){col 22}|{res}  1.163{col 35}  0.669     2.023{col 60}  5.94
{txt}King (2005){col 22}|{res}  1.176{col 35}  0.534     2.593{col 60}  2.90
{txt}---------------------+---------------------------------------------------
M-H pooled OR{col 22}|{res}  1.059{col 35}  0.922     1.216{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 32.98{txt} (d.f. = {res}19{txt}) p = {res}0.024
{txt}  I-squared (variation in OR attributable to heterogeneity) ={res}  42.4%

{txt}  Test of OR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:14
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:14
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) breslow                          // *assumes* OR and runs accordingly, rather than exiting with error
{error}Breslow-Day homogeneity test specified; odds ratios assumed

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Odds Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Odds               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.612{col 38}  0.360{col 48}  1.041{col 59}   8.88
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.288{col 38}  0.743{col 48}  2.235{col 59}   5.71
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.109{col 38}  0.529{col 48}  2.328{col 59}   3.39
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.155{col 38}  0.596{col 48}  2.237{col 59}   4.18
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.353{col 38}  0.631{col 48}  2.905{col 59}   2.89
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.242{col 38}  0.701{col 48}  2.202{col 59}   5.38
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  2.173{col 38}  1.108{col 48}  4.261{col 59}   2.94
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.857{col 38}  0.189{col 48}  3.888{col 59}   0.93
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.643{col 38}  0.348{col 48}  1.191{col 59}   6.45
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.573{col 38}  0.378{col 48}  0.869{col 59}  14.98
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.467{col 38}  0.434{col 48}  4.951{col 59}   1.10
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  2.651{col 38}  1.234{col 48}  5.696{col 59}   2.06
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.134{col 38}  0.500{col 48}  2.572{col 59}   2.75
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.215{col 38}  0.763{col 48}  1.936{col 59}   8.22
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.745{col 38}  0.461{col 48}  1.204{col 59}   9.87
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.513{col 38}  0.648{col 48}  3.533{col 59}   2.22
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.179{col 38}  0.713{col 48}  1.952{col 59}   7.13
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  2.098{col 38}  0.936{col 48}  4.702{col 59}   2.08
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.163{col 38}  0.669{col 48}  2.023{col 59}   5.94
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.176{col 38}  0.534{col 48}  2.593{col 59}   2.90
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.059{col 38}  0.922{col 48}  1.216{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Breslow-Day test{col 23}{c |}{col 27}{res}  32.98{col 40} 19{col 47}  0.024
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.317{col 37}  1.000{col 47}  1.691
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   42.4%{col 36}    0.0%{col 46}   65.0%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Breslow-Day statistic over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3                                                                                                                                                            // (and prints a message about the OR assumption)
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:15
{txt}{.-}

{com}. 
. // correctly exits with error if combined with non-odds ratio and 2x2 data
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:15
{txt}
{com}. cap nois metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) breslow
{err}Option not available without raw data counts
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:15
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:15
{txt}
{com}. cap nois metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) breslow or
{err}Option {bf:breslow} is not appropriate without 2x2 count data
Error in {bf:metan.ProcessData}
{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) breslow rr
{err}Option {bf:breslow} is only compatible with odds ratios
Error in {bf:metan.ProcessData}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:15
{txt}{.-}

{com}. 
. 
. 
. *** measure_and_model_options: nointeger, cc(#)
. gen cdeath2 = cdeath + 0.5
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:15
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year)
{err}Non integer cell counts found
{txt}
{com}. metan9 tdeath tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year) nointeger

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.786{col 35}  0.607     1.018{col 60}  8.07
{txt}Ohno (1988){col 22}|{res}  1.112{col 35}  0.875     1.412{col 60}  7.01
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.047{col 35}  0.699     1.568{col 60}  3.17
{txt}Walker (1992){col 22}|{res}  1.063{col 35}  0.778     1.454{col 60}  4.55
{txt}Ghadirian (1996){col 22}|{res}  1.154{col 35}  0.783     1.699{col 60}  3.07
{txt}Ewings (1996){col 22}|{res}  1.079{col 35}  0.876     1.329{col 60}  7.84
{txt}Hayes (1996){col 22}|{res}  1.486{col 35}  1.040     2.122{col 60}  3.43
{txt}SWE 71-75 (1997){col 22}|{res}  0.892{col 35}  0.413     1.926{col 60}  0.89
{txt}Hartman (1998){col 22}|{res}  0.801{col 35}  0.590     1.086{col 60}  5.84
{txt}AHS (1998){col 22}|{res}  0.751{col 35}  0.606     0.930{col 60} 12.77
{txt}Lee (1998){col 22}|{res}  1.170{col 35}  0.662     2.068{col 60}  1.31
{txt}Hsieh (1999){col 22}|{res}  1.523{col 35}  1.077     2.153{col 60}  3.15
{txt}ATBC (2001){col 22}|{res}  1.058{col 35}  0.672     1.665{col 60}  2.54
{txt}CARET (2003){col 22}|{res}  1.106{col 35}  0.861     1.420{col 60}  7.93
{txt}Lifespan study (2004{col 22}|{res}  0.841{col 35}  0.639     1.107{col 60}  8.04
{txt}Joseph (2004){col 22}|{res}  1.231{col 35}  0.781     1.939{col 60}  2.29
{txt}Friedenreich (2004){col 22}|{res}  1.075{col 35}  0.852     1.357{col 60}  7.98
{txt}Allen (2004){col 22}|{res}  1.457{col 35}  0.950     2.235{col 60}  2.39
{txt}Weinstein (2005){col 22}|{res}  1.087{col 35}  0.779     1.518{col 60}  5.04
{txt}King (2005){col 22}|{res}  1.080{col 35}  0.696     1.676{col 60}  2.69
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.023{col 35}  0.954     1.096{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.20{txt} (d.f. = {res}19{txt}) p = {res}0.038
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  39.1%

{txt}  Test of RR=1 : z= {res}  0.63{txt} p = {res}0.527
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:16
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:16
{txt}
{com}. cap nois metan tdeath tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year)
{err}Non-integer cell counts found; use the {bf:nointeger} option if appropriate
Error in {bf:metan.ProcessData}
{txt}
{com}. metan tdeath tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year) nointeger

{txt}Studies included: {res}20
{txt}Participants included: {res}3242

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.786{col 38}  0.607{col 48}  1.018{col 59}   8.07
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.112{col 38}  0.875{col 48}  1.412{col 59}   7.01
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.047{col 38}  0.699{col 48}  1.568{col 59}   3.17
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.063{col 38}  0.778{col 48}  1.454{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.154{col 38}  0.783{col 48}  1.699{col 59}   3.07
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.876{col 48}  1.329{col 59}   7.84
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.486{col 38}  1.040{col 48}  2.122{col 59}   3.43
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.892{col 38}  0.413{col 48}  1.926{col 59}   0.89
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.801{col 38}  0.590{col 48}  1.086{col 59}   5.84
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.751{col 38}  0.606{col 48}  0.930{col 59}  12.77
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.170{col 38}  0.662{col 48}  2.068{col 59}   1.31
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.523{col 38}  1.077{col 48}  2.153{col 59}   3.15
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.058{col 38}  0.672{col 48}  1.665{col 59}   2.54
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.106{col 38}  0.861{col 48}  1.420{col 59}   7.93
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.841{col 38}  0.639{col 48}  1.107{col 59}   8.04
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.231{col 38}  0.781{col 48}  1.939{col 59}   2.29
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.075{col 38}  0.852{col 48}  1.357{col 59}   7.98
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.457{col 38}  0.950{col 48}  2.235{col 59}   2.39
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.087{col 38}  0.779{col 48}  1.518{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.080{col 38}  0.696{col 48}  1.676{col 59}   2.69
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.023{col 38}  0.954{col 48}  1.096{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.632{txt}  p = {res}0.527


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.20{col 40} 19{col 47}  0.038
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.281{col 37}  1.000{col 47}  1.650
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   39.1%{col 36}    0.0%{col 46}   63.3%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:17
{txt}{.-}

{com}. 
. cap drop cdeath2
{txt}
{com}. gen cdeath2 = cdeath
{txt}
{com}. replace cdeath2 = 0 if type_study=="1: Cohort Studies"
{txt}(10 real changes made)

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:17
{txt}
{com}. metan9 tdeath tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year)                 // uses corrected M-H

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res} 43.676{col 35}  2.751   693.418{col 60}  0.20
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60} 16.05
{txt}CA,USA 81-85 (1992){col 22}|{res} 30.684{col 35}  1.933   487.135{col 60}  0.18
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60} 10.38
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  6.97
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60} 17.98
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  7.79
{txt}SWE 71-75 (1997){col 22}|{res}  7.429{col 35}  0.479   115.293{col 60}  0.18
{txt}Hartman (1998){col 22}|{res} 33.434{col 35}  2.109   529.939{col 60}  0.20
{txt}AHS (1998){col 22}|{res} 68.093{col 35}  4.273   1085.051{col 60}  0.20
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  2.90
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  7.16
{txt}ATBC (2001){col 22}|{res} 25.617{col 35}  1.614   406.585{col 60}  0.18
{txt}CARET (2003){col 22}|{res} 79.706{col 35}  5.002   1270.071{col 60}  0.18
{txt}Lifespan study (2004{col 22}|{res} 58.029{col 35}  3.636   926.220{col 60}  0.19
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  5.17
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60} 18.30
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  5.41
{txt}Weinstein (2005){col 22}|{res} 55.514{col 35}  3.476   886.637{col 60}  0.18
{txt}King (2005){col 22}|{res} 27.647{col 35}  1.742   438.833{col 60}  0.18
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.986{col 35}  1.783     2.212{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res}160.17{txt} (d.f. = {res}19{txt}) p = {res}0.000
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  88.1%

{txt}  Test of RR=1 : z= {res} 12.49{txt} p = {res}0.000
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:19
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:19
{txt}
{com}. metan  tdeath tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year)                 // uses *un* corrected M-H by default

{txt}Studies included: {res}20
{txt}Participants included: {res}2782

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

Continuity correction of {res}0.5{txt} applied to studies with zero cells
 for inclusion in summary table and forest plot (marked with {res}*{txt})
Mantel-Haenszel pooled effect is estimated from {res}uncorrected{txt} counts

{hline 24}{c TT}{hline 46}
Study identifier{col 25}{c |}    Risk               
(Year){col 25}{c |}    ratio   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
AHS 60-80 (1984){res} *{txt}{col 25}{c |}{col 29}{res} 43.676{col 40}  2.751{col 50}693.418{col 61}   0.00
{txt}Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.878{col 50}  1.419{col 61}  16.36
{txt}CA,USA 81-85 (1992){res} *{txt}{col 25}{c |}{col 29}{res} 30.684{col 40}  1.933{col 50}487.135{col 61}   0.00
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.782{col 50}  1.466{col 61}  10.58
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.790{col 50}  1.724{col 61}   7.11
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.878{col 50}  1.334{col 61}  18.33
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.049{col 50}  2.153{col 61}   7.94
{txt}SWE 71-75 (1997){res} *{txt}{col 25}{c |}{col 29}{res}  7.429{col 40}  0.479{col 50}115.293{col 61}   0.00
{txt}Hartman (1998){res} *{txt}{col 25}{c |}{col 29}{res} 33.434{col 40}  2.109{col 50}529.939{col 61}   0.00
{txt}AHS (1998){res} *{txt}{col 25}{c |}{col 29}{res} 68.093{col 40}  4.273{col 50}1085.051{col 61}   0.00
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.671{col 50}  2.147{col 61}   2.96
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.086{col 50}  2.187{col 61}   7.29
{txt}ATBC (2001){res} *{txt}{col 25}{c |}{col 29}{res} 25.617{col 40}  1.614{col 50}406.585{col 61}   0.00
{txt}CARET (2003){res} *{txt}{col 25}{c |}{col 29}{res} 79.706{col 40}  5.002{col 50}1270.071{col 61}   0.00
{txt}Lifespan study (2004){res} *{txt}{col 25}{c |}{col 29}{res} 58.029{col 40}  3.636{col 50}926.220{col 61}   0.00
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.790{col 50}  1.981{col 61}   5.27
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.855{col 50}  1.363{col 61}  18.65
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  0.960{col 50}  2.283{col 61}   5.51
{txt}Weinstein (2005){res} *{txt}{col 25}{c |}{col 29}{res} 55.514{col 40}  3.476{col 50}886.637{col 61}   0.00
{txt}King (2005){res} *{txt}{col 25}{c |}{col 29}{res} 27.647{col 40}  1.742{col 50}438.833{col 61}   0.00
{txt}{hline 24}{c +}{hline 46}
Overall, MH{col 25}{c |}{col 29}{res}  2.009{col 40}  1.802{col 50}  2.240{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} 12.564{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 24}{c TT}{hline 35}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value
{hline 24}{c +}{hline 35}
Mantel-Haenszel Q{col 25}{c |}{col 29}{res} 164.63{col 42} 19{col 49}  0.000
{txt}{col 25}{c |}{col 38}{hline 1}[95% Conf. Interval]{hline 1}
H {col 25}{c |}{col 29}{res}  2.944{col 39}  2.499{col 49}  3.373
{txt}I{c 178} (%) {col 25}{c |}{col 28}{res}   88.5%{col 38}   84.0%{col 48}   91.2%
{txt}{hline 24}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. metan  tdeath tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year) cc(0.5) // recovers -metan9- results

{txt}Studies included: {res}20
{txt}Participants included: {res}2782

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

Continuity correction of {res}0.5{txt} applied to studies with zero cells
 (marked with {res}*{txt})
Mantel-Haenszel pooled effect is estimated from {res}corrected{txt} counts

{hline 24}{c TT}{hline 46}
Study identifier{col 25}{c |}    Risk               
(Year){col 25}{c |}    ratio   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
AHS 60-80 (1984){res} *{txt}{col 25}{c |}{col 29}{res} 43.676{col 40}  2.751{col 50}693.418{col 61}   0.20
{txt}Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.878{col 50}  1.419{col 61}  16.05
{txt}CA,USA 81-85 (1992){res} *{txt}{col 25}{c |}{col 29}{res} 30.684{col 40}  1.933{col 50}487.135{col 61}   0.18
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.782{col 50}  1.466{col 61}  10.38
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.790{col 50}  1.724{col 61}   6.97
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.878{col 50}  1.334{col 61}  17.98
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.049{col 50}  2.153{col 61}   7.79
{txt}SWE 71-75 (1997){res} *{txt}{col 25}{c |}{col 29}{res}  7.429{col 40}  0.479{col 50}115.293{col 61}   0.18
{txt}Hartman (1998){res} *{txt}{col 25}{c |}{col 29}{res} 33.434{col 40}  2.109{col 50}529.939{col 61}   0.20
{txt}AHS (1998){res} *{txt}{col 25}{c |}{col 29}{res} 68.093{col 40}  4.273{col 50}1085.051{col 61}   0.20
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.671{col 50}  2.147{col 61}   2.90
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.086{col 50}  2.187{col 61}   7.16
{txt}ATBC (2001){res} *{txt}{col 25}{c |}{col 29}{res} 25.617{col 40}  1.614{col 50}406.585{col 61}   0.18
{txt}CARET (2003){res} *{txt}{col 25}{c |}{col 29}{res} 79.706{col 40}  5.002{col 50}1270.071{col 61}   0.18
{txt}Lifespan study (2004){res} *{txt}{col 25}{c |}{col 29}{res} 58.029{col 40}  3.636{col 50}926.220{col 61}   0.19
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.790{col 50}  1.981{col 61}   5.17
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.855{col 50}  1.363{col 61}  18.30
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  0.960{col 50}  2.283{col 61}   5.41
{txt}Weinstein (2005){res} *{txt}{col 25}{c |}{col 29}{res} 55.514{col 40}  3.476{col 50}886.637{col 61}   0.18
{txt}King (2005){res} *{txt}{col 25}{c |}{col 29}{res} 27.647{col 40}  1.742{col 50}438.833{col 61}   0.18
{txt}{hline 24}{c +}{hline 46}
Overall, MH{col 25}{c |}{col 29}{res}  1.986{col 40}  1.783{col 50}  2.212{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} 12.488{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 24}{c TT}{hline 35}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value
{hline 24}{c +}{hline 35}
Mantel-Haenszel Q{col 25}{c |}{col 29}{res} 160.17{col 42} 19{col 49}  0.000
{txt}{col 25}{c |}{col 38}{hline 1}[95% Conf. Interval]{hline 1}
H {col 25}{c |}{col 29}{res}  2.903{col 39}  2.459{col 49}  3.332
{txt}I{c 178} (%) {col 25}{c |}{col 28}{res}   88.1%{col 38}   83.5%{col 48}   91.0%
{txt}{hline 24}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:21
{txt}{.-}

{com}. 
. cap drop tdeath2
{txt}
{com}. gen tdeath2 = tdeath
{txt}
{com}. replace tdeath2 = 0 in 1
{txt}(1 real change made)

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:21
{txt}
{com}. metan9 tdeath2 tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year)                        // uses corrected M-H; automatically displays the "double zero" study (as "Excluded")

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60} 16.09
{txt}CA,USA 81-85 (1992){col 22}|{res} 30.684{col 35}  1.933   487.135{col 60}  0.18
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60} 10.40
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  6.99
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60} 18.02
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  7.80
{txt}SWE 71-75 (1997){col 22}|{res}  7.429{col 35}  0.479   115.293{col 60}  0.19
{txt}Hartman (1998){col 22}|{res} 33.434{col 35}  2.109   529.939{col 60}  0.20
{txt}AHS (1998){col 22}|{res} 68.093{col 35}  4.273   1085.051{col 60}  0.20
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  2.91
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  7.17
{txt}ATBC (2001){col 22}|{res} 25.617{col 35}  1.614   406.585{col 60}  0.18
{txt}CARET (2003){col 22}|{res} 79.706{col 35}  5.002   1270.071{col 60}  0.18
{txt}Lifespan study (2004{col 22}|{res} 58.029{col 35}  3.636   926.220{col 60}  0.19
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  5.18
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60} 18.34
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  5.42
{txt}Weinstein (2005){col 22}|{res} 55.514{col 35}  3.476   886.637{col 60}  0.18
{txt}King (2005){col 22}|{res} 27.647{col 35}  1.742   438.833{col 60}  0.18
{txt}AHS 60-80 (1984){col 22}|  (Excluded)
---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.902{col 35}  1.709     2.116{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res}139.10{txt} (d.f. = {res}18{txt}) p = {res}0.000
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  87.1%

{txt}  Test of RR=1 : z= {res} 11.78{txt} p = {res}0.000
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:22
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:22
{txt}
{com}. metan  tdeath2 tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year)                        // uses *un* corrected M-H by default; prints warning message about "double zero" study
{error}Note: 1 study with missing or insufficient data found;
{error} use the {bf:{help metan##options_main:keepall}} option to include this study in the {error}summary table{error} and forest plot

{txt}Studies included: {res}19
{txt}Participants included: {res}2625

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

Continuity correction of {res}0.5{txt} applied to studies with zero cells
 for inclusion in summary table and forest plot (marked with {res}*{txt})
Mantel-Haenszel pooled effect is estimated from {res}uncorrected{txt} counts

{hline 24}{c TT}{hline 46}
Study identifier{col 25}{c |}    Risk               
(Year){col 25}{c |}    ratio   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.878{col 50}  1.419{col 61}  16.36
{txt}CA,USA 81-85 (1992){res} *{txt}{col 25}{c |}{col 29}{res} 30.684{col 40}  1.933{col 50}487.135{col 61}   0.00
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.782{col 50}  1.466{col 61}  10.58
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.790{col 50}  1.724{col 61}   7.11
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.878{col 50}  1.334{col 61}  18.33
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.049{col 50}  2.153{col 61}   7.94
{txt}SWE 71-75 (1997){res} *{txt}{col 25}{c |}{col 29}{res}  7.429{col 40}  0.479{col 50}115.293{col 61}   0.00
{txt}Hartman (1998){res} *{txt}{col 25}{c |}{col 29}{res} 33.434{col 40}  2.109{col 50}529.939{col 61}   0.00
{txt}AHS (1998){res} *{txt}{col 25}{c |}{col 29}{res} 68.093{col 40}  4.273{col 50}1085.051{col 61}   0.00
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.671{col 50}  2.147{col 61}   2.96
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.086{col 50}  2.187{col 61}   7.29
{txt}ATBC (2001){res} *{txt}{col 25}{c |}{col 29}{res} 25.617{col 40}  1.614{col 50}406.585{col 61}   0.00
{txt}CARET (2003){res} *{txt}{col 25}{c |}{col 29}{res} 79.706{col 40}  5.002{col 50}1270.071{col 61}   0.00
{txt}Lifespan study (2004){res} *{txt}{col 25}{c |}{col 29}{res} 58.029{col 40}  3.636{col 50}926.220{col 61}   0.00
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.790{col 50}  1.981{col 61}   5.27
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.855{col 50}  1.363{col 61}  18.65
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  0.960{col 50}  2.283{col 61}   5.51
{txt}Weinstein (2005){res} *{txt}{col 25}{c |}{col 29}{res} 55.514{col 40}  3.476{col 50}886.637{col 61}   0.00
{txt}King (2005){res} *{txt}{col 25}{c |}{col 29}{res} 27.647{col 40}  1.742{col 50}438.833{col 61}   0.00
{txt}{hline 24}{c +}{hline 46}
Overall, MH{col 25}{c |}{col 29}{res}  1.920{col 40}  1.724{col 50}  2.139{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} 11.846{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 24}{c TT}{hline 35}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value
{hline 24}{c +}{hline 35}
Mantel-Haenszel Q{col 25}{c |}{col 29}{res} 142.63{col 42} 18{col 49}  0.000
{txt}{col 25}{c |}{col 38}{hline 1}[95% Conf. Interval]{hline 1}
H {col 25}{c |}{col 29}{res}  2.815{col 39}  2.359{col 49}  3.254
{txt}I{c 178} (%) {col 25}{c |}{col 28}{res}   87.4%{col 38}   82.0%{col 48}   90.6%
{txt}{hline 24}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. metan  tdeath2 tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year) cc(0.5)        // recovers -metan9- results
{error}Note: 1 study with missing or insufficient data found;
{error} use the {bf:{help metan##options_main:keepall}} option to include this study in the {error}summary table{error} and forest plot

{txt}Studies included: {res}19
{txt}Participants included: {res}2625

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

Continuity correction of {res}0.5{txt} applied to studies with zero cells
 (marked with {res}*{txt})
Mantel-Haenszel pooled effect is estimated from {res}corrected{txt} counts

{hline 24}{c TT}{hline 46}
Study identifier{col 25}{c |}    Risk               
(Year){col 25}{c |}    ratio   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.878{col 50}  1.419{col 61}  16.09
{txt}CA,USA 81-85 (1992){res} *{txt}{col 25}{c |}{col 29}{res} 30.684{col 40}  1.933{col 50}487.135{col 61}   0.18
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.782{col 50}  1.466{col 61}  10.40
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.790{col 50}  1.724{col 61}   6.99
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.878{col 50}  1.334{col 61}  18.02
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.049{col 50}  2.153{col 61}   7.80
{txt}SWE 71-75 (1997){res} *{txt}{col 25}{c |}{col 29}{res}  7.429{col 40}  0.479{col 50}115.293{col 61}   0.19
{txt}Hartman (1998){res} *{txt}{col 25}{c |}{col 29}{res} 33.434{col 40}  2.109{col 50}529.939{col 61}   0.20
{txt}AHS (1998){res} *{txt}{col 25}{c |}{col 29}{res} 68.093{col 40}  4.273{col 50}1085.051{col 61}   0.20
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.671{col 50}  2.147{col 61}   2.91
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.086{col 50}  2.187{col 61}   7.17
{txt}ATBC (2001){res} *{txt}{col 25}{c |}{col 29}{res} 25.617{col 40}  1.614{col 50}406.585{col 61}   0.18
{txt}CARET (2003){res} *{txt}{col 25}{c |}{col 29}{res} 79.706{col 40}  5.002{col 50}1270.071{col 61}   0.18
{txt}Lifespan study (2004){res} *{txt}{col 25}{c |}{col 29}{res} 58.029{col 40}  3.636{col 50}926.220{col 61}   0.19
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.790{col 50}  1.981{col 61}   5.18
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.855{col 50}  1.363{col 61}  18.34
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  0.960{col 50}  2.283{col 61}   5.42
{txt}Weinstein (2005){res} *{txt}{col 25}{c |}{col 29}{res} 55.514{col 40}  3.476{col 50}886.637{col 61}   0.18
{txt}King (2005){res} *{txt}{col 25}{c |}{col 29}{res} 27.647{col 40}  1.742{col 50}438.833{col 61}   0.18
{txt}{hline 24}{c +}{hline 46}
Overall, MH{col 25}{c |}{col 29}{res}  1.902{col 40}  1.709{col 50}  2.116{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} 11.775{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 24}{c TT}{hline 35}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value
{hline 24}{c +}{hline 35}
Mantel-Haenszel Q{col 25}{c |}{col 29}{res} 139.10{col 42} 18{col 49}  0.000
{txt}{col 25}{c |}{col 38}{hline 1}[95% Conf. Interval]{hline 1}
H {col 25}{c |}{col 29}{res}  2.780{col 39}  2.324{col 49}  3.219
{txt}I{c 178} (%) {col 25}{c |}{col 28}{res}   87.1%{col 38}   81.5%{col 48}   90.3%
{txt}{hline 24}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. metan  tdeath2 tnodeath cdeath2 cnodeath, label(namevar=id, yearid=year) keepall        // additionally displays the "double zero" study (as "insufficient data")

{txt}Studies included: {res}19
{txt}  plus {res}1{txt} study with insufficient data
Participants included: {res}2625
{txt}  plus {res}107{txt} participants with insufficient data

Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

Continuity correction of {res}0.5{txt} applied to studies with zero cells
 for inclusion in summary table and forest plot (marked with {res}*{txt})
Mantel-Haenszel pooled effect is estimated from {res}uncorrected{txt} counts

{hline 24}{c TT}{hline 46}
Study identifier{col 25}{c |}    Risk               
(Year){col 25}{c |}    ratio   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.878{col 50}  1.419{col 61}  16.36
{txt}CA,USA 81-85 (1992){res} *{txt}{col 25}{c |}{col 29}{res} 30.684{col 40}  1.933{col 50}487.135{col 61}   0.00
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.782{col 50}  1.466{col 61}  10.58
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.790{col 50}  1.724{col 61}   7.11
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.878{col 50}  1.334{col 61}  18.33
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.049{col 50}  2.153{col 61}   7.94
{txt}SWE 71-75 (1997){res} *{txt}{col 25}{c |}{col 29}{res}  7.429{col 40}  0.479{col 50}115.293{col 61}   0.00
{txt}Hartman (1998){res} *{txt}{col 25}{c |}{col 29}{res} 33.434{col 40}  2.109{col 50}529.939{col 61}   0.00
{txt}AHS (1998){res} *{txt}{col 25}{c |}{col 29}{res} 68.093{col 40}  4.273{col 50}1085.051{col 61}   0.00
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.671{col 50}  2.147{col 61}   2.96
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.086{col 50}  2.187{col 61}   7.29
{txt}ATBC (2001){res} *{txt}{col 25}{c |}{col 29}{res} 25.617{col 40}  1.614{col 50}406.585{col 61}   0.00
{txt}CARET (2003){res} *{txt}{col 25}{c |}{col 29}{res} 79.706{col 40}  5.002{col 50}1270.071{col 61}   0.00
{txt}Lifespan study (2004){res} *{txt}{col 25}{c |}{col 29}{res} 58.029{col 40}  3.636{col 50}926.220{col 61}   0.00
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.790{col 50}  1.981{col 61}   5.27
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.855{col 50}  1.363{col 61}  18.65
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  0.960{col 50}  2.283{col 61}   5.51
{txt}Weinstein (2005){res} *{txt}{col 25}{c |}{col 29}{res} 55.514{col 40}  3.476{col 50}886.637{col 61}   0.00
{txt}King (2005){res} *{txt}{col 25}{c |}{col 29}{res} 27.647{col 40}  1.742{col 50}438.833{col 61}   0.00
{txt}AHS 60-80 (1984){col 25}{c |}{col 28} (Insufficient data)
{hline 24}{c +}{hline 46}
Overall, MH{col 25}{c |}{col 29}{res}  1.920{col 40}  1.724{col 50}  2.139{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} 11.846{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 24}{c TT}{hline 35}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value
{hline 24}{c +}{hline 35}
Mantel-Haenszel Q{col 25}{c |}{col 29}{res} 142.63{col 42} 18{col 49}  0.000
{txt}{col 25}{c |}{col 38}{hline 1}[95% Conf. Interval]{hline 1}
H {col 25}{c |}{col 29}{res}  2.815{col 39}  2.359{col 49}  3.254
{txt}I{c 178} (%) {col 25}{c |}{col 28}{res}   87.4%{col 38}   82.0%{col 48}   90.6%
{txt}{hline 24}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:24
{txt}{.-}

{com}. 
. 
. 
. *** measure_and_model_options: wgt()
. 
. // 2x2 data + wgt() switches default model from MH to IV; MH is not allowed
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:24
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) wgt(n_pos)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}  7.14
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}  7.33
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}  3.20
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}  4.64
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  3.26
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}  8.08
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  4.20
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  0.81
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}  5.20
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60} 11.09
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  1.38
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  3.95
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}  2.57
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}  8.27
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}  7.33
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  2.51
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}  8.21
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  2.88
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}  5.20
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}  2.76
{txt}---------------------+---------------------------------------------------
* pooled RR{col 22}|{res}  1.030{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------
* note: trials pooled by user defined weight n_positives
 Heterogeneity calculated by formula
  Q = SIGMA_i{ (1/variance_i)*(effect_i - effect_pooled)^2 } 

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of RR=1 : z= {res}  0.82{txt} p = {res}0.414
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:26
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:26
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) wgt(n_pos)
{error}Note: user-defined weights supplied; inverse-variance model assumed

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}common-effect inverse-variance{txt} model
and with user-defined weights {res}n_positives

{txt}{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   7.14
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.33
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.20
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.64
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.26
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   8.08
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   4.20
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.81
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.20
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  11.09
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.38
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.95
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.57
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   8.27
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   7.33
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.51
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.21
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.88
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.20
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.76
{txt}{hline 22}{c +}{hline 46}
Overall, IV **{col 23}{c |}{col 27}{res}  1.030{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.817{txt}  p = {res}0.414

{txt}** Note: pooled using user-defined weights {res}n_positives


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) wgt(n_pos) mh
{err}User-defined weights can only be used with models based on the inverse-variance method
  which does not include {bf:mhaenszel}
Error in {bf:metan.ParseModel}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:27
{txt}{.-}

{com}. 
. // wgt() with random-effects: metan v4 uses weighting formula, metan v3 exits with error
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:27
{txt}
{com}. cap nois metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) wgt(n_pos) random
{err}Option invalid with user-defined weights
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:27
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:27
{txt}
{com}. metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) wgt(n_pos) random

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}
and with user-defined weights {res}n_positives

{txt}{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}                       
(Year){col 23}{c |}   Effect   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res} -0.491{col 38} -1.023{col 48}  0.041{col 59}   7.14
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.253{col 38} -0.297{col 48}  0.804{col 59}   7.33
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.104{col 38} -0.638{col 48}  0.845{col 59}   3.20
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.144{col 38} -0.518{col 48}  0.805{col 59}   4.64
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.303{col 38} -0.461{col 48}  1.066{col 59}   3.26
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.217{col 38} -0.356{col 48}  0.789{col 59}   8.08
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.776{col 38}  0.102{col 48}  1.450{col 59}   4.20
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.154{col 38} -1.666{col 48}  1.358{col 59}   0.81
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.441{col 38} -1.057{col 48}  0.175{col 59}   5.20
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.556{col 38} -0.972{col 48} -0.140{col 59}  11.09
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.383{col 38} -0.834{col 48}  1.600{col 59}   1.38
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.975{col 38}  0.210{col 48}  1.740{col 59}   3.95
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.126{col 38} -0.693{col 48}  0.945{col 59}   2.57
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.195{col 38} -0.271{col 48}  0.660{col 59}   8.27
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.295{col 38} -0.775{col 48}  0.186{col 59}   7.33
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.414{col 38} -0.434{col 48}  1.262{col 59}   2.51
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.165{col 38} -0.339{col 48}  0.669{col 59}   8.21
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.741{col 38} -0.066{col 48}  1.548{col 59}   2.88
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.151{col 38} -0.403{col 48}  0.705{col 59}   5.20
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.162{col 38} -0.628{col 48}  0.953{col 59}   2.76
{txt}{hline 22}{c +}{hline 46}
Overall, DL **{col 23}{c |}{col 27}{res}  0.067{col 38} -0.129{col 48}  0.262{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.669{txt}  p = {res}0.503

{txt}** Note: pooled using user-defined weights {res}n_positives


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  32.71{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.735
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   66.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 22}{c TT}{hline 13}
Method{col 23}{c |}{col 29}tau{c 178}
{hline 22}{c +}{hline 13}
DL{col 23}{c |}{col 26}{res}  0.0742
{txt}{hline 22}{c BT}{hline 13}
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:28
{txt}{.-}

{com}. 
. 
. 
. *** measure_and_model_options: first(), second() [ and firststats(), secondstats() ]
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:28
{txt}
{com}. metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) wgt(n_pos)

{txt}{col 12}Study{col 22}|{col 24}{col 28}ES{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res} -0.491{col 35} -1.023     0.041{col 60}  7.14
{txt}Ohno (1988){col 22}|{res}  0.253{col 35} -0.297     0.804{col 60}  7.33
{txt}CA,USA 81-85 (1992){col 22}|{res}  0.104{col 35} -0.638     0.845{col 60}  3.20
{txt}Walker (1992){col 22}|{res}  0.144{col 35} -0.518     0.805{col 60}  4.64
{txt}Ghadirian (1996){col 22}|{res}  0.303{col 35} -0.461     1.066{col 60}  3.26
{txt}Ewings (1996){col 22}|{res}  0.217{col 35} -0.356     0.789{col 60}  8.08
{txt}Hayes (1996){col 22}|{res}  0.776{col 35}  0.102     1.450{col 60}  4.20
{txt}SWE 71-75 (1997){col 22}|{res} -0.154{col 35} -1.666     1.358{col 60}  0.81
{txt}Hartman (1998){col 22}|{res} -0.441{col 35} -1.057     0.175{col 60}  5.20
{txt}AHS (1998){col 22}|{res} -0.556{col 35} -0.972    -0.140{col 60} 11.09
{txt}Lee (1998){col 22}|{res}  0.383{col 35} -0.834     1.600{col 60}  1.38
{txt}Hsieh (1999){col 22}|{res}  0.975{col 35}  0.210     1.740{col 60}  3.95
{txt}ATBC (2001){col 22}|{res}  0.126{col 35} -0.693     0.945{col 60}  2.57
{txt}CARET (2003){col 22}|{res}  0.195{col 35} -0.271     0.660{col 60}  8.27
{txt}Lifespan study (2004{col 22}|{res} -0.295{col 35} -0.775     0.186{col 60}  7.33
{txt}Joseph (2004){col 22}|{res}  0.414{col 35} -0.434     1.262{col 60}  2.51
{txt}Friedenreich (2004){col 22}|{res}  0.165{col 35} -0.339     0.669{col 60}  8.21
{txt}Allen (2004){col 22}|{res}  0.741{col 35} -0.066     1.548{col 60}  2.88
{txt}Weinstein (2005){col 22}|{res}  0.151{col 35} -0.403     0.705{col 60}  5.20
{txt}King (2005){col 22}|{res}  0.162{col 35} -0.628     0.953{col 60}  2.76
{txt}---------------------+---------------------------------------------------
Bayesian pooled ES{col 22}|{res}  0.924{col 35}  0.753     1.095{col 60}100.00
{txt}---------------------+---------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:29
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:29
{txt}
{com}. metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) wgt(n_pos)

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
with {res}user-specified pooled estimates
{txt}Weights {res}n_positives{txt} are user-defined

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}                       
(Year){col 23}{c |}   Effect   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res} -0.491{col 38} -1.023{col 48}  0.041{col 59}   7.14
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.253{col 38} -0.297{col 48}  0.804{col 59}   7.33
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.104{col 38} -0.638{col 48}  0.845{col 59}   3.20
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.144{col 38} -0.518{col 48}  0.805{col 59}   4.64
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.303{col 38} -0.461{col 48}  1.066{col 59}   3.26
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.217{col 38} -0.356{col 48}  0.789{col 59}   8.08
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.776{col 38}  0.102{col 48}  1.450{col 59}   4.20
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.154{col 38} -1.666{col 48}  1.358{col 59}   0.81
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.441{col 38} -1.057{col 48}  0.175{col 59}   5.20
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.556{col 38} -0.972{col 48} -0.140{col 59}  11.09
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.383{col 38} -0.834{col 48}  1.600{col 59}   1.38
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.975{col 38}  0.210{col 48}  1.740{col 59}   3.95
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.126{col 38} -0.693{col 48}  0.945{col 59}   2.57
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.195{col 38} -0.271{col 48}  0.660{col 59}   8.27
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.295{col 38} -0.775{col 48}  0.186{col 59}   7.33
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.414{col 38} -0.434{col 48}  1.262{col 59}   2.51
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.165{col 38} -0.339{col 48}  0.669{col 59}   8.21
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.741{col 38} -0.066{col 48}  1.548{col 59}   2.88
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.151{col 38} -0.403{col 48}  0.705{col 59}   5.20
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.162{col 38} -0.628{col 48}  0.953{col 59}   2.76
{txt}{hline 22}{c +}{hline 46}
Overall, Bayesian{col 23}{c |}{col 27}{res}  0.924{col 38}  0.753{col 48}  1.095{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:30
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:30
{txt}
{com}. metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) wgt(n_pos) ///
>         first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) second(0.298 0.101 0.313 FooBar) secondstats(Hello World)

{txt}{col 12}Study{col 22}|{col 24}{col 28}ES{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res} -0.491{col 35} -1.023     0.041{col 60}  7.14
{txt}Ohno (1988){col 22}|{res}  0.253{col 35} -0.297     0.804{col 60}  7.33
{txt}CA,USA 81-85 (1992){col 22}|{res}  0.104{col 35} -0.638     0.845{col 60}  3.20
{txt}Walker (1992){col 22}|{res}  0.144{col 35} -0.518     0.805{col 60}  4.64
{txt}Ghadirian (1996){col 22}|{res}  0.303{col 35} -0.461     1.066{col 60}  3.26
{txt}Ewings (1996){col 22}|{res}  0.217{col 35} -0.356     0.789{col 60}  8.08
{txt}Hayes (1996){col 22}|{res}  0.776{col 35}  0.102     1.450{col 60}  4.20
{txt}SWE 71-75 (1997){col 22}|{res} -0.154{col 35} -1.666     1.358{col 60}  0.81
{txt}Hartman (1998){col 22}|{res} -0.441{col 35} -1.057     0.175{col 60}  5.20
{txt}AHS (1998){col 22}|{res} -0.556{col 35} -0.972    -0.140{col 60} 11.09
{txt}Lee (1998){col 22}|{res}  0.383{col 35} -0.834     1.600{col 60}  1.38
{txt}Hsieh (1999){col 22}|{res}  0.975{col 35}  0.210     1.740{col 60}  3.95
{txt}ATBC (2001){col 22}|{res}  0.126{col 35} -0.693     0.945{col 60}  2.57
{txt}CARET (2003){col 22}|{res}  0.195{col 35} -0.271     0.660{col 60}  8.27
{txt}Lifespan study (2004{col 22}|{res} -0.295{col 35} -0.775     0.186{col 60}  7.33
{txt}Joseph (2004){col 22}|{res}  0.414{col 35} -0.434     1.262{col 60}  2.51
{txt}Friedenreich (2004){col 22}|{res}  0.165{col 35} -0.339     0.669{col 60}  8.21
{txt}Allen (2004){col 22}|{res}  0.741{col 35} -0.066     1.548{col 60}  2.88
{txt}Weinstein (2005){col 22}|{res}  0.151{col 35} -0.403     0.705{col 60}  5.20
{txt}King (2005){col 22}|{res}  0.162{col 35} -0.628     0.953{col 60}  2.76
{txt}---------------------+---------------------------------------------------
Bayesian pooled ES{col 22}|{res}  0.924{col 35}  0.753     1.095{col 60}100.00
{txt}FooBar pooled ES{col 22}|{res}  0.298{col 35}  0.101     0.313{col 60}100.00
{txt}---------------------+---------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:31
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:31
{txt}
{com}. metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) wgt(n_pos) ///
>         first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) second(0.298 0.101 0.313 FooBar) secondstats(Hello World)

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
with {res}user-specified pooled estimates
{txt}Weights {res}n_positives{txt} are user-defined

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}            {col 60}% Weight,
(Year){col 23}{c |}   Effect   {col 37}[95% Conf. Interval]{col 61}Bayes~n
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res} -0.491{col 38} -1.023{col 48}  0.041{col 59}   7.14
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.253{col 38} -0.297{col 48}  0.804{col 59}   7.33
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.104{col 38} -0.638{col 48}  0.845{col 59}   3.20
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.144{col 38} -0.518{col 48}  0.805{col 59}   4.64
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.303{col 38} -0.461{col 48}  1.066{col 59}   3.26
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.217{col 38} -0.356{col 48}  0.789{col 59}   8.08
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.776{col 38}  0.102{col 48}  1.450{col 59}   4.20
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.154{col 38} -1.666{col 48}  1.358{col 59}   0.81
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.441{col 38} -1.057{col 48}  0.175{col 59}   5.20
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.556{col 38} -0.972{col 48} -0.140{col 59}  11.09
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.383{col 38} -0.834{col 48}  1.600{col 59}   1.38
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.975{col 38}  0.210{col 48}  1.740{col 59}   3.95
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.126{col 38} -0.693{col 48}  0.945{col 59}   2.57
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.195{col 38} -0.271{col 48}  0.660{col 59}   8.27
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.295{col 38} -0.775{col 48}  0.186{col 59}   7.33
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.414{col 38} -0.434{col 48}  1.262{col 59}   2.51
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.165{col 38} -0.339{col 48}  0.669{col 59}   8.21
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.741{col 38} -0.066{col 48}  1.548{col 59}   2.88
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.151{col 38} -0.403{col 48}  0.705{col 59}   5.20
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.162{col 38} -0.628{col 48}  0.953{col 59}   2.76
{txt}{hline 22}{c +}{hline 46}
Overall, Bayesian{col 23}{c |}{col 27}{res}  0.924{col 38}  0.753{col 48}  1.095{col 59} 100.00
{txt}Overall, FooBar{col 23}{c |}{col 27}{res}  0.298{col 38}  0.101{col 48}  0.313
{txt}{hline 22}{c BT}{hline 46}
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:32
{txt}{.-}

{com}. 
. // can't have first=user, second=standard...
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:32
{txt}
{com}. cap nois metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) wgt(n_pos) ///
>         first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) second(random)
{err}Cannot have user defined analysis as main analysis and standard analysis
as second analysis. You can do it the other way round, or have two user
defined analyses, but you can't do this particular thing.
Sorry, that's just the way it is.
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:32
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:32
{txt}
{com}. cap nois metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) wgt(n_pos) ///
>         first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) second(random)
{err}Cannot have user-defined analysis as main analysis,
  and a standard analysis as second analysis.
You can do it the other way round, or have two user defined analyses,
  but you can't do this particular thing. Sorry, that's just the way it is.
Error in {bf:metan.ProcessFirstSecond}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:32
{txt}{.-}

{com}. 
. // ...but the other way around is fine
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:32
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) second(0.924 0.753 1.095 Bayesian) secondstats(param V=3.86, p=0.012)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}Bayesian pooled RR{col 22}|{res}  0.924{col 35}  0.753     1.095{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of RR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:33
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:33
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) second(0.924 0.753 1.095 Bayesian) secondstats(param V=3.86, p=0.012)

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using {res}multiple analysis methods

{txt}{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk    {col 60}% Weight,
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 63}MH
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}Overall, Bayesian{col 23}{c |}{col 27}{res}  2.519{col 38}  2.123{col 48}  2.989
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:34
{txt}{.-}

{com}. 
. 
. 
. *** options_for_continuous_data: cohen, hedges, glass, nostandard
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:34
{txt}
{com}. cap nois metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) cohen
{err}Option not available without raw data counts
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:34
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:34
{txt}
{com}. cap nois metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) cohen
{err}Specified method of constructing effect size {bf:cohend} is incompatible with the data
Error in {bf:metan.ProcessData}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:34
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:34
{txt}
{com}. cap nois metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) nostandard
{err}Option not available without raw data counts
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:34
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:34
{txt}
{com}. cap nois metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) nostandard
{err}Specified method of constructing effect size {bf:wmd} is incompatible with the data
Error in {bf:metan.ProcessData}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:34
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:34
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) cohen
{err}Invalid specifications for combining trials
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:34
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:34
{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) cohen
{err}Continuous outcome types are incompatible with count data
Error in {bf:metan.ProcessData}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:34
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:34
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nostandard
{err}Invalid specifications for combining trials
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:34
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:34
{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nostandard
{err}Continuous outcome types are incompatible with count data
Error in {bf:metan.ProcessData}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:34
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:34
{txt}
{com}. metan9 tsa tmean tsd csa cmean csd, label(namevar=id, yearid=year)

{txt}{col 12}Study{col 22}|{col 24}{col 28}SMD{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.292{col 35}  0.027     0.557{col 60}  6.82
{txt}Ohno (1988){col 22}|{res} -0.078{col 35} -0.350     0.195{col 60}  6.45
{txt}CA,USA 81-85 (1992){col 22}|{res}  0.008{col 35} -0.361     0.376{col 60}  3.52
{txt}Walker (1992){col 22}|{res} -0.066{col 35} -0.396     0.264{col 60}  4.39
{txt}Ghadirian (1996){col 22}|{res} -0.021{col 35} -0.402     0.360{col 60}  3.31
{txt}Ewings (1996){col 22}|{res} -0.254{col 35} -0.531     0.022{col 60}  6.28
{txt}Hayes (1996){col 22}|{res}  0.203{col 35} -0.128     0.534{col 60}  4.37
{txt}SWE 71-75 (1997){col 22}|{res} -0.136{col 35} -0.892     0.620{col 60}  0.84
{txt}Hartman (1998){col 22}|{res}  0.279{col 35} -0.028     0.587{col 60}  5.06
{txt}AHS (1998){col 22}|{res} -0.519{col 35} -0.728    -0.309{col 60} 10.92
{txt}Lee (1998){col 22}|{res}  0.528{col 35} -0.088     1.144{col 60}  1.26
{txt}Hsieh (1999){col 22}|{res}  0.048{col 35} -0.321     0.417{col 60}  3.52
{txt}ATBC (2001){col 22}|{res}  0.012{col 35} -0.394     0.419{col 60}  2.90
{txt}CARET (2003){col 22}|{res}  0.285{col 35}  0.052     0.518{col 60}  8.83
{txt}Lifespan study (2004{col 22}|{res}  0.091{col 35} -0.146     0.328{col 60}  8.54
{txt}Joseph (2004){col 22}|{res} -0.330{col 35} -0.753     0.093{col 60}  2.68
{txt}Friedenreich (2004){col 22}|{res}  0.024{col 35} -0.227     0.275{col 60}  7.61
{txt}Allen (2004){col 22}|{res}  0.106{col 35} -0.290     0.503{col 60}  3.05
{txt}Weinstein (2005){col 22}|{res}  0.155{col 35} -0.116     0.426{col 60}  6.53
{txt}King (2005){col 22}|{res}  0.011{col 35} -0.381     0.403{col 60}  3.12
{txt}---------------------+---------------------------------------------------
I-V pooled SMD{col 22}|{res}  0.009{col 35} -0.060     0.078{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 49.73{txt} (d.f. = {res}19{txt}) p = {res}0.000
{txt}  I-squared (variation in SMD attributable to heterogeneity) ={res}  61.8%

{txt}  Test of SMD=0 : z= {res}  0.26{txt} p = {res}0.795
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:35
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:35
{txt}
{com}. metan  tsa tmean tsd csa cmean csd, label(namevar=id, yearid=year)

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Standardised Mean Differences
{txt}  by the method of {res}Cohen
{txt}using the {res}common-effect inverse-variance{txt} model

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}                       
(Year){col 23}{c |}     SMD    {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.292{col 38}  0.027{col 48}  0.557{col 59}   6.82
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res} -0.078{col 38} -0.350{col 48}  0.195{col 59}   6.45
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.008{col 38} -0.361{col 48}  0.376{col 59}   3.52
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res} -0.066{col 38} -0.396{col 48}  0.264{col 59}   4.39
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res} -0.021{col 38} -0.402{col 48}  0.360{col 59}   3.31
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res} -0.254{col 38} -0.531{col 48}  0.022{col 59}   6.28
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.203{col 38} -0.128{col 48}  0.534{col 59}   4.37
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.136{col 38} -0.892{col 48}  0.620{col 59}   0.84
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.279{col 38} -0.028{col 48}  0.587{col 59}   5.06
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.519{col 38} -0.728{col 48} -0.309{col 59}  10.92
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.528{col 38} -0.088{col 48}  1.144{col 59}   1.26
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.048{col 38} -0.321{col 48}  0.417{col 59}   3.52
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.012{col 38} -0.394{col 48}  0.419{col 59}   2.90
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.285{col 38}  0.052{col 48}  0.518{col 59}   8.83
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.091{col 38} -0.146{col 48}  0.328{col 59}   8.54
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.330{col 38} -0.753{col 48}  0.093{col 59}   2.68
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.024{col 38} -0.227{col 48}  0.275{col 59}   7.61
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.106{col 38} -0.290{col 48}  0.503{col 59}   3.05
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.155{col 38} -0.116{col 48}  0.426{col 59}   6.53
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.011{col 38} -0.381{col 48}  0.403{col 59}   3.12
{txt}{hline 22}{c +}{hline 46}
Overall, IV{col 23}{c |}{col 27}{res}  0.009{col 38} -0.060{col 48}  0.078{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.260{txt}  p = {res}0.795


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  49.73{col 40} 19{col 47}  0.000
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.618{col 37}  1.206{col 47}  2.014
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   61.8%{col 36}   31.2%{col 46}   75.4%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:36
{txt}{.-}

{com}. 
. 
. 
. *** output_options: by(byvar) nosubgroup sgweight nosecsub
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:36
{txt}
{com}. metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) by(type_study)

{txt}{col 12}Study{col 22}|{col 24}{col 28}ES{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res} -0.491{col 35} -1.023     0.041{col 60}  6.90
{txt}CA,USA 81-85 (1992){col 22}|  {res}  0.104{col 35} -0.638     0.845{col 60}  3.55
{txt}SWE 71-75 (1997){col 22}|  {res} -0.154{col 35} -1.666     1.358{col 60}  0.85
{txt}Hartman (1998){col 22}|  {res} -0.441{col 35} -1.057     0.175{col 60}  5.14
{txt}AHS (1998){col 22}|  {res} -0.556{col 35} -0.972    -0.140{col 60} 11.25
{txt}ATBC (2001){col 22}|  {res}  0.126{col 35} -0.693     0.945{col 60}  2.90
{txt}CARET (2003){col 22}|  {res}  0.195{col 35} -0.271     0.660{col 60}  8.99
{txt}Lifespan study (2004{col 22}|  {res} -0.295{col 35} -0.775     0.186{col 60}  8.45
{txt}Weinstein (2005){col 22}|  {res}  0.151{col 35} -0.403     0.705{col 60}  6.36
{txt}King (2005){col 22}|  {res}  0.162{col 35} -0.628     0.953{col 60}  3.12
{txt} Sub-total{col 22}|
  I-V pooled ES{col 22}|  {res} -0.184{col 35} -0.368     0.000{col 60} 57.51
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res}  0.253{col 35} -0.297     0.804{col 60}  6.42
{txt}Walker (1992){col 22}|  {res}  0.144{col 35} -0.518     0.805{col 60}  4.45
{txt}Ghadirian (1996){col 22}|  {res}  0.303{col 35} -0.461     1.066{col 60}  3.34
{txt}Ewings (1996){col 22}|  {res}  0.217{col 35} -0.356     0.789{col 60}  5.95
{txt}Hayes (1996){col 22}|  {res}  0.776{col 35}  0.102     1.450{col 60}  4.30
{txt}Lee (1998){col 22}|  {res}  0.383{col 35} -0.834     1.600{col 60}  1.32
{txt}Hsieh (1999){col 22}|  {res}  0.975{col 35}  0.210     1.740{col 60}  3.33
{txt}Joseph (2004){col 22}|  {res}  0.414{col 35} -0.434     1.262{col 60}  2.71
{txt}Friedenreich (2004){col 22}|  {res}  0.165{col 35} -0.339     0.669{col 60}  7.68
{txt}Allen (2004){col 22}|  {res}  0.741{col 35} -0.066     1.548{col 60}  2.99
{txt} Sub-total{col 22}|
  I-V pooled ES{col 22}|  {res}  0.383{col 35}  0.169     0.597{col 60} 42.49
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  I-V pooled ES{col 22}|  {res}  0.057{col 35} -0.083     0.196{col 60}100.00
{txt}---------------------+---------------------------------------------------
 Heterogeneity calculated by formula
  Q = SIGMA_i{ (1/variance_i)*(effect_i - effect_pooled)^2 } 
where variance_i = ((upper limit - lower limit)/(2*z))^2 

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 11.05{col 35} 9{col 43}0.272{col 51}  18.5%
{txt}2: Case control{res}{col 20}  6.17{col 35} 9{col 43}0.722{col 51}   0.0%
{txt}Overall{res}{col 20} 32.69{col 35}19{col 43}0.026{col 51}  41.9%
{txt}Overall Test for heterogeneity between sub-groups: 
{res}{col 20} 15.47{col 35} 1{col 43}0.000

{txt}** I-squared: the variation in ES attributable to heterogeneity)

Some heterogeneity observed (up to 18.5%) in one or more sub-groups,
Test for heterogeneity between sub-groups may be invalid

Significance test(s) of ES=0

1: Cohort Studies{col 23}z= {res} 1.96{col 35}{txt} p = {res}0.050
{txt}2: Case control{col 23}z= {res} 3.50{col 35}{txt} p = {res}0.000
{txt}Overall{col 23}z= {res} 0.80{col 35}{txt} p = {res}0.425
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:37
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:37
{txt}
{com}. metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) by(type_study)

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}                       
identifier (Year){col 25}{c |}   Effect   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res} -0.491{col 40} -1.023{col 50}  0.041{col 61}   6.90
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  0.104{col 40} -0.638{col 50}  0.845{col 61}   3.55
{txt}SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res} -0.154{col 40} -1.666{col 50}  1.358{col 61}   0.85
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res} -0.441{col 40} -1.057{col 50}  0.175{col 61}   5.14
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res} -0.556{col 40} -0.972{col 50} -0.140{col 61}  11.25
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  0.126{col 40} -0.693{col 50}  0.945{col 61}   2.90
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  0.195{col 40} -0.271{col 50}  0.660{col 61}   8.99
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res} -0.295{col 40} -0.775{col 50}  0.186{col 61}   8.45
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.151{col 40} -0.403{col 50}  0.705{col 61}   6.36
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.162{col 40} -0.628{col 50}  0.953{col 61}   3.12
{txt}{col 25}{c |}
Subgroup, IV{col 25}{c |}{col 29}{res} -0.184{col 40} -0.368{col 50}  0.000{col 61}  57.51
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  0.253{col 40} -0.297{col 50}  0.804{col 61}   6.42
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  0.144{col 40} -0.518{col 50}  0.805{col 61}   4.45
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.303{col 40} -0.461{col 50}  1.066{col 61}   3.34
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.217{col 40} -0.356{col 50}  0.789{col 61}   5.95
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.776{col 40}  0.102{col 50}  1.450{col 61}   4.30
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.383{col 40} -0.834{col 50}  1.600{col 61}   1.32
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  0.975{col 40}  0.210{col 50}  1.740{col 61}   3.33
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.414{col 40} -0.434{col 50}  1.262{col 61}   2.71
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.165{col 40} -0.339{col 50}  0.669{col 61}   7.68
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.741{col 40} -0.066{col 50}  1.548{col 61}   2.99
{txt}{col 25}{c |}
Subgroup, IV{col 25}{c |}{col 29}{res}  0.383{col 40}  0.169{col 50}  0.597{col 61}  42.49
{txt}{hline 24}{c +}{hline 46}
Overall, IV{col 25}{c |}{col 29}{res}  0.057{col 40} -0.083{col 50}  0.196{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Tests of subgroup effect size = {res}0{txt}:
1: Cohort Studies{res}{col 25}z{txt} = {res} -1.958{txt}{col 38}p = {res}0.050
{txt}2: Case control{res}{col 25}z{txt} = {res}  3.503{txt}{col 38}p = {res}0.000
{txt}Overall{col 25}{res}{col 25}z{txt} = {res}  0.798{txt}{col 38}p = {res}0.425


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 24}{c TT}{hline 44}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value{col 64}I{c 178}
{hline 24}{c +}{hline 44}
1: Cohort Studies{col 25}{c |}{col 29}{res}  11.05{col 42}  9{col 49}  0.272{col 62}18.5%
{txt}2: Case control{col 25}{c |}{col 29}{res}   6.17{col 42}  9{col 49}  0.722{col 62} 0.0%
{txt}Overall{col 25}{c |}{col 29}{res}  32.69{col 42} 19{col 49}  0.026{col 62}41.9%
{txt}Between{col 25}{c |}{col 29}{res}  15.47{col 42}  1{col 49}  0.000
{txt}Between:Within (F){col 25}{c |}{col 29}{res}  16.16{col 38}  1{txt},{res} 18{col 49}  0.001
{txt}{hline 24}{c BT}{hline 44}
Note: Some heterogeneity observed (I{c 178} up to {res}18.5%{txt}) in one or more subgroups;
  tests for heterogeneity between subgroups may not be valid
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:38
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:38
{txt}
{com}. metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) by(type_study) random

{txt}{col 12}Study{col 22}|{col 24}{col 28}ES{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res} -0.491{col 35} -1.023     0.041{col 60}  6.37
{txt}CA,USA 81-85 (1992){col 22}|  {res}  0.104{col 35} -0.638     0.845{col 60}  4.33
{txt}SWE 71-75 (1997){col 22}|  {res} -0.154{col 35} -1.666     1.358{col 60}  1.41
{txt}Hartman (1998){col 22}|  {res} -0.441{col 35} -1.057     0.175{col 60}  5.44
{txt}AHS (1998){col 22}|  {res} -0.556{col 35} -0.972    -0.140{col 60}  7.89
{txt}ATBC (2001){col 22}|  {res}  0.126{col 35} -0.693     0.945{col 60}  3.78
{txt}CARET (2003){col 22}|  {res}  0.195{col 35} -0.271     0.660{col 60}  7.21
{txt}Lifespan study (2004{col 22}|  {res} -0.295{col 35} -0.775     0.186{col 60}  7.01
{txt}Weinstein (2005){col 22}|  {res}  0.151{col 35} -0.403     0.705{col 60}  6.11
{txt}King (2005){col 22}|  {res}  0.162{col 35} -0.628     0.953{col 60}  3.97
{txt} Sub-total{col 22}|
  D+L pooled ES{col 22}|  {res} -0.172{col 35} -0.381     0.038{col 60} 53.52
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res}  0.253{col 35} -0.297     0.804{col 60}  6.14
{txt}Walker (1992){col 22}|  {res}  0.144{col 35} -0.518     0.805{col 60}  5.00
{txt}Ghadirian (1996){col 22}|  {res}  0.303{col 35} -0.461     1.066{col 60}  4.16
{txt}Ewings (1996){col 22}|  {res}  0.217{col 35} -0.356     0.789{col 60}  5.90
{txt}Hayes (1996){col 22}|  {res}  0.776{col 35}  0.102     1.450{col 60}  4.89
{txt}Lee (1998){col 22}|  {res}  0.383{col 35} -0.834     1.600{col 60}  2.05
{txt}Hsieh (1999){col 22}|  {res}  0.975{col 35}  0.210     1.740{col 60}  4.16
{txt}Joseph (2004){col 22}|  {res}  0.414{col 35} -0.434     1.262{col 60}  3.60
{txt}Friedenreich (2004){col 22}|  {res}  0.165{col 35} -0.339     0.669{col 60}  6.71
{txt}Allen (2004){col 22}|  {res}  0.741{col 35} -0.066     1.548{col 60}  3.86
{txt} Sub-total{col 22}|
  D+L pooled ES{col 22}|  {res}  0.383{col 35}  0.169     0.597{col 60} 46.48
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  D+L pooled ES{col 22}|  {res}  0.106{col 35} -0.084     0.296{col 60}100.00
{txt}---------------------+---------------------------------------------------
 Heterogeneity calculated by formula
  Q = SIGMA_i{ (1/variance_i)*(effect_i - effect_pooled)^2 } 
where variance_i = ((upper limit - lower limit)/(2*z))^2 

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**   Tau-squared

1: Cohort Studies{res}{col 20} 11.05{col 35} 9{col 43}0.272{col 51}  18.5%       0.0207
{txt}2: Case control{res}{col 20}  6.17{col 35} 9{col 43}0.722{col 51}   0.0%       0.0000
{txt}Overall{res}{col 20} 32.69{col 35}19{col 43}0.026{col 51}  41.9%       0.0742
{txt}** I-squared: the variation in ES attributable to heterogeneity)

Note: between group heterogeneity not calculated;
only valid with inverse variance method

Significance test(s) of ES=0

1: Cohort Studies{col 23}z= {res} 1.61{col 35}{txt} p = {res}0.108
{txt}2: Case control{col 23}z= {res} 3.50{col 35}{txt} p = {res}0.000
{txt}Overall{col 23}z= {res} 1.09{col 35}{txt} p = {res}0.274
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:39
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:39
{txt}
{com}. metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) by(type_study) random    // between-subgroup heterogeneity is now calculated

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}                       
identifier (Year){col 25}{c |}   Effect   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res} -0.491{col 40} -1.023{col 50}  0.041{col 61}   6.37
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  0.104{col 40} -0.638{col 50}  0.845{col 61}   4.33
{txt}SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res} -0.154{col 40} -1.666{col 50}  1.358{col 61}   1.41
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res} -0.441{col 40} -1.057{col 50}  0.175{col 61}   5.44
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res} -0.556{col 40} -0.972{col 50} -0.140{col 61}   7.89
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  0.126{col 40} -0.693{col 50}  0.945{col 61}   3.78
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  0.195{col 40} -0.271{col 50}  0.660{col 61}   7.21
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res} -0.295{col 40} -0.775{col 50}  0.186{col 61}   7.01
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.151{col 40} -0.403{col 50}  0.705{col 61}   6.11
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.162{col 40} -0.628{col 50}  0.953{col 61}   3.97
{txt}{col 25}{c |}
Subgroup, DL{col 25}{c |}{col 29}{res} -0.172{col 40} -0.381{col 50}  0.038{col 61}  53.52
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  0.253{col 40} -0.297{col 50}  0.804{col 61}   6.14
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  0.144{col 40} -0.518{col 50}  0.805{col 61}   5.00
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.303{col 40} -0.461{col 50}  1.066{col 61}   4.16
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.217{col 40} -0.356{col 50}  0.789{col 61}   5.90
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.776{col 40}  0.102{col 50}  1.450{col 61}   4.89
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.383{col 40} -0.834{col 50}  1.600{col 61}   2.05
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  0.975{col 40}  0.210{col 50}  1.740{col 61}   4.16
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.414{col 40} -0.434{col 50}  1.262{col 61}   3.60
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.165{col 40} -0.339{col 50}  0.669{col 61}   6.71
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.741{col 40} -0.066{col 50}  1.548{col 61}   3.86
{txt}{col 25}{c |}
Subgroup, DL{col 25}{c |}{col 29}{res}  0.383{col 40}  0.169{col 50}  0.597{col 61}  46.48
{txt}{hline 24}{c +}{hline 46}
Overall, DL{col 25}{c |}{col 29}{res}  0.106{col 40} -0.084{col 50}  0.296{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Tests of subgroup effect size = {res}0{txt}:
1: Cohort Studies{res}{col 25}z{txt} = {res} -1.607{txt}{col 38}p = {res}0.108
{txt}2: Case control{res}{col 25}z{txt} = {res}  3.503{txt}{col 38}p = {res}0.000
{txt}Overall{col 25}{res}{col 25}z{txt} = {res}  1.094{txt}{col 38}p = {res}0.274


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 24}{c TT}{hline 44}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value{col 64}I{c 178}
{hline 24}{c +}{hline 44}
1: Cohort Studies{col 25}{c |}{col 29}{res}  11.05{col 42}  9{col 49}  0.272{col 62}18.5%
{txt}2: Case control{col 25}{c |}{col 29}{res}   6.17{col 42}  9{col 49}  0.722{col 62} 0.0%
{txt}Overall{col 25}{c |}{col 29}{res}  32.69{col 42} 19{col 49}  0.026{col 62}41.9%
{txt}Between{col 25}{c |}{col 29}{res}  13.16{col 42}  1{col 49}  0.000
{txt}{hline 24}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using DL subgroup weights
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:40
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:40
{txt}
{com}. metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) by(type_study) nosubgroup

{txt}{col 12}Study{col 22}|{col 24}{col 28}ES{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res} -0.491{col 35} -1.023     0.041{col 60}  6.90
{txt}CA,USA 81-85 (1992){col 22}|  {res}  0.104{col 35} -0.638     0.845{col 60}  3.55
{txt}SWE 71-75 (1997){col 22}|  {res} -0.154{col 35} -1.666     1.358{col 60}  0.85
{txt}Hartman (1998){col 22}|  {res} -0.441{col 35} -1.057     0.175{col 60}  5.14
{txt}AHS (1998){col 22}|  {res} -0.556{col 35} -0.972    -0.140{col 60} 11.25
{txt}ATBC (2001){col 22}|  {res}  0.126{col 35} -0.693     0.945{col 60}  2.90
{txt}CARET (2003){col 22}|  {res}  0.195{col 35} -0.271     0.660{col 60}  8.99
{txt}Lifespan study (2004{col 22}|  {res} -0.295{col 35} -0.775     0.186{col 60}  8.45
{txt}Weinstein (2005){col 22}|  {res}  0.151{col 35} -0.403     0.705{col 60}  6.36
{txt}King (2005){col 22}|  {res}  0.162{col 35} -0.628     0.953{col 60}  3.12
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res}  0.253{col 35} -0.297     0.804{col 60}  6.42
{txt}Walker (1992){col 22}|  {res}  0.144{col 35} -0.518     0.805{col 60}  4.45
{txt}Ghadirian (1996){col 22}|  {res}  0.303{col 35} -0.461     1.066{col 60}  3.34
{txt}Ewings (1996){col 22}|  {res}  0.217{col 35} -0.356     0.789{col 60}  5.95
{txt}Hayes (1996){col 22}|  {res}  0.776{col 35}  0.102     1.450{col 60}  4.30
{txt}Lee (1998){col 22}|  {res}  0.383{col 35} -0.834     1.600{col 60}  1.32
{txt}Hsieh (1999){col 22}|  {res}  0.975{col 35}  0.210     1.740{col 60}  3.33
{txt}Joseph (2004){col 22}|  {res}  0.414{col 35} -0.434     1.262{col 60}  2.71
{txt}Friedenreich (2004){col 22}|  {res}  0.165{col 35} -0.339     0.669{col 60}  7.68
{txt}Allen (2004){col 22}|  {res}  0.741{col 35} -0.066     1.548{col 60}  2.99
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  I-V pooled ES{col 22}|  {res}  0.057{col 35} -0.083     0.196{col 60}100.00
{txt}---------------------+---------------------------------------------------
 Heterogeneity calculated by formula
  Q = SIGMA_i{ (1/variance_i)*(effect_i - effect_pooled)^2 } 
where variance_i = ((upper limit - lower limit)/(2*z))^2 

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
Overall{res}{col 20} 32.69{col 35}19{col 43}0.026{col 51}  41.9%
{txt}** I-squared: the variation in ES attributable to heterogeneity)


Significance test(s) of ES=0

Overall{col 23}z= {res} 0.80{col 35}{txt} p = {res}0.425
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:41
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:41
{txt}
{com}. metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) by(type_study) nosubgroup

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}                       
identifier (Year){col 25}{c |}   Effect   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res} -0.491{col 40} -1.023{col 50}  0.041{col 61}   6.90
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  0.104{col 40} -0.638{col 50}  0.845{col 61}   3.55
{txt}SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res} -0.154{col 40} -1.666{col 50}  1.358{col 61}   0.85
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res} -0.441{col 40} -1.057{col 50}  0.175{col 61}   5.14
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res} -0.556{col 40} -0.972{col 50} -0.140{col 61}  11.25
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  0.126{col 40} -0.693{col 50}  0.945{col 61}   2.90
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  0.195{col 40} -0.271{col 50}  0.660{col 61}   8.99
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res} -0.295{col 40} -0.775{col 50}  0.186{col 61}   8.45
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.151{col 40} -0.403{col 50}  0.705{col 61}   6.36
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.162{col 40} -0.628{col 50}  0.953{col 61}   3.12
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  0.253{col 40} -0.297{col 50}  0.804{col 61}   6.42
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  0.144{col 40} -0.518{col 50}  0.805{col 61}   4.45
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.303{col 40} -0.461{col 50}  1.066{col 61}   3.34
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.217{col 40} -0.356{col 50}  0.789{col 61}   5.95
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.776{col 40}  0.102{col 50}  1.450{col 61}   4.30
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.383{col 40} -0.834{col 50}  1.600{col 61}   1.32
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  0.975{col 40}  0.210{col 50}  1.740{col 61}   3.33
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.414{col 40} -0.434{col 50}  1.262{col 61}   2.71
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.165{col 40} -0.339{col 50}  0.669{col 61}   7.68
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.741{col 40} -0.066{col 50}  1.548{col 61}   2.99
{txt}{hline 24}{c +}{hline 46}
Overall, IV{col 25}{c |}{col 29}{res}  0.057{col 40} -0.083{col 50}  0.196{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.798{txt}  p = {res}0.425


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 24}{c TT}{hline 35}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value
{hline 24}{c +}{hline 35}
Cochran's Q{col 25}{c |}{col 29}{res}  32.69{col 42} 19{col 49}  0.026
{txt}{col 25}{c |}{col 38}{hline 1}[95% Conf. Interval]{hline 1}
H {col 25}{c |}{col 29}{res}  1.312{col 39}  1.000{col 49}  1.684
{txt}I{c 178} (%) {col 25}{c |}{col 28}{res}   41.9%{col 38}    0.0%{col 48}   64.7%
{txt}{hline 24}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:42
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:42
{txt}
{com}. metan9 logor lcilogor ucilogor, label(namevar=id, yearid=year) by(type_study) sgweight

{txt}{col 12}Study{col 22}|{col 24}{col 28}ES{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res} -0.491{col 35} -1.023     0.041{col 60} 11.99
{txt}CA,USA 81-85 (1992){col 22}|  {res}  0.104{col 35} -0.638     0.845{col 60}  6.17
{txt}SWE 71-75 (1997){col 22}|  {res} -0.154{col 35} -1.666     1.358{col 60}  1.48
{txt}Hartman (1998){col 22}|  {res} -0.441{col 35} -1.057     0.175{col 60}  8.93
{txt}AHS (1998){col 22}|  {res} -0.556{col 35} -0.972    -0.140{col 60} 19.57
{txt}ATBC (2001){col 22}|  {res}  0.126{col 35} -0.693     0.945{col 60}  5.05
{txt}CARET (2003){col 22}|  {res}  0.195{col 35} -0.271     0.660{col 60} 15.64
{txt}Lifespan study (2004{col 22}|  {res} -0.295{col 35} -0.775     0.186{col 60} 14.70
{txt}Weinstein (2005){col 22}|  {res}  0.151{col 35} -0.403     0.705{col 60} 11.05
{txt}King (2005){col 22}|  {res}  0.162{col 35} -0.628     0.953{col 60}  5.42
{txt} Sub-total{col 22}|
  I-V pooled ES{col 22}|  {res} -0.184{col 35} -0.368     0.000{col 60}100.00
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res}  0.253{col 35} -0.297     0.804{col 60} 15.12
{txt}Walker (1992){col 22}|  {res}  0.144{col 35} -0.518     0.805{col 60} 10.48
{txt}Ghadirian (1996){col 22}|  {res}  0.303{col 35} -0.461     1.066{col 60}  7.86
{txt}Ewings (1996){col 22}|  {res}  0.217{col 35} -0.356     0.789{col 60} 13.99
{txt}Hayes (1996){col 22}|  {res}  0.776{col 35}  0.102     1.450{col 60} 10.11
{txt}Lee (1998){col 22}|  {res}  0.383{col 35} -0.834     1.600{col 60}  3.10
{txt}Hsieh (1999){col 22}|  {res}  0.975{col 35}  0.210     1.740{col 60}  7.84
{txt}Joseph (2004){col 22}|  {res}  0.414{col 35} -0.434     1.262{col 60}  6.38
{txt}Friedenreich (2004){col 22}|  {res}  0.165{col 35} -0.339     0.669{col 60} 18.07
{txt}Allen (2004){col 22}|  {res}  0.741{col 35} -0.066     1.548{col 60}  7.04
{txt} Sub-total{col 22}|
  I-V pooled ES{col 22}|  {res}  0.383{col 35}  0.169     0.597{col 60}100.00
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  I-V pooled ES{col 22}|  {res}  0.057{col 35} -0.083     0.196{col 60}
{txt}---------------------+---------------------------------------------------
 Heterogeneity calculated by formula
  Q = SIGMA_i{ (1/variance_i)*(effect_i - effect_pooled)^2 } 
where variance_i = ((upper limit - lower limit)/(2*z))^2 

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 11.05{col 35} 9{col 43}0.272{col 51}  18.5%
{txt}2: Case control{res}{col 20}  6.17{col 35} 9{col 43}0.722{col 51}   0.0%
{txt}Overall{res}{col 20} 32.69{col 35}19{col 43}0.026{col 51}  41.9%
{txt}Overall Test for heterogeneity between sub-groups: 
{res}{col 20} 15.47{col 35} 1{col 43}0.000

{txt}** I-squared: the variation in ES attributable to heterogeneity)

Some heterogeneity observed (up to 18.5%) in one or more sub-groups,
Test for heterogeneity between sub-groups may be invalid

Significance test(s) of ES=0

1: Cohort Studies{col 23}z= {res} 1.96{col 35}{txt} p = {res}0.050
{txt}2: Case control{col 23}z= {res} 3.50{col 35}{txt} p = {res}0.000
{txt}Overall{col 23}z= {res} 0.80{col 35}{txt} p = {res}0.425
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:44
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:44
{txt}
{com}. metan  logor lcilogor ucilogor, label(namevar=id, yearid=year) by(type_study) sgweight

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}                       
identifier (Year){col 25}{c |}   Effect   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res} -0.491{col 40} -1.023{col 50}  0.041{col 61}  11.99
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  0.104{col 40} -0.638{col 50}  0.845{col 61}   6.17
{txt}SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res} -0.154{col 40} -1.666{col 50}  1.358{col 61}   1.48
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res} -0.441{col 40} -1.057{col 50}  0.175{col 61}   8.93
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res} -0.556{col 40} -0.972{col 50} -0.140{col 61}  19.57
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  0.126{col 40} -0.693{col 50}  0.945{col 61}   5.05
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  0.195{col 40} -0.271{col 50}  0.660{col 61}  15.64
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res} -0.295{col 40} -0.775{col 50}  0.186{col 61}  14.70
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.151{col 40} -0.403{col 50}  0.705{col 61}  11.05
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.162{col 40} -0.628{col 50}  0.953{col 61}   5.42
{txt}{col 25}{c |}
Subgroup, IV{col 25}{c |}{col 29}{res} -0.184{col 40} -0.368{col 50}  0.000{col 61} 100.00
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  0.253{col 40} -0.297{col 50}  0.804{col 61}  15.12
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  0.144{col 40} -0.518{col 50}  0.805{col 61}  10.48
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.303{col 40} -0.461{col 50}  1.066{col 61}   7.86
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.217{col 40} -0.356{col 50}  0.789{col 61}  13.99
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.776{col 40}  0.102{col 50}  1.450{col 61}  10.11
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.383{col 40} -0.834{col 50}  1.600{col 61}   3.10
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  0.975{col 40}  0.210{col 50}  1.740{col 61}   7.84
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.414{col 40} -0.434{col 50}  1.262{col 61}   6.38
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.165{col 40} -0.339{col 50}  0.669{col 61}  18.07
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.741{col 40} -0.066{col 50}  1.548{col 61}   7.04
{txt}{col 25}{c |}
Subgroup, IV{col 25}{c |}{col 29}{res}  0.383{col 40}  0.169{col 50}  0.597{col 61} 100.00
{txt}{hline 24}{c +}{hline 46}
Overall, IV{col 25}{c |}{col 29}{res}  0.057{col 40} -0.083{col 50}  0.196
{txt}{hline 24}{c BT}{hline 46}

Tests of subgroup effect size = {res}0{txt}:
1: Cohort Studies{res}{col 25}z{txt} = {res} -1.958{txt}{col 38}p = {res}0.050
{txt}2: Case control{res}{col 25}z{txt} = {res}  3.503{txt}{col 38}p = {res}0.000
{txt}Overall{col 25}{res}{col 25}z{txt} = {res}  0.798{txt}{col 38}p = {res}0.425


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 24}{c TT}{hline 44}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value{col 64}I{c 178}
{hline 24}{c +}{hline 44}
1: Cohort Studies{col 25}{c |}{col 29}{res}  11.05{col 42}  9{col 49}  0.272{col 62}18.5%
{txt}2: Case control{col 25}{c |}{col 29}{res}   6.17{col 42}  9{col 49}  0.722{col 62} 0.0%
{txt}Overall{col 25}{c |}{col 29}{res}  32.69{col 42} 19{col 49}  0.026{col 62}41.9%
{txt}Between{col 25}{c |}{col 29}{res}  15.47{col 42}  1{col 49}  0.000
{txt}Between:Within (F){col 25}{c |}{col 29}{res}  16.16{col 38}  1{txt},{res} 18{col 49}  0.001
{txt}{hline 24}{c BT}{hline 44}
Note: Some heterogeneity observed (I{c 178} up to {res}18.5%{txt}) in one or more subgroups;
  tests for heterogeneity between subgroups may not be valid
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:45
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:45
{txt}
{com}. metan9 tsa tmean tsd csa cmean csd, label(namevar=id, yearid=year) by(type_study) second(random) nosecsub

{txt}{col 12}Study{col 22}|{col 24}{col 28}SMD{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res}  0.292{col 35}  0.027     0.557{col 60}  6.82
{txt}CA,USA 81-85 (1992){col 22}|  {res}  0.008{col 35} -0.361     0.376{col 60}  3.52
{txt}SWE 71-75 (1997){col 22}|  {res} -0.136{col 35} -0.892     0.620{col 60}  0.84
{txt}Hartman (1998){col 22}|  {res}  0.279{col 35} -0.028     0.587{col 60}  5.06
{txt}AHS (1998){col 22}|  {res} -0.519{col 35} -0.728    -0.309{col 60} 10.92
{txt}ATBC (2001){col 22}|  {res}  0.012{col 35} -0.394     0.419{col 60}  2.90
{txt}CARET (2003){col 22}|  {res}  0.285{col 35}  0.052     0.518{col 60}  8.83
{txt}Lifespan study (2004{col 22}|  {res}  0.091{col 35} -0.146     0.328{col 60}  8.54
{txt}Weinstein (2005){col 22}|  {res}  0.155{col 35} -0.116     0.426{col 60}  6.53
{txt}King (2005){col 22}|  {res}  0.011{col 35} -0.381     0.403{col 60}  3.12
{txt} Sub-total{col 22}|
  I-V pooled SMD{col 22}|  {res}  0.036{col 35} -0.056     0.127{col 60} 57.08
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res} -0.078{col 35} -0.350     0.195{col 60}  6.45
{txt}Walker (1992){col 22}|  {res} -0.066{col 35} -0.396     0.264{col 60}  4.39
{txt}Ghadirian (1996){col 22}|  {res} -0.021{col 35} -0.402     0.360{col 60}  3.31
{txt}Ewings (1996){col 22}|  {res} -0.254{col 35} -0.531     0.022{col 60}  6.28
{txt}Hayes (1996){col 22}|  {res}  0.203{col 35} -0.128     0.534{col 60}  4.37
{txt}Lee (1998){col 22}|  {res}  0.528{col 35} -0.088     1.144{col 60}  1.26
{txt}Hsieh (1999){col 22}|  {res}  0.048{col 35} -0.321     0.417{col 60}  3.52
{txt}Joseph (2004){col 22}|  {res} -0.330{col 35} -0.753     0.093{col 60}  2.68
{txt}Friedenreich (2004){col 22}|  {res}  0.024{col 35} -0.227     0.275{col 60}  7.61
{txt}Allen (2004){col 22}|  {res}  0.106{col 35} -0.290     0.503{col 60}  3.05
{txt} Sub-total{col 22}|
  I-V pooled SMD{col 22}|  {res} -0.026{col 35} -0.132     0.080{col 60} 42.92
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  I-V pooled SMD{col 22}|  {res}  0.009{col 35} -0.060     0.078{col 60}100.00
{txt}  D+L pooled SMD{col 22}|  {res}  0.025{col 35} -0.092     0.141
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 38.51{col 35} 9{col 43}0.000{col 51}  76.6%
{txt}2: Case control{res}{col 20} 10.48{col 35} 9{col 43}0.313{col 51}  14.1%
{txt}Overall{res}{col 20} 49.73{col 35}19{col 43}0.000{col 51}  61.8%
{txt}Overall Test for heterogeneity between sub-groups: 
{res}{col 20}  0.74{col 35} 1{col 43}0.389

{txt}** I-squared: the variation in SMD attributable to heterogeneity)

Considerable heterogeneity observed (up to 76.6%) in one or more sub-groups,
Test for heterogeneity between sub-groups likely to be invalid

Significance test(s) of SMD=0

1: Cohort Studies{col 23}z= {res} 0.76{col 35}{txt} p = {res}0.447
{txt}2: Case control{col 23}z= {res} 0.48{col 35}{txt} p = {res}0.631
{txt}Overall{col 23}z= {res} 0.26{col 35}{txt} p = {res}0.795
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:46
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:46
{txt}
{com}. metan  tsa tmean tsd csa cmean csd, label(namevar=id, yearid=year) by(type_study) second(random) nosecsub

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Standardised Mean Differences
{txt}  by the method of {res}Cohen
{txt}using {res}multiple analysis methods

{txt}{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}            {col 62}% Weight,
identifier (Year){col 25}{c |}     SMD    {col 39}[95% Conf. Interval]{col 65}IV
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res}  0.292{col 40}  0.027{col 50}  0.557{col 61}   6.82
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  0.008{col 40} -0.361{col 50}  0.376{col 61}   3.52
{txt}SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res} -0.136{col 40} -0.892{col 50}  0.620{col 61}   0.84
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.279{col 40} -0.028{col 50}  0.587{col 61}   5.06
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res} -0.519{col 40} -0.728{col 50} -0.309{col 61}  10.92
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  0.012{col 40} -0.394{col 50}  0.419{col 61}   2.90
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  0.285{col 40}  0.052{col 50}  0.518{col 61}   8.83
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.091{col 40} -0.146{col 50}  0.328{col 61}   8.54
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.155{col 40} -0.116{col 50}  0.426{col 61}   6.53
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  0.011{col 40} -0.381{col 50}  0.403{col 61}   3.12
{txt}{col 25}{c |}
Subgroup, IV{col 25}{c |}{col 29}{res}  0.036{col 40} -0.056{col 50}  0.127{col 61}  57.08
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res} -0.078{col 40} -0.350{col 50}  0.195{col 61}   6.45
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res} -0.066{col 40} -0.396{col 50}  0.264{col 61}   4.39
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res} -0.021{col 40} -0.402{col 50}  0.360{col 61}   3.31
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res} -0.254{col 40} -0.531{col 50}  0.022{col 61}   6.28
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  0.203{col 40} -0.128{col 50}  0.534{col 61}   4.37
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.528{col 40} -0.088{col 50}  1.144{col 61}   1.26
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  0.048{col 40} -0.321{col 50}  0.417{col 61}   3.52
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res} -0.330{col 40} -0.753{col 50}  0.093{col 61}   2.68
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.024{col 40} -0.227{col 50}  0.275{col 61}   7.61
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.106{col 40} -0.290{col 50}  0.503{col 61}   3.05
{txt}{col 25}{c |}
Subgroup, IV{col 25}{c |}{col 29}{res} -0.026{col 40} -0.132{col 50}  0.080{col 61}  42.92
{txt}{hline 24}{c +}{hline 46}
Overall, IV{col 25}{c |}{col 29}{res}  0.009{col 40} -0.060{col 50}  0.078{col 61} 100.00
{txt}Overall, DL{col 25}{c |}{col 29}{res}  0.025{col 40} -0.092{col 50}  0.141
{txt}{hline 24}{c BT}{hline 46}

Tests of subgroup effect size = {res}0{txt}:
1: Cohort Studies
  IV {res}{col 20}z{txt} = {res}  0.760{txt}{col 33}p = {res}0.447
{txt}2: Case control
  IV {res}{col 20}z{txt} = {res} -0.480{txt}{col 33}p = {res}0.631

{txt}Tests of overall effect = {res}0{txt}:
  IV{res}{col 20}z{txt} = {res}  0.260{txt}{col 33}p = {res}0.795
{txt}  DL{res}{col 20}z{txt} = {res}  0.412{txt}{col 33}p = {res}0.680


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 24}{c TT}{hline 44}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value{col 64}I{c 178}
{hline 24}{c +}{hline 44}
1: Cohort Studies{col 25}{c |}{col 29}{res}  38.51{col 42}  9{col 49}  0.000{col 62}76.6%
{txt}2: Case control{col 25}{c |}{col 29}{res}  10.48{col 42}  9{col 49}  0.313{col 62}14.1%
{txt}Overall{col 25}{c |}{col 29}{res}  49.73{col 42} 19{col 49}  0.000{col 62}61.8%
{txt}Between{col 25}{c |}{col 29}{res}   0.74{col 42}  1{col 49}  0.389
{txt}Between:Within (F){col 25}{c |}{col 29}{res}   0.27{col 38}  1{txt},{res} 18{col 49}  0.608
{txt}{hline 24}{c BT}{hline 44}
Note: Considerable heterogeneity observed (I{c 178} up to {res}76.6%{txt}) in one or more subgroups;
  tests for heterogeneity between subgroups are likely to be invalid
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:47
{txt}{.-}

{com}. 
. // with zero cell counts
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:47
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) by(type_study)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}CA,USA 81-85 (1992){col 22}|  {res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}SWE 71-75 (1997){col 22}|  {res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Hartman (1998){col 22}|  {res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}AHS (1998){col 22}|  {res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}ATBC (2001){col 22}|  {res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}CARET (2003){col 22}|  {res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}Lifespan study (2004{col 22}|  {res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Weinstein (2005){col 22}|  {res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}King (2005){col 22}|  {res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  0.906{col 35}  0.821     1.000{col 60} 57.05
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}Walker (1992){col 22}|  {res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ghadirian (1996){col 22}|  {res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Ewings (1996){col 22}|  {res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Hayes (1996){col 22}|  {res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}Lee (1998){col 22}|  {res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Hsieh (1999){col 22}|  {res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}Joseph (2004){col 22}|  {res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Friedenreich (2004){col 22}|  {res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}Allen (2004){col 22}|  {res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  1.193{col 35}  1.081     1.317{col 60} 42.95
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  M-H pooled RR{col 22}|  {res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 10.36{col 35} 9{col 43}0.322{col 51}  13.2%
{txt}2: Case control{res}{col 20}  6.93{col 35} 9{col 43}0.644{col 51}   0.0%
{txt}Overall{res}{col 20} 31.68{col 35}19{col 43}0.034{col 51}  40.0%
{txt}** I-squared: the variation in RR attributable to heterogeneity)

Note: between group heterogeneity not calculated;
only valid with inverse variance method

Significance test(s) of RR=1

1: Cohort Studies{col 23}z= {res} 1.97{col 35}{txt} p = {res}0.049
{txt}2: Case control{col 23}z= {res} 3.51{col 35}{txt} p = {res}0.000
{txt}Overall{col 23}z= {res} 0.81{col 35}{txt} p = {res}0.418
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:48
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:48
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) by(type_study)

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}    Risk               
identifier (Year){col 25}{c |}    ratio   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res}  0.788{col 40}  0.608{col 50}  1.022{col 61}   8.10
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.059{col 40}  0.705{col 50}  1.590{col 61}   3.15
{txt}SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res}  0.923{col 40}  0.420{col 50}  2.028{col 61}   0.86
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.804{col 40}  0.592{col 50}  1.092{col 61}   5.85
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.752{col 40}  0.607{col 50}  0.933{col 61}  12.84
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  1.073{col 40}  0.679{col 50}  1.696{col 61}   2.52
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  1.111{col 40}  0.864{col 50}  1.427{col 61}   7.96
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.845{col 40}  0.641{col 50}  1.113{col 61}   8.07
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.096{col 40}  0.784{col 50}  1.532{col 61}   5.04
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.095{col 40}  0.703{col 50}  1.706{col 61}   2.67
{txt}{col 25}{c |}
Subgroup, MH{col 25}{c |}{col 29}{res}  0.906{col 40}  0.821{col 50}  1.000{col 61}  57.05
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.878{col 50}  1.419{col 61}   7.03
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.782{col 50}  1.466{col 61}   4.55
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.790{col 50}  1.724{col 61}   3.05
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.878{col 50}  1.334{col 61}   7.87
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.049{col 50}  2.153{col 61}   3.41
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.671{col 50}  2.147{col 61}   1.27
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.086{col 50}  2.187{col 61}   3.13
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.790{col 50}  1.981{col 61}   2.26
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.855{col 50}  1.363{col 61}   8.01
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  0.960{col 50}  2.283{col 61}   2.37
{txt}{col 25}{c |}
Subgroup, MH{col 25}{c |}{col 29}{res}  1.193{col 40}  1.081{col 50}  1.317{col 61}  42.95
{txt}{hline 24}{c +}{hline 46}
Overall, MH{col 25}{c |}{col 29}{res}  1.029{col 40}  0.960{col 50}  1.104{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Tests of subgroup effect size = {res}1{txt}:
1: Cohort Studies{res}{col 25}z{txt} = {res} -1.967{txt}{col 38}p = {res}0.049
{txt}2: Case control{res}{col 25}z{txt} = {res}  3.511{txt}{col 38}p = {res}0.000
{txt}Overall{col 25}{res}{col 25}z{txt} = {res}  0.811{txt}{col 38}p = {res}0.418


{txt}Mantel-Haenszel Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 24}{c TT}{hline 44}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value{col 64}I{c 178}
{hline 24}{c +}{hline 44}
1: Cohort Studies{col 25}{c |}{col 29}{res}  10.36{col 42}  9{col 49}  0.322{col 62}13.2%
{txt}2: Case control{col 25}{c |}{col 29}{res}   6.93{col 42}  9{col 49}  0.644{col 62} 0.0%
{txt}Overall{col 25}{c |}{col 29}{res}  31.68{col 42} 19{col 49}  0.034{col 62}40.0%
{txt}Between{col 25}{c |}{col 29}{res}  15.01{col 42}  1{col 49}  0.000
{txt}{hline 24}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using MH subgroup weights
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:49
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:49
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) by(type_study) sgweight

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res}  0.788{col 35}  0.608     1.022{col 60} 14.20
{txt}CA,USA 81-85 (1992){col 22}|  {res}  1.059{col 35}  0.705     1.590{col 60}  5.52
{txt}SWE 71-75 (1997){col 22}|  {res}  0.923{col 35}  0.420     2.028{col 60}  1.50
{txt}Hartman (1998){col 22}|  {res}  0.804{col 35}  0.592     1.092{col 60} 10.25
{txt}AHS (1998){col 22}|  {res}  0.752{col 35}  0.607     0.933{col 60} 22.51
{txt}ATBC (2001){col 22}|  {res}  1.073{col 35}  0.679     1.696{col 60}  4.41
{txt}CARET (2003){col 22}|  {res}  1.111{col 35}  0.864     1.427{col 60} 13.94
{txt}Lifespan study (2004{col 22}|  {res}  0.845{col 35}  0.641     1.113{col 60} 14.14
{txt}Weinstein (2005){col 22}|  {res}  1.096{col 35}  0.784     1.532{col 60}  8.83
{txt}King (2005){col 22}|  {res}  1.095{col 35}  0.703     1.706{col 60}  4.68
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  0.906{col 35}  0.821     1.000{col 60}100.00
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res}  1.116{col 35}  0.878     1.419{col 60} 16.36
{txt}Walker (1992){col 22}|  {res}  1.071{col 35}  0.782     1.466{col 60} 10.58
{txt}Ghadirian (1996){col 22}|  {res}  1.167{col 35}  0.790     1.724{col 60}  7.11
{txt}Ewings (1996){col 22}|  {res}  1.082{col 35}  0.878     1.334{col 60} 18.33
{txt}Hayes (1996){col 22}|  {res}  1.503{col 35}  1.049     2.153{col 60}  7.94
{txt}Lee (1998){col 22}|  {res}  1.200{col 35}  0.671     2.147{col 60}  2.96
{txt}Hsieh (1999){col 22}|  {res}  1.541{col 35}  1.086     2.187{col 60}  7.29
{txt}Joseph (2004){col 22}|  {res}  1.251{col 35}  0.790     1.981{col 60}  5.27
{txt}Friedenreich (2004){col 22}|  {res}  1.079{col 35}  0.855     1.363{col 60} 18.65
{txt}Allen (2004){col 22}|  {res}  1.480{col 35}  0.960     2.283{col 60}  5.51
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  1.193{col 35}  1.081     1.317{col 60}100.00
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  M-H pooled RR{col 22}|  {res}  1.029{col 35}  0.960     1.104{col 60}
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 10.36{col 35} 9{col 43}0.322{col 51}  13.2%
{txt}2: Case control{res}{col 20}  6.93{col 35} 9{col 43}0.644{col 51}   0.0%
{txt}Overall{res}{col 20} 31.68{col 35}19{col 43}0.034{col 51}  40.0%
{txt}** I-squared: the variation in RR attributable to heterogeneity)

Note: between group heterogeneity not calculated;
only valid with inverse variance method

Significance test(s) of RR=1

1: Cohort Studies{col 23}z= {res} 1.97{col 35}{txt} p = {res}0.049
{txt}2: Case control{col 23}z= {res} 3.51{col 35}{txt} p = {res}0.000
{txt}Overall{col 23}z= {res} 0.81{col 35}{txt} p = {res}0.418
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:50
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:50
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) by(type_study) sgweight

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}    Risk               
identifier (Year){col 25}{c |}    ratio   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res}  0.788{col 40}  0.608{col 50}  1.022{col 61}  14.20
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.059{col 40}  0.705{col 50}  1.590{col 61}   5.52
{txt}SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res}  0.923{col 40}  0.420{col 50}  2.028{col 61}   1.50
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.804{col 40}  0.592{col 50}  1.092{col 61}  10.25
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.752{col 40}  0.607{col 50}  0.933{col 61}  22.51
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  1.073{col 40}  0.679{col 50}  1.696{col 61}   4.41
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  1.111{col 40}  0.864{col 50}  1.427{col 61}  13.94
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.845{col 40}  0.641{col 50}  1.113{col 61}  14.14
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.096{col 40}  0.784{col 50}  1.532{col 61}   8.83
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.095{col 40}  0.703{col 50}  1.706{col 61}   4.68
{txt}{col 25}{c |}
Subgroup, MH{col 25}{c |}{col 29}{res}  0.906{col 40}  0.821{col 50}  1.000{col 61} 100.00
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.878{col 50}  1.419{col 61}  16.36
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.782{col 50}  1.466{col 61}  10.58
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.790{col 50}  1.724{col 61}   7.11
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.878{col 50}  1.334{col 61}  18.33
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.049{col 50}  2.153{col 61}   7.94
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.671{col 50}  2.147{col 61}   2.96
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.086{col 50}  2.187{col 61}   7.29
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.790{col 50}  1.981{col 61}   5.27
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.855{col 50}  1.363{col 61}  18.65
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  0.960{col 50}  2.283{col 61}   5.51
{txt}{col 25}{c |}
Subgroup, MH{col 25}{c |}{col 29}{res}  1.193{col 40}  1.081{col 50}  1.317{col 61} 100.00
{txt}{hline 24}{c +}{hline 46}
Overall, MH{col 25}{c |}{col 29}{res}  1.029{col 40}  0.960{col 50}  1.104
{txt}{hline 24}{c BT}{hline 46}

Tests of subgroup effect size = {res}1{txt}:
1: Cohort Studies{res}{col 25}z{txt} = {res} -1.967{txt}{col 38}p = {res}0.049
{txt}2: Case control{res}{col 25}z{txt} = {res}  3.511{txt}{col 38}p = {res}0.000
{txt}Overall{col 25}{res}{col 25}z{txt} = {res}  0.811{txt}{col 38}p = {res}0.418


{txt}Mantel-Haenszel Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 24}{c TT}{hline 44}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value{col 64}I{c 178}
{hline 24}{c +}{hline 44}
1: Cohort Studies{col 25}{c |}{col 29}{res}  10.36{col 42}  9{col 49}  0.322{col 62}13.2%
{txt}2: Case control{col 25}{c |}{col 29}{res}   6.93{col 42}  9{col 49}  0.644{col 62} 0.0%
{txt}Overall{col 25}{c |}{col 29}{res}  31.68{col 42} 19{col 49}  0.034{col 62}40.0%
{txt}Between{col 25}{c |}{col 29}{res}  15.01{col 42}  1{col 49}  0.000
{txt}{hline 24}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using MH subgroup weights
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:51
{txt}{.-}

{com}. 
. 
. 
. *** output_options: log eform efficacy ilevel(#) olevel(#)
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:51
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) log

{txt}{col 12}Study{col 22}|{col 24}log{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res} -0.238{col 35} -0.497     0.022{col 60}  8.10
{txt}Ohno (1988){col 22}|{res}  0.110{col 35} -0.130     0.350{col 60}  7.03
{txt}CA,USA 81-85 (1992){col 22}|{res}  0.057{col 35} -0.350     0.464{col 60}  3.15
{txt}Walker (1992){col 22}|{res}  0.068{col 35} -0.246     0.383{col 60}  4.55
{txt}Ghadirian (1996){col 22}|{res}  0.154{col 35} -0.236     0.544{col 60}  3.05
{txt}Ewings (1996){col 22}|{res}  0.079{col 35} -0.130     0.288{col 60}  7.87
{txt}Hayes (1996){col 22}|{res}  0.407{col 35}  0.048     0.767{col 60}  3.41
{txt}SWE 71-75 (1997){col 22}|{res} -0.080{col 35} -0.867     0.707{col 60}  0.86
{txt}Hartman (1998){col 22}|{res} -0.218{col 35} -0.524     0.088{col 60}  5.85
{txt}AHS (1998){col 22}|{res} -0.284{col 35} -0.499    -0.070{col 60} 12.84
{txt}Lee (1998){col 22}|{res}  0.182{col 35} -0.399     0.764{col 60}  1.27
{txt}Hsieh (1999){col 22}|{res}  0.432{col 35}  0.082     0.782{col 60}  3.13
{txt}ATBC (2001){col 22}|{res}  0.070{col 35} -0.388     0.528{col 60}  2.52
{txt}CARET (2003){col 22}|{res}  0.105{col 35} -0.146     0.356{col 60}  7.96
{txt}Lifespan study (2004{col 22}|{res} -0.169{col 35} -0.444     0.107{col 60}  8.07
{txt}Joseph (2004){col 22}|{res}  0.224{col 35} -0.236     0.683{col 60}  2.26
{txt}Friedenreich (2004){col 22}|{res}  0.076{col 35} -0.157     0.310{col 60}  8.01
{txt}Allen (2004){col 22}|{res}  0.392{col 35} -0.041     0.825{col 60}  2.37
{txt}Weinstein (2005){col 22}|{res}  0.091{col 35} -0.244     0.426{col 60}  5.04
{txt}King (2005){col 22}|{res}  0.091{col 35} -0.352     0.534{col 60}  2.67
{txt}---------------------+---------------------------------------------------
M-H pooled logRR{col 22}|{res}  0.029{col 35} -0.041     0.099{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of logRR=0 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:52
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:52
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) log

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} log Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}  log Risk             
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res} -0.238{col 38} -0.497{col 48}  0.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.110{col 38} -0.130{col 48}  0.350{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.057{col 38} -0.350{col 48}  0.464{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.068{col 38} -0.246{col 48}  0.383{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.154{col 38} -0.236{col 48}  0.544{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.079{col 38} -0.130{col 48}  0.288{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.407{col 38}  0.048{col 48}  0.767{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.080{col 38} -0.867{col 48}  0.707{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.218{col 38} -0.524{col 48}  0.088{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.284{col 38} -0.499{col 48} -0.070{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.182{col 38} -0.399{col 48}  0.764{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.432{col 38}  0.082{col 48}  0.782{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.070{col 38} -0.388{col 48}  0.528{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.105{col 38} -0.146{col 48}  0.356{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.169{col 38} -0.444{col 48}  0.107{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.224{col 38} -0.236{col 48}  0.683{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.076{col 38} -0.157{col 48}  0.310{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.392{col 38} -0.041{col 48}  0.825{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.091{col 38} -0.244{col 48}  0.426{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.091{col 38} -0.352{col 48}  0.534{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  0.029{col 38} -0.041{col 48}  0.099{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:53
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:53
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) eform           // eform not allowed
{err}option {bf:eform} not allowed
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:53
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:53
{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) eform           // eform allowed, but has no effect

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}                       
(Year){col 23}{c |}   exp(b)   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:54
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:54
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) efficacy

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of RR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:55
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:55
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) efficacy

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:56
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:56
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) by(type_study) ilevel(80)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[80% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res}  0.788{col 35}  0.665     0.934{col 60}  8.10
{txt}CA,USA 81-85 (1992){col 22}|  {res}  1.059{col 35}  0.811     1.381{col 60}  3.15
{txt}SWE 71-75 (1997){col 22}|  {res}  0.923{col 35}  0.552     1.544{col 60}  0.86
{txt}Hartman (1998){col 22}|  {res}  0.804{col 35}  0.658     0.983{col 60}  5.85
{txt}AHS (1998){col 22}|  {res}  0.752{col 35}  0.654     0.866{col 60} 12.84
{txt}ATBC (2001){col 22}|  {res}  1.073{col 35}  0.795     1.447{col 60}  2.52
{txt}CARET (2003){col 22}|  {res}  1.111{col 35}  0.943     1.309{col 60}  7.96
{txt}Lifespan study (2004{col 22}|  {res}  0.845{col 35}  0.705     1.012{col 60}  8.07
{txt}Weinstein (2005){col 22}|  {res}  1.096{col 35}  0.880     1.364{col 60}  5.04
{txt}King (2005){col 22}|  {res}  1.095{col 35}  0.820     1.463{col 60}  2.67
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  0.906{col 35}  0.821     1.000{col 60} 57.05
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res}  1.116{col 35}  0.954     1.306{col 60}  7.03
{txt}Walker (1992){col 22}|  {res}  1.071{col 35}  0.872     1.315{col 60}  4.55
{txt}Ghadirian (1996){col 22}|  {res}  1.167{col 35}  0.904     1.506{col 60}  3.05
{txt}Ewings (1996){col 22}|  {res}  1.082{col 35}  0.944     1.241{col 60}  7.87
{txt}Hayes (1996){col 22}|  {res}  1.503{col 35}  1.188     1.901{col 60}  3.41
{txt}Lee (1998){col 22}|  {res}  1.200{col 35}  0.820     1.755{col 60}  1.27
{txt}Hsieh (1999){col 22}|  {res}  1.541{col 35}  1.226     1.937{col 60}  3.13
{txt}Joseph (2004){col 22}|  {res}  1.251{col 35}  0.926     1.689{col 60}  2.26
{txt}Friedenreich (2004){col 22}|  {res}  1.079{col 35}  0.927     1.257{col 60}  8.01
{txt}Allen (2004){col 22}|  {res}  1.480{col 35}  1.115     1.965{col 60}  2.37
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  1.193{col 35}  1.081     1.317{col 60} 42.95
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}[95% Conf. Interval]
  M-H pooled RR{col 22}|  {res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 10.36{col 35} 9{col 43}0.322{col 51}  13.2%
{txt}2: Case control{res}{col 20}  6.93{col 35} 9{col 43}0.644{col 51}   0.0%
{txt}Overall{res}{col 20} 31.68{col 35}19{col 43}0.034{col 51}  40.0%
{txt}** I-squared: the variation in RR attributable to heterogeneity)

Note: between group heterogeneity not calculated;
only valid with inverse variance method

Significance test(s) of RR=1

1: Cohort Studies{col 23}z= {res} 1.97{col 35}{txt} p = {res}0.049
{txt}2: Case control{col 23}z= {res} 3.51{col 35}{txt} p = {res}0.000
{txt}Overall{col 23}z= {res} 0.81{col 35}{txt} p = {res}0.418
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:58
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:58
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) by(type_study) ilevel(80)

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}    Risk               
identifier (Year){col 25}{c |}    ratio   {col 39}[80% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res}  0.788{col 40}  0.665{col 50}  0.934{col 61}   8.10
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.059{col 40}  0.811{col 50}  1.381{col 61}   3.15
{txt}SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res}  0.923{col 40}  0.552{col 50}  1.544{col 61}   0.86
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.804{col 40}  0.658{col 50}  0.983{col 61}   5.85
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.752{col 40}  0.654{col 50}  0.866{col 61}  12.84
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  1.073{col 40}  0.795{col 50}  1.447{col 61}   2.52
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  1.111{col 40}  0.943{col 50}  1.309{col 61}   7.96
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.845{col 40}  0.705{col 50}  1.012{col 61}   8.07
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.096{col 40}  0.880{col 50}  1.364{col 61}   5.04
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.095{col 40}  0.820{col 50}  1.463{col 61}   2.67
{txt}{col 25}{c |}{col 38}{hline 1}[95% Conf. Interval]{hline 1}
Subgroup, MH{col 25}{c |}{col 29}{res}  0.906{col 40}  0.821{col 50}  1.000{col 61}  57.05
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.954{col 50}  1.306{col 61}   7.03
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.872{col 50}  1.315{col 61}   4.55
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.904{col 50}  1.506{col 61}   3.05
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.944{col 50}  1.241{col 61}   7.87
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.188{col 50}  1.901{col 61}   3.41
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.820{col 50}  1.755{col 61}   1.27
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.226{col 50}  1.937{col 61}   3.13
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.926{col 50}  1.689{col 61}   2.26
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.927{col 50}  1.257{col 61}   8.01
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  1.115{col 50}  1.965{col 61}   2.37
{txt}{col 25}{c |}{col 38}{hline 1}[95% Conf. Interval]{hline 1}
Subgroup, MH{col 25}{c |}{col 29}{res}  1.193{col 40}  1.081{col 50}  1.317{col 61}  42.95
{txt}{hline 24}{c +}{hline 13}[95% Conf. Interval]{hline 13}
Overall, MH{col 25}{c |}{col 29}{res}  1.029{col 40}  0.960{col 50}  1.104{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Tests of subgroup effect size = {res}1{txt}:
1: Cohort Studies{res}{col 25}z{txt} = {res} -1.967{txt}{col 38}p = {res}0.049
{txt}2: Case control{res}{col 25}z{txt} = {res}  3.511{txt}{col 38}p = {res}0.000
{txt}Overall{col 25}{res}{col 25}z{txt} = {res}  0.811{txt}{col 38}p = {res}0.418


{txt}Mantel-Haenszel Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 24}{c TT}{hline 44}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value{col 64}I{c 178}
{hline 24}{c +}{hline 44}
1: Cohort Studies{col 25}{c |}{col 29}{res}  10.36{col 42}  9{col 49}  0.322{col 62}13.2%
{txt}2: Case control{col 25}{c |}{col 29}{res}   6.93{col 42}  9{col 49}  0.644{col 62} 0.0%
{txt}Overall{col 25}{c |}{col 29}{res}  31.68{col 42} 19{col 49}  0.034{col 62}40.0%
{txt}Between{col 25}{c |}{col 29}{res}  15.01{col 42}  1{col 49}  0.000
{txt}{hline 24}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using MH subgroup weights
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:49:59
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:49:59
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) by(type_study) olevel(80)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}CA,USA 81-85 (1992){col 22}|  {res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}SWE 71-75 (1997){col 22}|  {res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Hartman (1998){col 22}|  {res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}AHS (1998){col 22}|  {res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}ATBC (2001){col 22}|  {res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}CARET (2003){col 22}|  {res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}Lifespan study (2004{col 22}|  {res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Weinstein (2005){col 22}|  {res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}King (2005){col 22}|  {res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  0.906{col 35}  0.849     0.966{col 60} 57.05
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}Walker (1992){col 22}|  {res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ghadirian (1996){col 22}|  {res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Ewings (1996){col 22}|  {res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Hayes (1996){col 22}|  {res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}Lee (1998){col 22}|  {res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Hsieh (1999){col 22}|  {res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}Joseph (2004){col 22}|  {res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Friedenreich (2004){col 22}|  {res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}Allen (2004){col 22}|  {res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  1.193{col 35}  1.119     1.273{col 60} 42.95
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}[80% Conf. Interval]
  M-H pooled RR{col 22}|  {res}  1.029{col 35}  0.983     1.077{col 60}100.00
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 10.36{col 35} 9{col 43}0.322{col 51}  13.2%
{txt}2: Case control{res}{col 20}  6.93{col 35} 9{col 43}0.644{col 51}   0.0%
{txt}Overall{res}{col 20} 31.68{col 35}19{col 43}0.034{col 51}  40.0%
{txt}** I-squared: the variation in RR attributable to heterogeneity)

Note: between group heterogeneity not calculated;
only valid with inverse variance method

Significance test(s) of RR=1

1: Cohort Studies{col 23}z= {res} 1.97{col 35}{txt} p = {res}0.049
{txt}2: Case control{col 23}z= {res} 3.51{col 35}{txt} p = {res}0.000
{txt}Overall{col 23}z= {res} 0.81{col 35}{txt} p = {res}0.418
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:00
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:00
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) by(type_study) olevel(80)

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}    Risk               
identifier (Year){col 25}{c |}    ratio   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res}  0.788{col 40}  0.608{col 50}  1.022{col 61}   8.10
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.059{col 40}  0.705{col 50}  1.590{col 61}   3.15
{txt}SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res}  0.923{col 40}  0.420{col 50}  2.028{col 61}   0.86
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.804{col 40}  0.592{col 50}  1.092{col 61}   5.85
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.752{col 40}  0.607{col 50}  0.933{col 61}  12.84
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  1.073{col 40}  0.679{col 50}  1.696{col 61}   2.52
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  1.111{col 40}  0.864{col 50}  1.427{col 61}   7.96
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.845{col 40}  0.641{col 50}  1.113{col 61}   8.07
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.096{col 40}  0.784{col 50}  1.532{col 61}   5.04
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.095{col 40}  0.703{col 50}  1.706{col 61}   2.67
{txt}{col 25}{c |}{col 38}{hline 1}[80% Conf. Interval]{hline 1}
Subgroup, MH{col 25}{c |}{col 29}{res}  0.906{col 40}  0.849{col 50}  0.966{col 61}  57.05
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.878{col 50}  1.419{col 61}   7.03
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.782{col 50}  1.466{col 61}   4.55
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.790{col 50}  1.724{col 61}   3.05
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.878{col 50}  1.334{col 61}   7.87
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.049{col 50}  2.153{col 61}   3.41
{txt}Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.671{col 50}  2.147{col 61}   1.27
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.086{col 50}  2.187{col 61}   3.13
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.790{col 50}  1.981{col 61}   2.26
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.855{col 50}  1.363{col 61}   8.01
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  0.960{col 50}  2.283{col 61}   2.37
{txt}{col 25}{c |}{col 38}{hline 1}[80% Conf. Interval]{hline 1}
Subgroup, MH{col 25}{c |}{col 29}{res}  1.193{col 40}  1.119{col 50}  1.273{col 61}  42.95
{txt}{hline 24}{c +}{hline 13}[80% Conf. Interval]{hline 13}
Overall, MH{col 25}{c |}{col 29}{res}  1.029{col 40}  0.983{col 50}  1.077{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Tests of subgroup effect size = {res}1{txt}:
1: Cohort Studies{res}{col 25}z{txt} = {res} -1.967{txt}{col 38}p = {res}0.049
{txt}2: Case control{res}{col 25}z{txt} = {res}  3.511{txt}{col 38}p = {res}0.000
{txt}Overall{col 25}{res}{col 25}z{txt} = {res}  0.811{txt}{col 38}p = {res}0.418


{txt}Mantel-Haenszel Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 24}{c TT}{hline 44}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value{col 64}I{c 178}
{hline 24}{c +}{hline 44}
1: Cohort Studies{col 25}{c |}{col 29}{res}  10.36{col 42}  9{col 49}  0.322{col 62}13.2%
{txt}2: Case control{col 25}{c |}{col 29}{res}   6.93{col 42}  9{col 49}  0.644{col 62} 0.0%
{txt}Overall{col 25}{c |}{col 29}{res}  31.68{col 42} 19{col 49}  0.034{col 62}40.0%
{txt}Between{col 25}{c |}{col 29}{res}  15.01{col 42}  1{col 49}  0.000
{txt}{hline 24}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using MH subgroup weights
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:01
{txt}{.-}

{com}. 
. 
. 
. *** output_options: sortby(varlist) label(namevar yearvar)
. // Note, there is some inconsistency in the way this option is documented
. //   option list says "yearvar", but Examples and code itself uses "yearid"
. // In -metan- v4.0x, either is permitted; but only "yearvar" is documented, to match with "namevar"
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:01
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) sortby(n_pos)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of RR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:02
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:02
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) sortby(n_pos)

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:03
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:03
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) sortby(n_pos) by(type_study)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
SWE 71-75 (1997){col 22}|  {res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}ATBC (2001){col 22}|  {res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}King (2005){col 22}|  {res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt}CA,USA 81-85 (1992){col 22}|  {res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}Hartman (1998){col 22}|  {res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}Weinstein (2005){col 22}|  {res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}AHS 60-80 (1984){col 22}|  {res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}Lifespan study (2004{col 22}|  {res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}CARET (2003){col 22}|  {res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}AHS (1998){col 22}|  {res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  0.906{col 35}  0.821     1.000{col 60} 57.05
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Lee (1998){col 22}|  {res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Joseph (2004){col 22}|  {res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Allen (2004){col 22}|  {res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt}Ghadirian (1996){col 22}|  {res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Hsieh (1999){col 22}|  {res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}Hayes (1996){col 22}|  {res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}Walker (1992){col 22}|  {res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ohno (1988){col 22}|  {res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}Ewings (1996){col 22}|  {res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Friedenreich (2004){col 22}|  {res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  1.193{col 35}  1.081     1.317{col 60} 42.95
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  M-H pooled RR{col 22}|  {res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 10.36{col 35} 9{col 43}0.322{col 51}  13.2%
{txt}2: Case control{res}{col 20}  6.93{col 35} 9{col 43}0.644{col 51}   0.0%
{txt}Overall{res}{col 20} 31.68{col 35}19{col 43}0.034{col 51}  40.0%
{txt}** I-squared: the variation in RR attributable to heterogeneity)

Note: between group heterogeneity not calculated;
only valid with inverse variance method

Significance test(s) of RR=1

1: Cohort Studies{col 23}z= {res} 1.97{col 35}{txt} p = {res}0.049
{txt}2: Case control{col 23}z= {res} 3.51{col 35}{txt} p = {res}0.000
{txt}Overall{col 23}z= {res} 0.81{col 35}{txt} p = {res}0.418
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:04
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:04
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) sortby(n_pos) by(type_study)

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 24}{c TT}{hline 46}
Type of study and Study{col 25}{c |}    Risk               
identifier (Year){col 25}{c |}    ratio   {col 39}[95% Conf. Interval]{col 62}% Weight
{hline 24}{c +}{hline 46}
1: Cohort Studies{col 25}{c |}
SWE 71-75 (1997){res}{txt}{col 25}{c |}{col 29}{res}  0.923{col 40}  0.420{col 50}  2.028{col 61}   0.86
{txt}ATBC (2001){res}{txt}{col 25}{c |}{col 29}{res}  1.073{col 40}  0.679{col 50}  1.696{col 61}   2.52
{txt}King (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.095{col 40}  0.703{col 50}  1.706{col 61}   2.67
{txt}CA,USA 81-85 (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.059{col 40}  0.705{col 50}  1.590{col 61}   3.15
{txt}Hartman (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.804{col 40}  0.592{col 50}  1.092{col 61}   5.85
{txt}Weinstein (2005){res}{txt}{col 25}{c |}{col 29}{res}  1.096{col 40}  0.784{col 50}  1.532{col 61}   5.04
{txt}AHS 60-80 (1984){res}{txt}{col 25}{c |}{col 29}{res}  0.788{col 40}  0.608{col 50}  1.022{col 61}   8.10
{txt}Lifespan study (2004){res}{txt}{col 25}{c |}{col 29}{res}  0.845{col 40}  0.641{col 50}  1.113{col 61}   8.07
{txt}CARET (2003){res}{txt}{col 25}{c |}{col 29}{res}  1.111{col 40}  0.864{col 50}  1.427{col 61}   7.96
{txt}AHS (1998){res}{txt}{col 25}{c |}{col 29}{res}  0.752{col 40}  0.607{col 50}  0.933{col 61}  12.84
{txt}{col 25}{c |}
Subgroup, MH{col 25}{c |}{col 29}{res}  0.906{col 40}  0.821{col 50}  1.000{col 61}  57.05
{txt}{hline 24}{c +}{hline 46}
2: Case control{col 25}{c |}
Lee (1998){res}{txt}{col 25}{c |}{col 29}{res}  1.200{col 40}  0.671{col 50}  2.147{col 61}   1.27
{txt}Joseph (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.251{col 40}  0.790{col 50}  1.981{col 61}   2.26
{txt}Allen (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.480{col 40}  0.960{col 50}  2.283{col 61}   2.37
{txt}Ghadirian (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.167{col 40}  0.790{col 50}  1.724{col 61}   3.05
{txt}Hsieh (1999){res}{txt}{col 25}{c |}{col 29}{res}  1.541{col 40}  1.086{col 50}  2.187{col 61}   3.13
{txt}Hayes (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.503{col 40}  1.049{col 50}  2.153{col 61}   3.41
{txt}Walker (1992){res}{txt}{col 25}{c |}{col 29}{res}  1.071{col 40}  0.782{col 50}  1.466{col 61}   4.55
{txt}Ohno (1988){res}{txt}{col 25}{c |}{col 29}{res}  1.116{col 40}  0.878{col 50}  1.419{col 61}   7.03
{txt}Ewings (1996){res}{txt}{col 25}{c |}{col 29}{res}  1.082{col 40}  0.878{col 50}  1.334{col 61}   7.87
{txt}Friedenreich (2004){res}{txt}{col 25}{c |}{col 29}{res}  1.079{col 40}  0.855{col 50}  1.363{col 61}   8.01
{txt}{col 25}{c |}
Subgroup, MH{col 25}{c |}{col 29}{res}  1.193{col 40}  1.081{col 50}  1.317{col 61}  42.95
{txt}{hline 24}{c +}{hline 46}
Overall, MH{col 25}{c |}{col 29}{res}  1.029{col 40}  0.960{col 50}  1.104{col 61} 100.00
{txt}{hline 24}{c BT}{hline 46}

Tests of subgroup effect size = {res}1{txt}:
1: Cohort Studies{res}{col 25}z{txt} = {res} -1.967{txt}{col 38}p = {res}0.049
{txt}2: Case control{res}{col 25}z{txt} = {res}  3.511{txt}{col 38}p = {res}0.000
{txt}Overall{col 25}{res}{col 25}z{txt} = {res}  0.811{txt}{col 38}p = {res}0.418


{txt}Mantel-Haenszel Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 24}{c TT}{hline 44}
Measure{col 25}{c |}{col 31}Value{col 42}df{col 50}p-value{col 64}I{c 178}
{hline 24}{c +}{hline 44}
1: Cohort Studies{col 25}{c |}{col 29}{res}  10.36{col 42}  9{col 49}  0.322{col 62}13.2%
{txt}2: Case control{col 25}{c |}{col 29}{res}   6.93{col 42}  9{col 49}  0.644{col 62} 0.0%
{txt}Overall{col 25}{c |}{col 29}{res}  31.68{col 42} 19{col 49}  0.034{col 62}40.0%
{txt}Between{col 25}{c |}{col 29}{res}  15.01{col 42}  1{col 49}  0.000
{txt}{hline 24}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using MH subgroup weights
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:05
{txt}{.-}

{com}. 
. 
. 
. *** output_options: nokeep notable nograph
. // Note: nokeep has been renamed nokeepvars in -metan- v4 (to avoid confusion with option "keepall"), but nokeep still works
. // Some differences in naming of stored vars, e.g. no "selogES"; all vars on interval scale; _SS is now _NN
. // Also, _rsample is always generated unless "norsample"
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:05
{txt}
{com}. cap drop _*
{txt}
{com}. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nograph
{txt}
{com}. cap nois desc _*

              {txt}storage   display    value
variable name   type    format     label      variable label
{hline}
{p 0 48}{res}{bind:_SS            }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}Sample size{p_end}
{p 0 48}{bind:_ES            }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}RR{p_end}
{p 0 48}{bind:_selogES       }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}se(logRR){p_end}
{p 0 48}{bind:_LCI           }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}Lower CI (RR){p_end}
{p 0 48}{bind:_UCI           }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}Upper CI (RR){p_end}
{p 0 48}{bind:_WT            }{txt}{bind: float   }{bind:{txt}%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}M-H weight{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:05
{txt}{.-}

{com}. 
. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:05
{txt}
{com}. cap drop _*
{txt}
{com}. qui metan tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nograph
{txt}
{com}. cap nois desc _*

              {txt}storage   display    value
variable name   type    format     label      variable label
{hline}
{p 0 48}{res}{bind:_ES            }{txt}{bind: double  }{bind:{txt}%10.0g    }{space 1}{bind:         }{bind:  }{res}{res}Effect size{p_end}
{p 0 48}{bind:_seES          }{txt}{bind: double  }{bind:{txt}%10.0g    }{space 1}{bind:         }{bind:  }{res}{res}Standard error of effect size{p_end}
{p 0 48}{bind:_LCI           }{txt}{bind: double  }{bind:{txt}%10.0g    }{space 1}{bind:         }{bind:  }{res}{res}95% lower confidence limit{p_end}
{p 0 48}{bind:_UCI           }{txt}{bind: double  }{bind:{txt}%10.0g    }{space 1}{bind:         }{bind:  }{res}{res}95% upper confidence limit{p_end}
{p 0 48}{bind:_WT            }{txt}{bind: double  }{bind:{txt}%6.2f     }{space 1}{bind:         }{bind:  }{res}{res}% Weight{p_end}
{p 0 48}{bind:_NN            }{txt}{bind: int     }{bind:{txt}%10.0g    }{space 1}{bind:         }{bind:  }{res}{res}No. pts{p_end}
{p 0 48}{bind:_CC            }{txt}{bind: byte    }{bind:{txt}%10.0g    }{space 1}{bind:         }{bind:  }{res}{res}Continuity correction applied?{p_end}
{p 0 48}{bind:_rsample       }{txt}{bind: byte    }{bind:{txt}%8.0g     }{space 1}{bind:         }{bind:  }{res}{res}Sample included in most recent model{p_end}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:05
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:05
{txt}
{com}. cap drop _*
{txt}
{com}. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nokeep nograph
{txt}
{com}. cap nois desc _*
{err}variable _* not found
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:05
{txt}{.-}

{com}. 
. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:05
{txt}
{com}. cap drop _*
{txt}
{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nokeep nograph
{txt}
{com}. cap nois desc _*

              {txt}storage   display    value
variable name   type    format     label      variable label
{hline}
{p 0 48}{res}{bind:_rsample       }{txt}{bind: byte    }{bind:{txt}%8.0g     }{space 1}{bind:         }{bind:  }{res}{res}Sample included in most recent model{p_end}
{txt}
{com}. 
. cap drop _*
{txt}
{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nokeep norsample nograph
{txt}
{com}. cap nois desc _*
{err}variable _* not found
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:05
{txt}{.-}

{com}. 
. cap drop _*
{txt}
{com}. 
. 
. 
. 
. *** forest_plot_options: xlabel(#,...) xtick(#,...) boxsca(#) nobox nooverall nowt nostats group1(string) group2(string) effect(string) force
. // Note warning messages with -metan- r.e. placing these options in forestplot()
. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) xlabel(.5,1,2) xtick(.75,1.5) force
{txt}
{com}. graph save "$Graphs/graph1_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph1_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) xlabel(.5,1,2) xtick(.75,1.5) force

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.5 1 2)}; see {help numlist:help numlist}
{txt}
{com}. graph save "$Graphs/graph1_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph1_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) forestplot(xlabel(.5,1,2) xtick(.75,1.5) force) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') xlabel(.5,1,2) xtick(.75,1.5) force note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.5 1 2)}; see {help numlist:help numlist}
{res}{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7801664545970284

{txt}macros:
              r(range) : "{res}-.6931471805599 .6931471805599{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore 
{txt}
{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nobox
{txt}
{com}. graph save "$Graphs/graph2_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph2_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nobox
{txt}
{com}. graph save "$Graphs/graph2_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph2_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nobox nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') nobox note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7801664545970284

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore 
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:12
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nooverall

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60}
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}
{txt}---------------------+---------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:13
{txt}{.-}

{com}. graph save "$Graphs/graph3_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph3_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:13
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nooverall

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Presented values are{res} Risk Ratios

{txt}{hline 22}{c TT}{hline 36}
Study identifier{col 23}{c |}    Risk     
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]
{hline 22}{c +}{hline 36}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}
{txt}{hline 22}{c BT}{hline 36}
{res}{txt}
{com}. graph save "$Graphs/graph3_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph3_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nooverall nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') nooverall nohet nowt
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}22
           {txt}r(textsize) =  {res}2.469135802469136
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}24
                {txt}r(cdw) =  {res}19.5999994277954
                {txt}r(rdw) =  {res}8.866666475931805
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.9183673737496957

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         20           1           0          1          1
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         20    .0775809    .2023159  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         20    .1864261    .0716599   .1067267   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         20   -.2878074    .2225631  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         20    .4429693    .2679217  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         20           5    3.094651   .8571469   12.84307
{txt}{space 9}_NN {c |}{res}         20       161.6    87.02897         27        362
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore 
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:15
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:15
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nowt

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60}
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.029{col 35}  0.960     1.104{col 60}
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of RR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:16
{txt}{.-}

{com}. graph save "$Graphs/graph4_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph4_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:16
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nowt

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 36}
Study identifier{col 23}{c |}    Risk     
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]
{hline 22}{c +}{hline 36}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}
{txt}{hline 22}{c +}{hline 36}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104
{txt}{hline 22}{c BT}{hline 36}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. graph save "$Graphs/graph4_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph4_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nowt nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') nowt note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}19.5999994277954
                {txt}r(rdw) =  {res}8.866666475931805
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.9566326809892664

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore 
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:18
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:18
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nostats

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of RR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:19
{txt}{.-}

{com}. graph save "$Graphs/graph5_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph5_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:19
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nostats

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. graph save "$Graphs/graph5_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph5_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nostats nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') nostats note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.38095238095238
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}15.16666626930236
                {txt}r(rdw) =  {res}4.433333317438763
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}1.236263768653655

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore 
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:21
{txt}{.-}

{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) group1(treat) group2(control) counts         // appears on the right
{txt}
{com}. graph save "$Graphs/graph6_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph6_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) group1(treat) group2(control) counts         // appears on the left, c.f. RevMan
{txt}
{com}. graph save "$Graphs/graph6_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph6_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) group1(treat) group2(control) counts nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(_counts1 _counts0) nolcolscheck note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}24
           {txt}r(textsize) =  {res}1.731626222404709
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}26
                {txt}r(cdw) =  {res}36.86666607856751
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}23.56666628519694
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7052441342157363

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         22    1.318182    1.041353          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 4}_counts1 {c |}{res}          0
{txt}{hline 13}{c +}{hline 57}
{space 4}_counts0 {c |}{res}          0
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore 
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:24
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) effect(effect size)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of RR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:25
{txt}{.-}

{com}. graph save "$Graphs/graph7_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph7_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:25
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) effect(effect size)      // appears in the table as well as the forest plot

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}   effect              
(Year){col 23}{c |}    size    {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. graph save "$Graphs/graph7_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph7_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) effect(effect size) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"effect size"') note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7801664545970284

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore 
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:27
{txt}{.-}

{com}. 
. 
. *** forest_plot_options: lcols(varlist) rcols(varlist) astext(#) double nohet summaryonly rfdist rflevel(#) null(#) nulloff favours(string # string)
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) lcols(n_pos) rcols(population) double                // ignores label()
{txt}
{com}. graph save "$Graphs/graph8_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph8_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) lcols(n_pos) rcols(population) double                // includes label() within lcols()
{txt}
{com}. graph save "$Graphs/graph8_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph8_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) lcols(n_pos) rcols(population) forestplot(double) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(n_positives) double rcols( population) note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}43
           {txt}r(textsize) =  {res}1.368613138686132
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2.666666666666667
             {txt}r(height) =  {res}24.4
                {txt}r(cdw) =  {res}38.64583230018614
                {txt}r(rdw) =  {res}24.99583268165587
                {txt}r(ldw) =  {res}13.64999961853027
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.8418329066023669

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 1}n_positives {c |}{res}         20        79.8    43.87254         13        177
{txt}{space 2}population {c |}{res}          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:31
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) astext(0)               // exits with error
{err}Percentage of graph as text (ASTEXT) must be within 10-90%
Must have some space for text and graph
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:31
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:31
{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) astext(0)               // exits with error

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{err}error in option {bf:astext(}{it:#}{bf:)}: {it:#} must be in the range (0, 100]

Error in {bf:forestplot}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:31
{txt}{.-}

{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) astext(10)
{txt}
{com}. graph save "$Graphs/graph9_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph9_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) astext(10)
{txt}
{com}. graph save "$Graphs/graph9_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph9_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) forestplot(astext(10)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') astext(10) note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}.5297426543560069
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}216.2999947071074
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}10
             {txt}r(aspect) =  {res}.2080443878925409

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) astext(90)
{txt}
{com}. graph save "$Graphs/graph10_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph10_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) astext(90)
{txt}
{com}. graph save "$Graphs/graph10_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph10_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) forestplot(astext(90)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') astext(90) note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.38095238095238
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}3.170149801812972
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}15.23134842294617
             {txt}r(astext) =  {res}90
             {txt}r(aspect) =  {res}1.182909400008612

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:37
{txt}
{com}. cap nois metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) astext(100)             // exits with error
{err}Percentage of graph as text (ASTEXT) must be within 10-90%
Must have some space for text and graph
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:37
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:37
{txt}
{com}. cap nois metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) astext(100)             // simply displays the plot, with no lcols/rcols!!

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Mantel-Haenszel Q{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.291{col 37}  1.000{col 47}  1.661
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   40.0%{col 36}    0.0%{col 46}   63.8%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}
{error}Note: with {bf:metan} version 4 and above, the preferred syntax is for options such as {bf:astext(100)}
{error} to be supplied as sub-options to the {bf:forestplot()} option; see {help metan:help metan}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:38
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:38
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nohet

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}Ohno (1988){col 22}|{res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}CA,USA 81-85 (1992){col 22}|{res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}Walker (1992){col 22}|{res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ghadirian (1996){col 22}|{res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Ewings (1996){col 22}|{res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Hayes (1996){col 22}|{res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}SWE 71-75 (1997){col 22}|{res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Hartman (1998){col 22}|{res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}AHS (1998){col 22}|{res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}Lee (1998){col 22}|{res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Hsieh (1999){col 22}|{res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}ATBC (2001){col 22}|{res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}CARET (2003){col 22}|{res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}Lifespan study (2004{col 22}|{res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Joseph (2004){col 22}|{res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Friedenreich (2004){col 22}|{res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}Allen (2004){col 22}|{res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt}Weinstein (2005){col 22}|{res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}King (2005){col 22}|{res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt}---------------------+---------------------------------------------------
M-H pooled RR{col 22}|{res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 31.68{txt} (d.f. = {res}19{txt}) p = {res}0.034
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  40.0%

{txt}  Test of RR=1 : z= {res}  0.81{txt} p = {res}0.418
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:39
{txt}{.-}

{com}. graph save "$Graphs/graph11_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph11_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:39
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nohet            // nohet suppresses any on-screen het info, in addition to forest plot

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Risk               
(Year){col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.788{col 38}  0.608{col 48}  1.022{col 59}   8.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.116{col 38}  0.878{col 48}  1.419{col 59}   7.03
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.059{col 38}  0.705{col 48}  1.590{col 59}   3.15
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.071{col 38}  0.782{col 48}  1.466{col 59}   4.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.167{col 38}  0.790{col 48}  1.724{col 59}   3.05
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.082{col 38}  0.878{col 48}  1.334{col 59}   7.87
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.503{col 38}  1.049{col 48}  2.153{col 59}   3.41
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.923{col 38}  0.420{col 48}  2.028{col 59}   0.86
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.804{col 38}  0.592{col 48}  1.092{col 59}   5.85
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.752{col 38}  0.607{col 48}  0.933{col 59}  12.84
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.200{col 38}  0.671{col 48}  2.147{col 59}   1.27
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.541{col 38}  1.086{col 48}  2.187{col 59}   3.13
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.073{col 38}  0.679{col 48}  1.696{col 59}   2.52
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.111{col 38}  0.864{col 48}  1.427{col 59}   7.96
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.845{col 38}  0.641{col 48}  1.113{col 59}   8.07
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.251{col 38}  0.790{col 48}  1.981{col 59}   2.26
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.079{col 38}  0.855{col 48}  1.363{col 59}   8.01
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.480{col 38}  0.960{col 48}  2.283{col 59}   2.37
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.096{col 38}  0.784{col 48}  1.532{col 59}   5.04
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.095{col 38}  0.703{col 48}  1.706{col 59}   2.67
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418
{txt}
{com}. graph save "$Graphs/graph11_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph11_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nohet nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') nohet note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7801664545970284

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:41
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:41
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) summaryonly by(type_study)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80 (1984){col 22}|  {res}  0.788{col 35}  0.608     1.022{col 60}  8.10
{txt}CA,USA 81-85 (1992){col 22}|  {res}  1.059{col 35}  0.705     1.590{col 60}  3.15
{txt}SWE 71-75 (1997){col 22}|  {res}  0.923{col 35}  0.420     2.028{col 60}  0.86
{txt}Hartman (1998){col 22}|  {res}  0.804{col 35}  0.592     1.092{col 60}  5.85
{txt}AHS (1998){col 22}|  {res}  0.752{col 35}  0.607     0.933{col 60} 12.84
{txt}ATBC (2001){col 22}|  {res}  1.073{col 35}  0.679     1.696{col 60}  2.52
{txt}CARET (2003){col 22}|  {res}  1.111{col 35}  0.864     1.427{col 60}  7.96
{txt}Lifespan study (2004{col 22}|  {res}  0.845{col 35}  0.641     1.113{col 60}  8.07
{txt}Weinstein (2005){col 22}|  {res}  1.096{col 35}  0.784     1.532{col 60}  5.04
{txt}King (2005){col 22}|  {res}  1.095{col 35}  0.703     1.706{col 60}  2.67
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  0.906{col 35}  0.821     1.000{col 60} 57.05
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno (1988){col 22}|  {res}  1.116{col 35}  0.878     1.419{col 60}  7.03
{txt}Walker (1992){col 22}|  {res}  1.071{col 35}  0.782     1.466{col 60}  4.55
{txt}Ghadirian (1996){col 22}|  {res}  1.167{col 35}  0.790     1.724{col 60}  3.05
{txt}Ewings (1996){col 22}|  {res}  1.082{col 35}  0.878     1.334{col 60}  7.87
{txt}Hayes (1996){col 22}|  {res}  1.503{col 35}  1.049     2.153{col 60}  3.41
{txt}Lee (1998){col 22}|  {res}  1.200{col 35}  0.671     2.147{col 60}  1.27
{txt}Hsieh (1999){col 22}|  {res}  1.541{col 35}  1.086     2.187{col 60}  3.13
{txt}Joseph (2004){col 22}|  {res}  1.251{col 35}  0.790     1.981{col 60}  2.26
{txt}Friedenreich (2004){col 22}|  {res}  1.079{col 35}  0.855     1.363{col 60}  8.01
{txt}Allen (2004){col 22}|  {res}  1.480{col 35}  0.960     2.283{col 60}  2.37
{txt} Sub-total{col 22}|
  M-H pooled RR{col 22}|  {res}  1.193{col 35}  1.081     1.317{col 60} 42.95
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  M-H pooled RR{col 22}|  {res}  1.029{col 35}  0.960     1.104{col 60}100.00
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 10.36{col 35} 9{col 43}0.322{col 51}  13.2%
{txt}2: Case control{res}{col 20}  6.93{col 35} 9{col 43}0.644{col 51}   0.0%
{txt}Overall{res}{col 20} 31.68{col 35}19{col 43}0.034{col 51}  40.0%
{txt}** I-squared: the variation in RR attributable to heterogeneity)

Note: between group heterogeneity not calculated;
only valid with inverse variance method

Significance test(s) of RR=1

1: Cohort Studies{col 23}z= {res} 1.97{col 35}{txt} p = {res}0.049
{txt}2: Case control{col 23}z= {res} 3.51{col 35}{txt} p = {res}0.000
{txt}Overall{col 23}z= {res} 0.81{col 35}{txt} p = {res}0.418
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:42
{txt}{.-}

{com}. graph save "$Graphs/graph12_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph12_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:50:43
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) summaryonly by(type_study)       // again: affects on-screen as well as forest plot

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

{hline 22}{c TT}{hline 46}
{col 23}{c |}    Risk               
Type of study{col 23}{c |}    ratio   {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
1: Cohort Studies{col 23}{c |}
{col 23}{c |}
Subgroup, MH{col 23}{c |}{col 27}{res}  0.906{col 38}  0.821{col 48}  1.000{col 59}  57.05
{txt}{hline 22}{c +}{hline 46}
2: Case control{col 23}{c |}
{col 23}{c |}
Subgroup, MH{col 23}{c |}{col 27}{res}  1.193{col 38}  1.081{col 48}  1.317{col 59}  42.95
{txt}{hline 22}{c +}{hline 46}
Overall, MH{col 23}{c |}{col 27}{res}  1.029{col 38}  0.960{col 48}  1.104{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Tests of subgroup effect size = {res}1{txt}:
1: Cohort Studies{res}{col 23}z{txt} = {res} -1.967{txt}{col 36}p = {res}0.049
{txt}2: Case control{res}{col 23}z{txt} = {res}  3.511{txt}{col 36}p = {res}0.000
{txt}Overall{col 23}{res}{col 23}z{txt} = {res}  0.811{txt}{col 36}p = {res}0.418


{txt}Mantel-Haenszel Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 22}{c TT}{hline 44}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value{col 62}I{c 178}
{hline 22}{c +}{hline 44}
1: Cohort Studies{col 23}{c |}{col 27}{res}  10.36{col 40}  9{col 47}  0.322{col 60}13.2%
{txt}2: Case control{col 23}{c |}{col 27}{res}   6.93{col 40}  9{col 47}  0.644{col 60} 0.0%
{txt}Overall{col 23}{c |}{col 27}{res}  31.68{col 40} 19{col 47}  0.034{col 60}40.0%
{txt}Between{col 23}{c |}{col 27}{res}  15.01{col 40}  1{col 47}  0.000
{txt}{hline 22}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using MH subgroup weights
{res}{txt}
{com}. graph save "$Graphs/graph12_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph12_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) summaryonly by(type_study) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') note(NOTE: Weights and between-subgroup heterogeneity test are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}7
           {txt}r(textsize) =  {res}1.868543774912024
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}9
                {txt}r(cdw) =  {res}30.10365652399469
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}16.80365673062413
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.2989670039859237

{txt}macros:
              r(range) : "{res}-.2876820724515 .2876820724515{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}          5         4.2     1.30384          3          6
{txt}{space 9}_BY {c |}{res}          3    1.666667    .5773503          1          2
{txt}{space 6}_STUDY {c |}{res}          0
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}          3    .0355199    .1378927  -.0989068   .1766352
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}          3    .0453847    .0084994   .0355704   .0503085
{txt}{space 8}_LCI {c |}{res}          3   -.0534324    .1381661  -.1974441   .0780323
{txt}{space 8}_UCI {c |}{res}          3    .1244723    .1396207  -.0003694   .2752382
{txt}{space 9}_WT {c |}{res}          3    66.66667      29.716   42.94964        100
{txt}{space 9}_NN {c |}{res}          3    2154.667    961.8947       1382       3232
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}          0
{txt}{space 7}_crit {c |}{res}          3    1.959964    2.72e-16   1.959964   1.959964
{txt}{space 10}_z {c |}{res}          3    .7847554    2.739266  -1.967313   3.511038
{txt}{space 5}_pvalue {c |}{res}          3    .1557411    .2281056   .0004464   .4176296
{txt}{space 10}_Q {c |}{res}          1    31.67988           .   31.67988   31.67988
{txt}{hline 13}{c +}{hline 57}
{space 8}_Qdf {c |}{res}          1          19           .         19         19
{txt}{space 7}_Qlci {c |}{res}          1    15.79051           .   15.79051   15.79051
{txt}{space 7}_Quci {c |}{res}          1    52.44236           .   52.44236   52.44236
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:50:44
{txt}{.-}

{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) rfdist by(type_study)
{txt}
{com}. graph save "$Graphs/graph13_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph13_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) rfdist by(type_study)        // prints message that rfdist will be ignored (common effect)
{txt}
{com}. graph save "$Graphs/graph13_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph13_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) rfdist by(type_study) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') note(NOTE: Weights and between-subgroup heterogeneity test are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}30
           {txt}r(textsize) =  {res}1.904761904761904
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}32
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.9986130618841964

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         28    1.678571    1.634208          0          6
{txt}{space 9}_BY {c |}{res}         26         1.5     .509902          1          2
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         23    .0720947    .1931023  -.2843872    .432398
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}         23    .1680294    .0824638   .0355704   .4014625
{txt}{space 8}_LCI {c |}{res}         23   -.2572368    .2258954  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         23    .4014262    .2753075  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         23    13.04348    23.22649   .8571469        100
{txt}{space 9}_NN {c |}{res}         23    421.5652    749.4528         27       3232
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) rfdist by(type_study) random rflevel(80)
{txt}
{com}. graph save "$Graphs/graph14_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph14_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) rfdist by(type_study) random rflevel(80)             // corrects the error in -metan9-; see comparison with -metafor- in R
{txt}
{com}. graph save "$Graphs/graph14_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph14_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) rfdist by(type_study) random rflevel(80) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') rfdist(_rfLCI _rfUCI) note(NOTE: Weights and between-subgroup heterogeneity test are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}33
           {txt}r(textsize) =  {res}1.75438596491228
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}35
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}1.09223303643584

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         31    2.193548    2.227395          0          7
{txt}{space 9}_BY {c |}{res}         28         1.5    .5091751          1          2
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         23    .0725831     .192627  -.2843872    .432398
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}         23    .1687673    .0812989   .0479715   .4014625
{txt}{space 8}_LCI {c |}{res}         26   -.2381788    .2231598  -.8668948      .0952
{txt}{space 8}_UCI {c |}{res}         26    .3756562    .2698671  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         23    13.04348    23.02072   1.290827        100
{txt}{space 9}_NN {c |}{res}         23    421.5652    749.4528         27       3232
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{space 6}_rfLCI {c |}{res}          6   -.0847237    .1439065  -.2147721      .0952
{txt}{space 6}_rfUCI {c |}{res}          6    .1632526    .1118683   .0188329   .2360744
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) null(1.5)    // no idea what this is doing
{txt}
{com}. graph save "$Graphs/graph15_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph15_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) null(1.5)    // works on the exp scale, same as xlabel() and fp()
{txt}
{com}. graph save "$Graphs/graph15_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph15_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) forestplot(null(1.5)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') null(1.5) note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7801664545970284

{txt}macros:
              r(range) : "{res}-.9808292530117 1.791759469228{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nulloff
{txt}
{com}. graph save "$Graphs/graph16_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph16_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) nulloff
{txt}
{com}. graph save "$Graphs/graph16_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph16_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) forestplot(nulloff) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') nulloff note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7801664545970284

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8253465687154{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) favours(left hand side string # right hand side string)
{txt}
{com}. graph save "$Graphs/graph17_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph17_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) favours(left hand side string # right hand side string)
{txt}
{com}. graph save "$Graphs/graph17_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph17_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) forestplot(favours(left hand side string # right hand side string)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') favours(left hand side string # right hand side string) note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.083333333333334
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7801664545970284

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. 
. *** forest_plot_options: firststats(string) secondstats(string)
. // [see above]
. 
. 
. 
. *** forest_plot_options: boxopt() diamopt() pointopt() ciopt() olineopt() classic nowarning
. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) boxopt(mcolor(red)) diamopt(lcolor(orange)) pointopt(mcolor(blue)) ///
>         ciopt(lcolor(orange)) olineopt(lpattern(dash) lcolor(blue))
{txt}
{com}. graph save "$Graphs/graph18_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph18_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) boxopt(mcolor(red)) diamopt(lcolor(orange)) pointopt(mcolor(blue)) ///
>         ciopt(lcolor(orange)) olineopt(lpattern(dash) lcolor(blue))
{txt}
{com}. graph save "$Graphs/graph18_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph18_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) forestplot(boxopt(mcolor(red)) diamopt(lcolor(orange)) pointopt(mcolor(blue)) ///
>         ciopt(lcolor(orange)) olineopt(lpattern(dash) lcolor(blue))) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') boxopt(mcolor(red)) diamopt(lcolor(orange)) pointopt(mcolor(blue)) ciopt(lcolor(orange)) olineopt(lpattern(dash) lcolor(blue)) note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7801664545970284

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. qui metan9 tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) classic nowarning
{txt}
{com}. graph save "$Graphs/graph19_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph19_metan9.gph saved)

{com}. qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) classic nowarning
{txt}
{com}. graph save "$Graphs/graph19_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph19_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, label(namevar=id, yearid=year) forestplot(classic) nowarning nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') nowarning classic note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}24.03333274523416
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}10.7333329518636
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7801664545970284

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. 
. 
. *******************************************
. * Part 2. Recreate examples from metan.hlp *
. ********************************************
. 
. // We proceed by taking the exact command lines from the help file and SJ article,
. // only changing the command name "metan" to "metan9" (i.e. the current v3.04)
. 
. // We then change the command line minimally, to run using -metan- v4.0x
. 
. 
. use "$Datasets/metan_example_data", clear
{txt}(Example dataset for meta-analyses, Ross Harris 2006)

{com}. 
. 
. * Example 1
. // Risk difference from raw cell counts, random effects model, "label" specification with counts displayed
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:07
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, rd random label(namevar=id, yearid=year) counts

{txt}{col 12}Study{col 22}|{col 24}{col 28}RD{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80 (1984){col 22}|{res} -0.122{col 35} -0.253     0.009{col 60}  6.29
{txt}Ohno (1988){col 22}|{res}  0.062{col 35} -0.073     0.197{col 60}  6.10
{txt}CA,USA 81-85 (1992){col 22}|{res}  0.026{col 35} -0.158     0.209{col 60}  4.29
{txt}Walker (1992){col 22}|{res}  0.036{col 35} -0.129     0.201{col 60}  4.90
{txt}Ghadirian (1996){col 22}|{res}  0.075{col 35} -0.114     0.265{col 60}  4.10
{txt}Ewings (1996){col 22}|{res}  0.050{col 35} -0.082     0.183{col 60}  6.22
{txt}Hayes (1996){col 22}|{res}  0.191{col 35}  0.029     0.353{col 60}  5.00
{txt}SWE 71-75 (1997){col 22}|{res} -0.038{col 35} -0.415     0.338{col 60}  1.39
{txt}Hartman (1998){col 22}|{res} -0.110{col 35} -0.262     0.042{col 60}  5.37
{txt}AHS (1998){col 22}|{res} -0.138{col 35} -0.240    -0.036{col 60}  7.75
{txt}Lee (1998){col 22}|{res}  0.095{col 35} -0.205     0.396{col 60}  2.05
{txt}Hsieh (1999){col 22}|{res}  0.236{col 35}  0.058     0.414{col 60}  4.45
{txt}ATBC (2001){col 22}|{res}  0.031{col 35} -0.171     0.233{col 60}  3.77
{txt}CARET (2003){col 22}|{res}  0.048{col 35} -0.067     0.164{col 60}  7.04
{txt}Lifespan study (2004{col 22}|{res} -0.072{col 35} -0.189     0.045{col 60}  6.96
{txt}Joseph (2004){col 22}|{res}  0.103{col 35} -0.106     0.311{col 60}  3.61
{txt}Friedenreich (2004){col 22}|{res}  0.041{col 35} -0.084     0.166{col 60}  6.56
{txt}Allen (2004){col 22}|{res}  0.183{col 35} -0.012     0.377{col 60}  3.97
{txt}Weinstein (2005){col 22}|{res}  0.036{col 35} -0.096     0.168{col 60}  6.22
{txt}King (2005){col 22}|{res}  0.040{col 35} -0.154     0.234{col 60}  3.97
{txt}---------------------+---------------------------------------------------
D+L pooled RD{col 22}|{res}  0.027{col 35} -0.020     0.074{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 33.81{txt} (d.f. = {res}19{txt}) p = {res}0.019
{txt}  I-squared (variation in RD attributable to heterogeneity) ={res}  43.8%
{txt}  Estimate of between-study variance Tau-squared = {res} 0.0048

{txt}  Test of RD=0 : z= {res}  1.13{txt} p = {res}0.261
{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.4864029666254636
               {txt}r(tger) =  {res}.5012391573729864
               {txt}r(tau2) =  {res}.0047751229726653
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}.0193742235231943
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}33.80513003131778
               {txt}r(i_sq) =  {res}43.79551274496503
                {txt}r(p_z) =  {res}.260512232288569
                  {txt}r(z) =  {res}1.125181260695625
             {txt}r(ci_upp) =  {res}.0743049097225629
             {txt}r(ci_low) =  {res}-.0201055217834572
               {txt}r(seES) =  {res}.0240847363142174
                 {txt}r(ES) =  {res}.0270996939695528

{txt}macros:
            r(measure) : "{res}RD{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.0270996939695528
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0240847363142174
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}-.0201055217834572
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.0743049097225629
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}1.125181260695625
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.260512232288569
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}33.80513003131778
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0193742235231943
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}.0047751229726653
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.5012391573729864
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.4864029666254636
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}43.79551274496503
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:08
{txt}{.-}

{com}. graph save "$Graphs/graph20_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph20_metan9.gph saved)

{com}. // Note: the current metan help file gives the label() syntax as (namevar=... , yearvar=... )
. // but the *example* has "yearid=..." and this indeed is how the command is actually coded.
. // The new v4.0x is documented as "namevar, yearvar" BUT yearid is still valid.
. 
. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:08
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, rd random label(namevar=id, yearid=year) counts

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}                       
(Year){col 23}{c |} Risk Diff. {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res} -0.122{col 38} -0.253{col 48}  0.009{col 59}   6.29
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.062{col 38} -0.073{col 48}  0.197{col 59}   6.10
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.026{col 38} -0.158{col 48}  0.209{col 59}   4.29
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.036{col 38} -0.129{col 48}  0.201{col 59}   4.90
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.075{col 38} -0.114{col 48}  0.265{col 59}   4.10
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.050{col 38} -0.082{col 48}  0.183{col 59}   6.22
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.191{col 38}  0.029{col 48}  0.353{col 59}   5.00
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.038{col 38} -0.415{col 48}  0.338{col 59}   1.39
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.110{col 38} -0.262{col 48}  0.042{col 59}   5.37
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.138{col 38} -0.240{col 48} -0.036{col 59}   7.75
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.095{col 38} -0.205{col 48}  0.396{col 59}   2.05
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.236{col 38}  0.058{col 48}  0.414{col 59}   4.45
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.031{col 38} -0.171{col 48}  0.233{col 59}   3.77
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.048{col 38} -0.067{col 48}  0.164{col 59}   7.04
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.072{col 38} -0.189{col 48}  0.045{col 59}   6.96
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.103{col 38} -0.106{col 48}  0.311{col 59}   3.61
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.041{col 38} -0.084{col 48}  0.166{col 59}   6.56
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.183{col 38} -0.012{col 48}  0.377{col 59}   3.97
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.036{col 38} -0.096{col 48}  0.168{col 59}   6.22
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.040{col 38} -0.154{col 48}  0.234{col 59}   3.97
{txt}{hline 22}{c +}{hline 46}
Overall, DL{col 23}{c |}{col 27}{res}  0.027{col 38} -0.020{col 48}  0.074{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.125{txt}  p = {res}0.261


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  33.80{col 40} 19{col 47}  0.019
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.334{col 37}  1.000{col 47}  1.764
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   43.8%{col 36}    0.0%{col 46}   67.9%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 22}{c TT}{hline 13}
Method{col 23}{c |}{col 29}tau{c 178}
{hline 22}{c +}{hline 13}
DL{col 23}{c |}{col 26}{res}  0.0048
{txt}{hline 22}{c BT}{hline 13}
{res}{txt}
{com}. return list, all

{txt}scalars:
              r(Hstar) =  {res}.9561042628239
              {txt}r(tausq) =  {res}.0047745765561899
               {txt}r(HsqM) =  {res}.7791282054868987
                  {txt}r(H) =  {res}1.333839647591456
                {txt}r(Isq) =  {res}43.7926959442292
                  {txt}r(Q) =  {res}33.80343590425107
              {txt}r(Q_lci) =  {res}15.49168018879767
              {txt}r(Q_uci) =  {res}59.13756814460458
             {txt}r(se_eff) =  {res}.0240841090818235
                {txt}r(eff) =  {res}.0270990073395914
                  {txt}r(n) =  {res}3232
                  {txt}r(k) =  {res}20
               {txt}r(cger) =  {res}.4864029666254636
               {txt}r(tger) =  {res}.5012391573729864
                  {txt}r(m) =  {res}1

{txt}macros:
            r(measure) : "{res}RD{txt}"
          r(modelopts) : "{res}cc(.5, ){txt}"
              r(model) : "{res}dl{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 9 x 1

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.0047745765561899
              {txt}r(p_het) =  {res}.0193831012328259
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}33.80343590425107
               {txt}r(i_sq) =  {res}43.7926959442292
                {txt}r(p_z) =  {res}.2605118959430978
                  {txt}r(z) =  {res}1.125182054587325
             {txt}r(ci_upp) =  {res}.0743029937396995
             {txt}r(ci_low) =  {res}-.0201049790605167
               {txt}r(seES) =  {res}.0240841090818235
                 {txt}r(ES) =  {res}.0270990073395914
                 {txt}r(Qr) =  {res}17.36857186641063
            {txt}r(sigmasq) =  {res}.0061281012836727
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.0270990073395914
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0240841090818235
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}-.0201049790605167
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.0743029937396995
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}1.125182054587325
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.2605118959430978
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}33.80343590425107
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0193831012328259
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.0047745765561899
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.5012391573729864
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.4864029666254636
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}43.7926959442292
{p_end}
{txt}
{com}. graph save "$Graphs/graph20_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph20_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, rd random label(namevar=id, yearid=year) counts nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , effect(`"`"Risk Diff."'"') lcols(_counts1 _counts0) nolcolscheck note(NOTE: Weights are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}24
           {txt}r(textsize) =  {res}1.705982491944657
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}26
                {txt}r(cdw) =  {res}37.42083287239074
                {txt}r(rdw) =  {res}14.34999998410543
                {txt}r(ldw) =  {res}23.07083288828531
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.6948001421738242

{txt}macros:
              r(range) : "{res}-.5 .5{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         22    1.318182    1.041353          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0381002    .0974621  -.1381215   .2360502
{txt}{space 7}_seES {c |}{res}         21    .0860883    .0356661   .0240841   .1922866
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.1306298    .1092042  -.4153363   .0578158
{txt}{space 8}_UCI {c |}{res}         21    .2068303    .1297898  -.0361209   .4142845
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.79444   1.389371        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 4}_counts1 {c |}{res}          0
{txt}{hline 13}{c +}{hline 57}
{space 4}_counts0 {c |}{res}          0
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:10
{txt}{.-}

{com}. 
. // Note: new version does not automatically present a p-value for heterogeneity on the forest plot
. // to avoid confusion with significance test of overall effect
. // Hence, to *exactly* recreate the example, we need to add the option "hetinfo(isq p)"
. metan  tdeath tnodeath cdeath cnodeath, rd random label(namevar=id, yearvar=year) counts hetinfo(isq p)

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}                       
(Year){col 23}{c |} Risk Diff. {col 37}[95% Conf. Interval]{col 60}% Weight
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res} -0.122{col 38} -0.253{col 48}  0.009{col 59}   6.29
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.062{col 38} -0.073{col 48}  0.197{col 59}   6.10
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.026{col 38} -0.158{col 48}  0.209{col 59}   4.29
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.036{col 38} -0.129{col 48}  0.201{col 59}   4.90
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.075{col 38} -0.114{col 48}  0.265{col 59}   4.10
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.050{col 38} -0.082{col 48}  0.183{col 59}   6.22
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.191{col 38}  0.029{col 48}  0.353{col 59}   5.00
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res} -0.038{col 38} -0.415{col 48}  0.338{col 59}   1.39
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.110{col 38} -0.262{col 48}  0.042{col 59}   5.37
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.138{col 38} -0.240{col 48} -0.036{col 59}   7.75
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.095{col 38} -0.205{col 48}  0.396{col 59}   2.05
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.236{col 38}  0.058{col 48}  0.414{col 59}   4.45
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.031{col 38} -0.171{col 48}  0.233{col 59}   3.77
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.048{col 38} -0.067{col 48}  0.164{col 59}   7.04
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res} -0.072{col 38} -0.189{col 48}  0.045{col 59}   6.96
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.103{col 38} -0.106{col 48}  0.311{col 59}   3.61
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.041{col 38} -0.084{col 48}  0.166{col 59}   6.56
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.183{col 38} -0.012{col 48}  0.377{col 59}   3.97
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.036{col 38} -0.096{col 48}  0.168{col 59}   6.22
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.040{col 38} -0.154{col 48}  0.234{col 59}   3.97
{txt}{hline 22}{c +}{hline 46}
Overall, DL{col 23}{c |}{col 27}{res}  0.027{col 38} -0.020{col 48}  0.074{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.125{txt}  p = {res}0.261


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  33.80{col 40} 19{col 47}  0.019
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.334{col 37}  1.000{col 47}  1.764
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   43.8%{col 36}    0.0%{col 46}   67.9%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 22}{c TT}{hline 13}
Method{col 23}{c |}{col 29}tau{c 178}
{hline 22}{c +}{hline 13}
DL{col 23}{c |}{col 26}{res}  0.0048
{txt}{hline 22}{c BT}{hline 13}
{res}{txt}
{com}. graph save "$Graphs/graph20_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph20_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, rd random label(namevar=id, yearvar=year) counts hetinfo(isq p) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , effect(`"`"Risk Diff."'"') lcols(_counts1 _counts0) nolcolscheck note(NOTE: Weights are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}24
           {txt}r(textsize) =  {res}1.705982491944657
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}26
                {txt}r(cdw) =  {res}37.42083287239074
                {txt}r(rdw) =  {res}14.34999998410543
                {txt}r(ldw) =  {res}23.07083288828531
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.6948001421738242

{txt}macros:
              r(range) : "{res}-.5 .5{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         22    1.318182    1.041353          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0381002    .0974621  -.1381215   .2360502
{txt}{space 7}_seES {c |}{res}         21    .0860883    .0356661   .0240841   .1922866
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.1306298    .1092042  -.4153363   .0578158
{txt}{space 8}_UCI {c |}{res}         21    .2068303    .1297898  -.0361209   .4142845
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.79444   1.389371        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 4}_counts1 {c |}{res}          0
{txt}{hline 13}{c +}{hline 57}
{space 4}_counts0 {c |}{res}          0
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16
. /*
> gen id_year = id + " (" + string(year) + ")"
> meta esize tdeath tnodeath cdeath cnodeath, esize(rd) studylab(id_year) random(dl)
> meta summ
> meta forest _id year _plot _data1 _data2 _esci _weight, noohet noohom noosig
> graph save "$Graphs/graph20_meta16.gph"
> */
. 
. 
. * Example 2
. // Sort by year, use data columns syntax.
. // Text size increased, specify percentage of graph as text and two lines per study; suppress stats, weight, heterogeneity stats and table.
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:12
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, sortby(year) lcols(id year country) rcols(population) ///
>         textsize(110) astext(60) double nostats nowt nohet notable
{res}{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.4864029666254636
               {txt}r(tger) =  {res}.5012391573729864
               {txt}r(tau2) =  {res}.
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}.0339481056928728
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}31.67988375102567
               {txt}r(i_sq) =  {res}40.02503244859648
                {txt}r(p_z) =  {res}.4176296360714926
                  {txt}r(z) =  {res}.810540433680552
             {txt}r(ci_upp) =  {res}1.103567466120517
             {txt}r(ci_low) =  {res}.9599390265317218
            {txt}r(selogES) =  {res}.0355704479312609
                 {txt}r(ES) =  {res}1.029250931085228

{txt}macros:
            r(measure) : "{res}RR{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}1.029250931085228
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0355704479312609
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.9599390265317218
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}1.103567466120517
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}.810540433680552
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.4176296360714926
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}31.67988375102567
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0339481056928728
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.5012391573729864
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.4864029666254636
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}40.02503244859648
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:13
{txt}{.-}

{com}. graph save "$Graphs/graph21_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph21_metan9.gph saved)

{com}. 
. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:13
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tdeath tnodeath cdeath cnodeath, sortby(year) lcols(id year country) rcols(population) ///
>         textsize(110) astext(60) double nostats nowt nohet notable

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418

{error}Note: with {bf:metan} version 4 and above, the preferred syntax is for options such as {bf:textsize(110)}
{error} to be supplied as sub-options to the {bf:forestplot()} option; see {help metan:help metan}
{txt}
{com}. return list, all

{txt}scalars:
                 r(RR) =  {res}1.029250931085228
               {txt}r(HsqM) =  {res}.667362302685562
                  {txt}r(H) =  {res}1.291263839300691
                {txt}r(Isq) =  {res}40.0250324485965
                  {txt}r(Q) =  {res}31.67988375102568
              {txt}r(Q_lci) =  {res}15.79051265361079
              {txt}r(Q_uci) =  {res}52.44236070607165
             {txt}r(se_eff) =  {res}.0355704479312609
                {txt}r(eff) =  {res}.0288312862924157
                  {txt}r(n) =  {res}3232
                  {txt}r(k) =  {res}20
               {txt}r(cger) =  {res}.4864029666254636
               {txt}r(tger) =  {res}.5012391573729864
                  {txt}r(m) =  {res}1

{txt}macros:
            r(measure) : "{res}RR{txt}"
          r(modelopts) : "{res}cc(.5, mhuncorr){txt}"
              r(model) : "{res}mh{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 8 x 1

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
              r(p_het) =  {res}.0339481056928726
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}31.67988375102568
               {txt}r(i_sq) =  {res}40.0250324485965
                {txt}r(p_z) =  {res}.4176296360714923
                  {txt}r(z) =  {res}.8105404336805524
             {txt}r(ci_upp) =  {res}1.103567466120517
             {txt}r(ci_low) =  {res}.9599390265317219
            {txt}r(selogES) =  {res}.0355704479312609
                 {txt}r(ES) =  {res}1.029250931085228
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}1.029250931085228
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0355704479312609
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.9599390265317219
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}1.103567466120517
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}.8105404336805524
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.4176296360714923
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}31.67988375102568
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0339481056928726
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
global macro $S_12 not found
{txt}{p 0 16}
S_13:{space 11}{res}{res}.5012391573729864
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.4864029666254636
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}40.0250324485965
{p_end}
{txt}
{com}. graph save "$Graphs/graph21_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph21_metan.gph saved)

{com}. // Note slight differences in syntax here, e.g. forestplot() option and "leftjustify"
. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, sortby(year) lcols(id year country) rcols(population) ///
>                 forestplot(textsize(110) astext(60) double) nostats nowt nohet notable nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') nohet nowt nostats lcols(year country) textsize(110) astext(60) double rcols( population) note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}43
           {txt}r(textsize) =  {res}2.007299270072993
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}24.4
                {txt}r(cdw) =  {res}17.61666636996799
                {txt}r(rdw) =  {res}11.69583288828531
                {txt}r(ldw) =  {res}14.72916666666667
             {txt}r(astext) =  {res}60
             {txt}r(aspect) =  {res}1.108041645908486

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}{space 8}year {c |}{res}         20      1998.2    5.881282       1984       2005
{txt}{space 5}country {c |}{res}          0
{txt}{space 2}population {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:16
{txt}{.-}

{com}. 
. // ...Also, text size is handled differently/better by new version, so textsize(110) may not be necessary.
. metan  tdeath tnodeath cdeath cnodeath, sortby(year) lcols(id year country) rcols(population) ///
>         forestplot(astext(60) double leftjustify) nostats nowt nohet notable

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418
{txt}
{com}. graph save "$Graphs/graph21_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph21_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tdeath tnodeath cdeath cnodeath, sortby(year) lcols(id year country) rcols(population) ///
>                 forestplot(astext(60) double leftjustify) nostats nowt nohet notable nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') nohet nowt nostats lcols(year country) astext(60) double leftjustify rcols( population) note(NOTE: Weights are from Mantel-Haenszel model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}43
           {txt}r(textsize) =  {res}1.824817518248175
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}24.4
                {txt}r(cdw) =  {res}17.61666636996799
                {txt}r(rdw) =  {res}11.69583288828531
                {txt}r(ldw) =  {res}14.72916666666667
             {txt}r(astext) =  {res}60
             {txt}r(aspect) =  {res}1.108041645908486

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}{space 8}year {c |}{res}         20      1998.2    5.881282       1984       2005
{txt}{space 5}country {c |}{res}          0
{txt}{space 2}population {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16
. /*
> meta esize tdeath tnodeath cdeath cnodeath, esize(lnrr) studylab(id_year) common(mh)
> meta forest _id year country _plot population, eform sort(year)
> graph save "$Graphs/graph21_meta16.gph"
> */
. 
. 
. * Example 3
. // Analyse continuous data (6 parameter syntax), stratify by type of study, with weights summing to 100 within sub group,
. // second analysis specified, display random effects distribution, show raw data counts, display "favours treatment vs. favours control" labels
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:18
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tsample tmean tsd csample cmean csd, by(type_study) sgweight fixed second(random) rfdist counts label(namevar=id) ///
>         favours(Treatment reduces blood pressure # Treatment increases blood pressure)

{txt}{col 12}Study{col 22}|{col 24}{col 28}SMD{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}1: Cohort Studies
AHS 60-80{col 22}|  {res}  0.292{col 35}  0.027     0.557{col 60} 11.95
{txt}CA,USA 81-85{col 22}|  {res}  0.008{col 35} -0.361     0.376{col 60}  6.17
{txt}SWE 71-75{col 22}|  {res} -0.136{col 35} -0.892     0.620{col 60}  1.47
{txt}Hartman{col 22}|  {res}  0.279{col 35} -0.028     0.587{col 60}  8.87
{txt}AHS{col 22}|  {res} -0.519{col 35} -0.728    -0.309{col 60} 19.13
{txt}ATBC{col 22}|  {res}  0.012{col 35} -0.394     0.419{col 60}  5.08
{txt}CARET{col 22}|  {res}  0.285{col 35}  0.052     0.518{col 60} 15.47
{txt}Lifespan study{col 22}|  {res}  0.091{col 35} -0.146     0.328{col 60} 14.95
{txt}Weinstein{col 22}|  {res}  0.155{col 35} -0.116     0.426{col 60} 11.44
{txt}King{col 22}|  {res}  0.011{col 35} -0.381     0.403{col 60}  5.46
{txt} Sub-total{col 22}|
  I-V pooled SMD{col 22}|  {res}  0.036{col 35} -0.056     0.127{col 60}100.00
{txt}  D+L pooled SMD{col 22}|  {res}  0.057{col 35} -0.142     0.256
{txt}---------------------+---------------------------------------------------
{col 6}2: Case control
Ohno{col 22}|  {res} -0.078{col 35} -0.350     0.195{col 60} 15.03
{txt}Walker{col 22}|  {res} -0.066{col 35} -0.396     0.264{col 60} 10.24
{txt}Ghadirian{col 22}|  {res} -0.021{col 35} -0.402     0.360{col 60}  7.70
{txt}Ewings{col 22}|  {res} -0.254{col 35} -0.531     0.022{col 60} 14.63
{txt}Hayes{col 22}|  {res}  0.203{col 35} -0.128     0.534{col 60} 10.19
{txt}Lee{col 22}|  {res}  0.528{col 35} -0.088     1.144{col 60}  2.94
{txt}Hsieh{col 22}|  {res}  0.048{col 35} -0.321     0.417{col 60}  8.20
{txt}Joseph{col 22}|  {res} -0.330{col 35} -0.753     0.093{col 60}  6.23
{txt}Friedenreich{col 22}|  {res}  0.024{col 35} -0.227     0.275{col 60} 17.73
{txt}Allen{col 22}|  {res}  0.106{col 35} -0.290     0.503{col 60}  7.11
{txt} Sub-total{col 22}|
  I-V pooled SMD{col 22}|  {res} -0.026{col 35} -0.132     0.080{col 60}100.00
{txt}  D+L pooled SMD{col 22}|  {res} -0.023{col 35} -0.138     0.093
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  I-V pooled SMD{col 22}|  {res}  0.009{col 35} -0.060     0.078{col 60}
{txt}  D+L pooled SMD{col 22}|  {res}  0.025{col 35} -0.092     0.141
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
1: Cohort Studies{res}{col 20} 38.51{col 35} 9{col 43}0.000{col 51}  76.6%
{txt}2: Case control{res}{col 20} 10.48{col 35} 9{col 43}0.313{col 51}  14.1%
{txt}Overall{res}{col 20} 49.73{col 35}19{col 43}0.000{col 51}  61.8%
{txt}Overall Test for heterogeneity between sub-groups: 
{res}{col 20}  0.74{col 35} 1{col 43}0.389

{txt}** I-squared: the variation in SMD attributable to heterogeneity)

Considerable heterogeneity observed (up to 76.6%) in one or more sub-groups,
Test for heterogeneity between sub-groups likely to be invalid

Significance test(s) of SMD=0

1: Cohort Studies{col 23}z= {res} 0.76{col 35}{txt} p = {res}0.447
{txt}2: Case control{col 23}z= {res} 0.48{col 35}{txt} p = {res}0.631
{txt}Overall{col 23}z= {res} 0.26{col 35}{txt} p = {res}0.795
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. return list

{txt}scalars:
               r(tau2) =  {res}0
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}.0001435903832316
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}49.7302360534668
               {txt}r(i_sq) =  {res}61.79386901855469
                {txt}r(p_z) =  {res}.7950295805931091
                  {txt}r(z) =  {res}.2597850561141968
           {txt}r(ci_upp_2) =  {res}.1411117516775859
           {txt}r(ci_low_2) =  {res}-.0920642029693342
             {txt}r(ci_upp) =  {res}.0784000605344772
             {txt}r(ci_low) =  {res}-.0600491911172867
             {txt}r(seES_2) =  {res}.0594847549460557
               {txt}r(seES) =  {res}.0353193357586861
               {txt}r(ES_2) =  {res}.0245237743541258
                 {txt}r(ES) =  {res}.0091754356399179

{txt}macros:
            r(measure) : "{res}SMD{txt}"
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.0091754356399179
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0353193357586861
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}-.0600491911172867
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.0784000605344772
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}.2597850561141968
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.7950295805931091
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}49.7302360534668
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0001435903832316
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}0
{p_end}
{err}global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}61.79386901855469
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:19
{txt}{.-}

{com}. graph save "$Graphs/graph22_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph22_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:19
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tsample tmean tsd csample cmean csd, by(type_study) sgweight fixed second(random) rfdist counts label(namevar=id) ///
>         favours(Treatment reduces blood pressure # Treatment increases blood pressure)
{err}{error}Note: predictive interval cannot be estimated for all models

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Standardised Mean Differences
{txt}  by the method of {res}Cohen
{txt}using {res}multiple analysis methods

{txt}{hline 21}{c TT}{hline 46}
Type of study and{col 22}{c |}            {col 59}% Weight,
Study identifier{col 22}{c |}     SMD    {col 36}[95% Conf. Interval]{col 62}IV
{hline 21}{c +}{hline 46}
1: Cohort Studies{col 22}{c |}
AHS 60-80{res}{txt}{col 22}{c |}{col 26}{res}  0.292{col 37}  0.027{col 47}  0.557{col 58}  11.95
{txt}CA,USA 81-85{res}{txt}{col 22}{c |}{col 26}{res}  0.008{col 37} -0.361{col 47}  0.376{col 58}   6.17
{txt}SWE 71-75{res}{txt}{col 22}{c |}{col 26}{res} -0.136{col 37} -0.892{col 47}  0.620{col 58}   1.47
{txt}Hartman{res}{txt}{col 22}{c |}{col 26}{res}  0.279{col 37} -0.028{col 47}  0.587{col 58}   8.87
{txt}AHS{res}{txt}{col 22}{c |}{col 26}{res} -0.519{col 37} -0.728{col 47} -0.309{col 58}  19.13
{txt}ATBC{res}{txt}{col 22}{c |}{col 26}{res}  0.012{col 37} -0.394{col 47}  0.419{col 58}   5.08
{txt}CARET{res}{txt}{col 22}{c |}{col 26}{res}  0.285{col 37}  0.052{col 47}  0.518{col 58}  15.47
{txt}Lifespan study{res}{txt}{col 22}{c |}{col 26}{res}  0.091{col 37} -0.146{col 47}  0.328{col 58}  14.95
{txt}Weinstein{res}{txt}{col 22}{c |}{col 26}{res}  0.155{col 37} -0.116{col 47}  0.426{col 58}  11.44
{txt}King{res}{txt}{col 22}{c |}{col 26}{res}  0.011{col 37} -0.381{col 47}  0.403{col 58}   5.46
{txt}{col 22}{c |}
Subgroup, IV{col 22}{c |}{col 26}{res}  0.036{col 37} -0.056{col 47}  0.127{col 58} 100.00
{txt}Subgroup, DL{col 22}{c |}{col 26}{res}  0.057{col 37} -0.142{col 47}  0.256{col 58}
{txt}{hline 21}{c +}{hline 46}
2: Case control{col 22}{c |}
Ohno{res}{txt}{col 22}{c |}{col 26}{res} -0.078{col 37} -0.350{col 47}  0.195{col 58}  15.03
{txt}Walker{res}{txt}{col 22}{c |}{col 26}{res} -0.066{col 37} -0.396{col 47}  0.264{col 58}  10.24
{txt}Ghadirian{res}{txt}{col 22}{c |}{col 26}{res} -0.021{col 37} -0.402{col 47}  0.360{col 58}   7.70
{txt}Ewings{res}{txt}{col 22}{c |}{col 26}{res} -0.254{col 37} -0.531{col 47}  0.022{col 58}  14.63
{txt}Hayes{res}{txt}{col 22}{c |}{col 26}{res}  0.203{col 37} -0.128{col 47}  0.534{col 58}  10.19
{txt}Lee{res}{txt}{col 22}{c |}{col 26}{res}  0.528{col 37} -0.088{col 47}  1.144{col 58}   2.94
{txt}Hsieh{res}{txt}{col 22}{c |}{col 26}{res}  0.048{col 37} -0.321{col 47}  0.417{col 58}   8.20
{txt}Joseph{res}{txt}{col 22}{c |}{col 26}{res} -0.330{col 37} -0.753{col 47}  0.093{col 58}   6.23
{txt}Friedenreich{res}{txt}{col 22}{c |}{col 26}{res}  0.024{col 37} -0.227{col 47}  0.275{col 58}  17.73
{txt}Allen{res}{txt}{col 22}{c |}{col 26}{res}  0.106{col 37} -0.290{col 47}  0.503{col 58}   7.11
{txt}{col 22}{c |}
Subgroup, IV{col 22}{c |}{col 26}{res} -0.026{col 37} -0.132{col 47}  0.080{col 58} 100.00
{txt}Subgroup, DL{col 22}{c |}{col 26}{res} -0.023{col 37} -0.138{col 47}  0.093{col 58}
{txt}{hline 21}{c +}{hline 46}
Overall, IV{col 22}{c |}{col 26}{res}  0.009{col 37} -0.060{col 47}  0.078
{txt}Overall, DL{col 22}{c |}{col 26}{res}  0.025{col 37} -0.092{col 47}  0.141
{txt}{hline 21}{c BT}{hline 46}

Tests of subgroup effect size = {res}0{txt}:
1: Cohort Studies
  IV {res}{col 20}z{txt} = {res}  0.760{txt}{col 33}p = {res}0.447
{txt}  DL {res}{col 20}z{txt} = {res}  0.560{txt}{col 33}p = {res}0.576
{txt}2: Case control
  IV {res}{col 20}z{txt} = {res} -0.480{txt}{col 33}p = {res}0.631
{txt}  DL {res}{col 20}z{txt} = {res} -0.387{txt}{col 33}p = {res}0.699

{txt}Tests of overall effect = {res}0{txt}:
  IV{res}{col 20}z{txt} = {res}  0.260{txt}{col 33}p = {res}0.795
{txt}  DL{res}{col 20}z{txt} = {res}  0.412{txt}{col 33}p = {res}0.680


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 21}{c TT}{hline 44}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value{col 61}I{c 178}
{hline 21}{c +}{hline 44}
1: Cohort Studies{col 22}{c |}{col 26}{res}  38.51{col 39}  9{col 46}  0.000{col 59}76.6%
{txt}2: Case control{col 22}{c |}{col 26}{res}  10.48{col 39}  9{col 46}  0.313{col 59}14.1%
{txt}Overall{col 22}{c |}{col 26}{res}  49.73{col 39} 19{col 46}  0.000{col 59}61.8%
{txt}Between{col 22}{c |}{col 26}{res}   0.74{col 39}  1{col 46}  0.389
{txt}Between:Within (F){col 22}{c |}{col 26}{res}   0.27{col 35}  1{txt},{res} 18{col 46}  0.608
{txt}{hline 21}{c BT}{hline 44}
Note: Considerable heterogeneity observed (I{c 178} up to {res}76.6%{txt}) in one or more subgroups;
  tests for heterogeneity between subgroups are likely to be invalid
{res}
{error}Note: with {bf:metan} version 4 and above, the preferred syntax is for options such as {bf:favours(Treatment reduces blood pressure # Treatment increases blood pressure)}
{error} to be supplied as sub-options to the {bf:forestplot()} option; see {help metan:help metan}
{txt}
{com}. return list, all

{txt}scalars:
                r(nby) =  {res}2
                  {txt}r(F) =  {res}.2724022395969475
               {txt}r(Qbet) =  {res}.7413709598567414
               {txt}r(Qsum) =  {res}48.98886770228626
               {txt}r(HsqM) =  {res}1.617380982218052
                  {txt}r(H) =  {res}1.617832186049608
                {txt}r(Isq) =  {res}61.79386926115097
                  {txt}r(Q) =  {res}49.730238662143
              {txt}r(Q_lci) =  {res}27.61323359592281
              {txt}r(Q_uci) =  {res}77.09255577371251
             {txt}r(se_eff) =  {res}.0353193350765617
                {txt}r(eff) =  {res}.0091754305917958
                  {txt}r(n) =  {res}3232
                  {txt}r(k) =  {res}20
                  {txt}r(m) =  {res}2

{txt}macros:
            r(measure) : "{res}Cohen's d SMD{txt}"
              r(model) : "{res}iv dl{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
                r(byQ) : {res} 4 x 2
            {txt}r(ovstats) : {res} 11 x 2
           {txt}r(bystats2) : {res} 11 x 2
           {txt}r(bystats1) : {res} 8 x 2

{title:Hidden; names and contents could change in future versions of Stata}

{txt}scalars:
         r(tsq_common) =  {res}.0441222542096659

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.0409331532989599
              {txt}r(p_het) =  {res}.0001435902824773
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}49.730238662143
               {txt}r(i_sq) =  {res}61.79386926115097
                {txt}r(p_z) =  {res}.7950296847864087
                  {txt}r(z) =  {res}.2597849187111325
           {txt}r(ci_upp_2) =  {res}.1411117525612159
           {txt}r(ci_low_2) =  {res}-.0920642081493099
             {txt}r(seES_2) =  {res}.0594847564929223
               {txt}r(ES_2) =  {res}.024523772205953
             {txt}r(ci_upp) =  {res}.0784000552997589
             {txt}r(ci_low) =  {res}-.0600491941161672
               {txt}r(seES) =  {res}.0353193350765617
                 {txt}r(ES) =  {res}.0091754305917958

{txt}macros:
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.0091754305917958
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0353193350765617
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}-.0600491941161672
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.0784000552997589
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}.2597849187111325
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.7950296847864087
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}49.730238662143
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0001435902824773
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.0409331532989599
{p_end}
{err}global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}61.79386926115097
{p_end}
{txt}
{com}. graph save "$Graphs/graph22_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph22_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tsample tmean tsd csample cmean csd, by(type_study) sgweight fixed second(random) rfdist counts label(namevar=id) ///
>                 forestplot(favours(Treatment reduces blood pressure # Treatment increases blood pressure)) nograph clear
{err}{error}Note: predictive interval cannot be estimated for all models
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , effect(`"SMD"') lcols(_counts1 _counts1msd _counts0 _counts0msd) nolcolscheck favours(Treatment reduces blood pressure # Treatment increases blood pressure) rfdist(_rfLCI _rfUCI)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}40
           {txt}r(textsize) =  {res}1.360544217687075
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}42
                {txt}r(cdw) =  {res}41.59166606267293
                {txt}r(rdw) =  {res}15.86666663487752
                {txt}r(ldw) =  {res}25.72499942779541
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.7573632648553637

{txt}macros:
              r(range) : "{res}-1.143674833749 1.143674833749{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         37    2.459459    2.142099          0          7
{txt}{space 9}_BY {c |}{res}         32         1.5    .5080005          1          2
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         26    .0275444    .2068518  -.5186245   .5278562
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}         26    .1528629    .0793385   .0353193    .385643
{txt}{space 8}_LCI {c |}{res}         29   -.2875237    .2410618  -.8916546   .0523515
{txt}{space 8}_UCI {c |}{res}         29    .3409501    .2703115  -.3091439   1.143675
{txt}{space 9}_WT {c |}{res}         22    18.18182    26.89643   1.469564        100
{txt}{space 9}_NN {c |}{res}         23    421.5652    749.4528         27       3232
{txt}{hline 13}{c +}{hline 57}
{space 4}_counts1 {c |}{res}         23    210.5217    374.2267         13       1614
{txt}{space 4}_counts0 {c |}{res}         23    211.0435    375.2282         14       1618
{txt}{space 1}_counts1msd {c |}{res}          0
{txt}{space 1}_counts0msd {c |}{res}          0
{txt}{space 6}_rfLCI {c |}{res}          8   -.4219066    .1754083  -.6124831  -.2335847
{txt}{hline 13}{c +}{hline 57}
{space 6}_rfUCI {c |}{res}          8    .4596706    .2491471   .1879786   .7260947
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:22
{txt}{.-}

{com}. 
. // Stata 16
. /*
> meta esize tsample tmean tsd csample cmean csd, studylab(id_year) esize(cohend, holkinse) common
> meta summ, subgroup(type_study)
> // ^^ -metan- calculations agree with "cohend, holkinse" (see -meta esize- documentation)
> 
> meta esize tsample tmean tsd csample cmean csd, studylab(id_year) esize(cohend, holkinse) random(dl)
> meta summ, subgroup(type_study)
> meta summ, predinterval
> meta forest, subgroup(type_study) xtitle(Treatment reduces blood pressure   Treatment increases blood pressure)
> graph save "$Graphs/graph22_meta16_part1.gph"
> meta forest, predinterval xtitle(Treatment reduces blood pressure   Treatment increases blood pressure)
> graph save "$Graphs/graph22_meta16_part2.gph"
> // Cannot specify multiple models (fixed + random) with meta
> // Cannot combine prediction intervals with subgroups with meta
> */
. 
. 
. * Example 4
. // Generate log odds ratio and standard error, analyse with 2 parameter syntax.
. // Graph has exponential form, scale is forced within set limits and ticks added, effect label specified.
. gen logor = ln( (tdeath*cnodeath)/(tnodeath*cdeath) )
{txt}
{com}. gen selogor = sqrt( (1/tdeath) + (1/tnodeath) + (1/cdeath) + (1/cnodeath) )
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:22
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 logor selogor, eform effect(Odds ratio) xlabel(0.5, 1, 1.5, 2, 2.5) force xtick(0.75, 1.25, 1.75, 2.25)

{txt}{col 12}Study{col 22}|{col 24}{col 28}ES{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
1{col 22}|{res}  0.612{col 35}  0.360     1.041{col 60}  6.90
{txt}2{col 22}|{res}  1.288{col 35}  0.743     2.235{col 60}  6.42
{txt}3{col 22}|{res}  1.109{col 35}  0.529     2.328{col 60}  3.55
{txt}4{col 22}|{res}  1.155{col 35}  0.596     2.237{col 60}  4.45
{txt}5{col 22}|{res}  1.353{col 35}  0.631     2.905{col 60}  3.34
{txt}6{col 22}|{res}  1.242{col 35}  0.701     2.202{col 60}  5.95
{txt}7{col 22}|{res}  2.173{col 35}  1.108     4.261{col 60}  4.30
{txt}8{col 22}|{res}  0.857{col 35}  0.189     3.888{col 60}  0.85
{txt}9{col 22}|{res}  0.643{col 35}  0.348     1.191{col 60}  5.14
{txt}10{col 22}|{res}  0.573{col 35}  0.378     0.869{col 60} 11.25
{txt}11{col 22}|{res}  1.467{col 35}  0.434     4.951{col 60}  1.32
{txt}12{col 22}|{res}  2.651{col 35}  1.234     5.696{col 60}  3.33
{txt}13{col 22}|{res}  1.134{col 35}  0.500     2.572{col 60}  2.90
{txt}14{col 22}|{res}  1.215{col 35}  0.763     1.936{col 60}  8.99
{txt}15{col 22}|{res}  0.745{col 35}  0.461     1.204{col 60}  8.45
{txt}16{col 22}|{res}  1.513{col 35}  0.648     3.533{col 60}  2.71
{txt}17{col 22}|{res}  1.179{col 35}  0.713     1.952{col 60}  7.68
{txt}18{col 22}|{res}  2.098{col 35}  0.936     4.702{col 60}  2.99
{txt}19{col 22}|{res}  1.163{col 35}  0.669     2.023{col 60}  6.36
{txt}20{col 22}|{res}  1.176{col 35}  0.534     2.593{col 60}  3.12
{txt}---------------------+---------------------------------------------------
I-V pooled ES{col 22}|{res}  1.058{col 35}  0.921     1.217{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res} 32.69{txt} (d.f. = {res}19{txt}) p = {res}0.026
{txt}  I-squared (variation in ES attributable to heterogeneity) ={res}  41.9%

{txt}  Test of ES=1 : z= {res}  0.80{txt} p = {res}0.425
{txt}
{com}. return list

{txt}scalars:
               r(tau2) =  {res}0
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}.0261037876044204
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}32.68876514211297
               {txt}r(i_sq) =  {res}41.87605460959343
                {txt}r(p_z) =  {res}.42488908753236
                  {txt}r(z) =  {res}.7979679530040724
             {txt}r(ci_upp) =  {res}1.217044180294658
             {txt}r(ci_low) =  {res}.9205724725378931
            {txt}r(selogES) =  {res}.0712218866961616
                 {txt}r(ES) =  {res}1.058478800090822

{txt}macros:
            r(measure) : "{res}ES{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}1.058478800090822
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0712218866961616
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.9205724725378931
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}1.217044180294658
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}.7979679530040724
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.42488908753236
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}32.68876514211297
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0261037876044204
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}0
{p_end}
{err}global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}41.87605460959343
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:23
{txt}{.-}

{com}. graph save "$Graphs/graph23_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph23_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:23
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  logor selogor, eform effect(Odds ratio) xlabel(0.5, 1, 1.5, 2, 2.5) force xtick(0.75, 1.25, 1.75, 2.25)

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

{hline 21}{c TT}{hline 46}
{col 22}{c |}    Odds               
Study{col 22}{c |}    ratio   {col 36}[95% Conf. Interval]{col 59}% Weight
{hline 21}{c +}{hline 46}
1{res}{txt}{col 22}{c |}{col 26}{res}  0.612{col 37}  0.360{col 47}  1.041{col 58}   6.90
{txt}2{res}{txt}{col 22}{c |}{col 26}{res}  1.288{col 37}  0.743{col 47}  2.235{col 58}   6.42
{txt}3{res}{txt}{col 22}{c |}{col 26}{res}  1.109{col 37}  0.529{col 47}  2.328{col 58}   3.55
{txt}4{res}{txt}{col 22}{c |}{col 26}{res}  1.155{col 37}  0.596{col 47}  2.237{col 58}   4.45
{txt}5{res}{txt}{col 22}{c |}{col 26}{res}  1.353{col 37}  0.631{col 47}  2.905{col 58}   3.34
{txt}6{res}{txt}{col 22}{c |}{col 26}{res}  1.242{col 37}  0.701{col 47}  2.202{col 58}   5.95
{txt}7{res}{txt}{col 22}{c |}{col 26}{res}  2.173{col 37}  1.108{col 47}  4.261{col 58}   4.30
{txt}8{res}{txt}{col 22}{c |}{col 26}{res}  0.857{col 37}  0.189{col 47}  3.888{col 58}   0.85
{txt}9{res}{txt}{col 22}{c |}{col 26}{res}  0.643{col 37}  0.348{col 47}  1.191{col 58}   5.14
{txt}10{res}{txt}{col 22}{c |}{col 26}{res}  0.573{col 37}  0.378{col 47}  0.869{col 58}  11.25
{txt}11{res}{txt}{col 22}{c |}{col 26}{res}  1.467{col 37}  0.434{col 47}  4.951{col 58}   1.32
{txt}12{res}{txt}{col 22}{c |}{col 26}{res}  2.651{col 37}  1.234{col 47}  5.696{col 58}   3.33
{txt}13{res}{txt}{col 22}{c |}{col 26}{res}  1.134{col 37}  0.500{col 47}  2.572{col 58}   2.90
{txt}14{res}{txt}{col 22}{c |}{col 26}{res}  1.215{col 37}  0.763{col 47}  1.936{col 58}   8.99
{txt}15{res}{txt}{col 22}{c |}{col 26}{res}  0.745{col 37}  0.461{col 47}  1.204{col 58}   8.45
{txt}16{res}{txt}{col 22}{c |}{col 26}{res}  1.513{col 37}  0.648{col 47}  3.533{col 58}   2.71
{txt}17{res}{txt}{col 22}{c |}{col 26}{res}  1.179{col 37}  0.713{col 47}  1.952{col 58}   7.68
{txt}18{res}{txt}{col 22}{c |}{col 26}{res}  2.098{col 37}  0.936{col 47}  4.702{col 58}   2.99
{txt}19{res}{txt}{col 22}{c |}{col 26}{res}  1.163{col 37}  0.669{col 47}  2.023{col 58}   6.36
{txt}20{res}{txt}{col 22}{c |}{col 26}{res}  1.176{col 37}  0.534{col 47}  2.593{col 58}   3.12
{txt}{hline 21}{c +}{hline 46}
Overall, IV{col 22}{c |}{col 26}{res}  1.058{col 37}  0.921{col 47}  1.217{col 58} 100.00
{txt}{hline 21}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.798{txt}  p = {res}0.425


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  32.69{col 39} 19{col 46}  0.026
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.312{col 36}  1.000{col 46}  1.684
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   41.9%{col 35}    0.0%{col 45}   64.7%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.5 1 1.5 2 2.5)}; see {help numlist:help numlist}
{res}{txt}
{com}. return list, all

{txt}scalars:
               r(HsqM) =  {res}.7204612967601226
                  {txt}r(H) =  {res}1.311663560811279
                {txt}r(Isq) =  {res}41.87605371401585
                  {txt}r(Q) =  {res}32.68876463844233
              {txt}r(Q_lci) =  {res}16.40226582755133
              {txt}r(Q_uci) =  {res}53.88489066168705
             {txt}r(se_eff) =  {res}.0712218872032853
                {txt}r(eff) =  {res}.0568327857868347
                  {txt}r(n) =  {res}.
                  {txt}r(k) =  {res}20
                  {txt}r(m) =  {res}1

{txt}macros:
              r(model) : "{res}iv{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 7 x 1

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.0741764279439805
              {txt}r(p_het) =  {res}.0261037910706787
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}32.68876463844233
               {txt}r(i_sq) =  {res}41.87605371401585
                {txt}r(p_z) =  {res}.4248890692305227
                  {txt}r(z) =  {res}.797967984541318
             {txt}r(ci_upp) =  {res}1.217044184730486
             {txt}r(ci_low) =  {res}.9205724740631587
            {txt}r(selogES) =  {res}.0712218872032853
                 {txt}r(ES) =  {res}1.058478802896649
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}1.058478802896649
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0712218872032853
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.9205724740631587
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}1.217044184730486
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}.797967984541318
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.4248890692305227
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}32.68876463844233
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0261037910706787
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.0741764279439805
{p_end}
{err}global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}41.87605371401585
{p_end}
{txt}
{com}. graph save "$Graphs/graph23_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph23_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  logor selogor, eform effect(Odds ratio) forestplot(xlabel(0.5, 1, 1.5, 2, 2.5) force xtick(0.75, 1.25, 1.75, 2.25)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Odds ratio"') xlabel(0.5, 1, 1.5, 2, 2.5) xtick(0.75, 1.25, 1.75, 2.25) force
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.5 1 1.5 2 2.5)}; see {help numlist:help numlist}
{res}{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}21.31585253145845
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}8.01585273808789
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.8796270274589437

{txt}macros:
              r(range) : "{res}-.6931471805599 .9162907318742{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .1537372    .3966677  -.5563209   .9750561
{txt}{space 7}_seES {c |}{res}         21    .3505246    .1453288   .0712219   .7715167
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.5332785    .4352662  -1.666296   .2104256
{txt}{space 8}_UCI {c |}{res}         21    .8407528     .536191  -.1401679   1.739687
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.89757   .8521896        100
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:25
{txt}{.-}

{com}. 
. // Note that xlabel() and xtick() now expect a standard Stata -numlist-  (i.e. not comma-separated)
. // ...and "force" is now a sub-option of xlabel() rather than a stand-alone option.
. // However, the older syntax remains valid.
. 
. // Note: new version does not automatically present a p-value for heterogeneity on the forest plot
. // to avoid confusion with significance test of overall effect
. // Hence, to *exactly* recreate the example, we need to add the option "hetinfo(isq p)"
. metan  logor selogor, eform effect(Odds ratio) forestplot(xlabel(0.5 1 1.5 2 2.5, force) xtick(0.75 1.25 1.75 2.25) hetinfo(isq p))

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

{hline 21}{c TT}{hline 46}
{col 22}{c |}    Odds               
Study{col 22}{c |}    ratio   {col 36}[95% Conf. Interval]{col 59}% Weight
{hline 21}{c +}{hline 46}
1{res}{txt}{col 22}{c |}{col 26}{res}  0.612{col 37}  0.360{col 47}  1.041{col 58}   6.90
{txt}2{res}{txt}{col 22}{c |}{col 26}{res}  1.288{col 37}  0.743{col 47}  2.235{col 58}   6.42
{txt}3{res}{txt}{col 22}{c |}{col 26}{res}  1.109{col 37}  0.529{col 47}  2.328{col 58}   3.55
{txt}4{res}{txt}{col 22}{c |}{col 26}{res}  1.155{col 37}  0.596{col 47}  2.237{col 58}   4.45
{txt}5{res}{txt}{col 22}{c |}{col 26}{res}  1.353{col 37}  0.631{col 47}  2.905{col 58}   3.34
{txt}6{res}{txt}{col 22}{c |}{col 26}{res}  1.242{col 37}  0.701{col 47}  2.202{col 58}   5.95
{txt}7{res}{txt}{col 22}{c |}{col 26}{res}  2.173{col 37}  1.108{col 47}  4.261{col 58}   4.30
{txt}8{res}{txt}{col 22}{c |}{col 26}{res}  0.857{col 37}  0.189{col 47}  3.888{col 58}   0.85
{txt}9{res}{txt}{col 22}{c |}{col 26}{res}  0.643{col 37}  0.348{col 47}  1.191{col 58}   5.14
{txt}10{res}{txt}{col 22}{c |}{col 26}{res}  0.573{col 37}  0.378{col 47}  0.869{col 58}  11.25
{txt}11{res}{txt}{col 22}{c |}{col 26}{res}  1.467{col 37}  0.434{col 47}  4.951{col 58}   1.32
{txt}12{res}{txt}{col 22}{c |}{col 26}{res}  2.651{col 37}  1.234{col 47}  5.696{col 58}   3.33
{txt}13{res}{txt}{col 22}{c |}{col 26}{res}  1.134{col 37}  0.500{col 47}  2.572{col 58}   2.90
{txt}14{res}{txt}{col 22}{c |}{col 26}{res}  1.215{col 37}  0.763{col 47}  1.936{col 58}   8.99
{txt}15{res}{txt}{col 22}{c |}{col 26}{res}  0.745{col 37}  0.461{col 47}  1.204{col 58}   8.45
{txt}16{res}{txt}{col 22}{c |}{col 26}{res}  1.513{col 37}  0.648{col 47}  3.533{col 58}   2.71
{txt}17{res}{txt}{col 22}{c |}{col 26}{res}  1.179{col 37}  0.713{col 47}  1.952{col 58}   7.68
{txt}18{res}{txt}{col 22}{c |}{col 26}{res}  2.098{col 37}  0.936{col 47}  4.702{col 58}   2.99
{txt}19{res}{txt}{col 22}{c |}{col 26}{res}  1.163{col 37}  0.669{col 47}  2.023{col 58}   6.36
{txt}20{res}{txt}{col 22}{c |}{col 26}{res}  1.176{col 37}  0.534{col 47}  2.593{col 58}   3.12
{txt}{hline 21}{c +}{hline 46}
Overall, IV{col 22}{c |}{col 26}{res}  1.058{col 37}  0.921{col 47}  1.217{col 58} 100.00
{txt}{hline 21}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.798{txt}  p = {res}0.425


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  32.69{col 39} 19{col 46}  0.026
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.312{col 36}  1.000{col 46}  1.684
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   41.9%{col 35}    0.0%{col 45}   64.7%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. graph save "$Graphs/graph23_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph23_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  logor selogor, eform effect(Odds ratio) forestplot(xlabel(0.5 1 1.5 2 2.5, force) xtick(0.75 1.25 1.75 2.25) hetinfo(isq p)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Odds ratio"') xlabel(0.5 1 1.5 2 2.5, force) xtick(0.75 1.25 1.75 2.25)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}2.380952380952381
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}21.31585253145845
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}8.01585273808789
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.8796270274589437

{txt}macros:
              r(range) : "{res}-.6931471805599 .9162907318742{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .1537372    .3966677  -.5563209   .9750561
{txt}{space 7}_seES {c |}{res}         21    .3505246    .1453288   .0712219   .7715167
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.5332785    .4352662  -1.666296   .2104256
{txt}{space 8}_UCI {c |}{res}         21    .8407528     .536191  -.1401679   1.739687
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.89757   .8521896        100
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16
. /*
> meta set logor selogor, studylab(id_year) random(dl)
> meta summ, eform(Odds ratio)
> meta forest, eform(Odds ratio) xtick(0.75 1.25 1.75 2.25) crop(.5 2.5)
> graph save "$Graphs/graph23_meta16.gph"
> */
. 
. 
. * Example 5
. // Display diagnostic test data with 3 parameter syntax.
. // Weight is number of positive diagnoses, axis label set and null specified at 50%.
. // Overall effect estimate is not displayed, graph for visual examination only.
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:27
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 percent lowerci upperci, wgt(n_positives) label(namevar=id) nooverall notable ///
>         xlabel(0,10,20,30,40,50,60,70,80,90,100) force null(50) title(Sensitivity, position(6))
Null specified as 50 in graph- for most effect measures null is 0 or 1
{res}{txt}
{com}. return list

{txt}scalars:
               r(tau2) =  {res}.
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}.0862495689940511
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}27.85548599436879
               {txt}r(i_sq) =  {res}31.79081490862876
                {txt}r(p_z) =  {res}0
                  {txt}r(z) =  {res}56.88350545284879
             {txt}r(ci_upp) =  {res}81.53270783066382
             {txt}r(ci_low) =  {res}76.10130915760765
               {txt}r(seES) =  {res}1.385586346457987
                 {txt}r(ES) =  {res}78.81700849413574

{txt}macros:
            r(measure) : "{res}ES{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}78.81700849413574
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}1.385586346457987
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}76.10130915760765
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}81.53270783066382
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}56.88350545284879
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}0
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}27.85548599436879
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0862495689940511
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}.
{p_end}
{err}global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}31.79081490862876
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:29
{txt}{.-}

{com}. graph save "$Graphs/graph24_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph24_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:29
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  percent lowerci upperci, wgt(n_positives) label(namevar=id) nooverall notable ///
>         xlabel(0,10,20,30,40,50,60,70,80,90,100) force null(50) title(Sensitivity, position(6))

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown
{txt}Weights {res}n_positives{txt} are user-defined

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(0 10 20 30 40 50 60 70 80 90 100)}; see {help numlist:help numlist}
{res}{txt}
{com}. return list, all

{txt}scalars:
                  r(n) =  {res}.
                  {txt}r(k) =  {res}20
                  {txt}r(m) =  {res}1

{txt}macros:
          r(modelopts) : "{res}wgt(n_positives){txt}"
              r(model) : "{res}iv{txt}"
             r(citype) : "{res}normal{txt}"
{res}
{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}11.9167964531622
              {txt}r(p_het) =  {res}.0862495657768434
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}27.8554861568779
               {txt}r(i_sq) =  {res}31.79081530656165
                {txt}r(p_z) =  {res}0
                  {txt}r(z) =  {res}56.88350593565439
             {txt}r(ci_upp) =  {res}81.53270791145967
             {txt}r(ci_low) =  {res}76.10130927758534
               {txt}r(seES) =  {res}1.385586336462434
                 {txt}r(ES) =  {res}78.81700859452251
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}78.81700859452251
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}1.385586336462434
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}76.10130927758534
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}81.53270791145967
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}56.88350593565439
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}0
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}27.8554861568779
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0862495657768434
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}11.9167964531622
{p_end}
{err}global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}31.79081530656165
{p_end}
{txt}
{com}. graph save "$Graphs/graph24_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph24_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  percent lowerci upperci, wgt(n_positives) label(namevar=id) nooverall notable ///
>                 forestplot(xlabel(0,10,20,30,40,50,60,70,80,90,100) force null(50) title(Sensitivity, position(6))) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , effect(`"Effect"') nooverall nohet nowt xlabel(0,10,20,30,40,50,60,70,80,90,100) null(50) title(Sensitivity, position(6)) force note(NOTE: Weights are based on user-defined quantities)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(0 10 20 30 40 50 60 70 80 90 100)}; see {help numlist:help numlist}
{res}{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}22
           {txt}r(textsize) =  {res}2.298850574712644
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}24
                {txt}r(cdw) =  {res}18.02499961853028
                {txt}r(rdw) =  {res}10.61666647593181
                {txt}r(ldw) =  {res}7.40833314259847
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.9986130585820052

{txt}macros:
              r(range) : "{res}0 100{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         20           1           0          1          1
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         20    77.14449    6.464336   67.15028   92.02569
{txt}{space 7}_seES {c |}{res}         20    6.938173    2.045919    2.12589    10.4766
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         20     62.8963     6.76409   53.95243   79.54891
{txt}{space 8}_UCI {c |}{res}         20    90.09344    3.285812   83.22551   95.14288
{txt}{space 9}_WT {c |}{res}         20           5    2.748906   .8145363   11.09023
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:30
{txt}{.-}

{com}. 
. // Note that xlabel() now expects a standard Stata -numlist-
. // ...and "force" is now a sub-option of xlabel() rather than a stand-alone option
. // However, the older syntax remains valid.
. metan  percent lowerci upperci, wgt(n_positives) label(namevar=id) nooverall notable ///
>         forestplot(xlabel(0(10)100, force) null(50) title(Sensitivity, position(6)))

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown
{txt}Weights {res}n_positives{txt} are user-defined
{res}{txt}
{com}. graph save "$Graphs/graph24_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph24_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  percent lowerci upperci, wgt(n_positives) label(namevar=id) nooverall notable ///
>                 forestplot(xlabel(0(10)100, force) null(50) title(Sensitivity, position(6))) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , effect(`"Effect"') nooverall nohet nowt xlabel(0(10)100, force) null(50) title(Sensitivity, position(6)) note(NOTE: Weights are based on user-defined quantities)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}22
           {txt}r(textsize) =  {res}2.298850574712644
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}24
                {txt}r(cdw) =  {res}18.02499961853028
                {txt}r(rdw) =  {res}10.61666647593181
                {txt}r(ldw) =  {res}7.40833314259847
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.9986130585820052

{txt}macros:
              r(range) : "{res}0 100{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         20           1           0          1          1
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         20    77.14449    6.464336   67.15028   92.02569
{txt}{space 7}_seES {c |}{res}         20    6.938173    2.045919    2.12589    10.4766
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         20     62.8963     6.76409   53.95243   79.54891
{txt}{space 8}_UCI {c |}{res}         20    90.09344    3.285812   83.22551   95.14288
{txt}{space 9}_WT {c |}{res}         20           5    2.748906   .8145363   11.09023
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16
. // Cannot easily do this, as percent confidence limits are asymmetrical by definition, but meta will not accept them.
. // Would need to use a normalising transform (e.g. arcsine?).
. // Also: Cannot use user-specified weights with meta
. 
. 
. 
. * Example 6
. // User has analysed data with a non-standard technique and supplied effect estimates, weights and description of statistics.
. // The scheme "Economist" has been used.
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:32
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 OR ORlci ORuci, wgt(bweight) first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) label(namevar=id) ///
>         xlabel(0.25, 0.5, 1, 2, 4) force null(1) aspect(1.2) scheme(economist)

{txt}{col 12}Study{col 22}|{col 24}{col 28}ES{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
AHS 60-80{col 22}|{res}  0.612{col 35}  0.360     1.041{col 60}  4.31
{txt}Ohno{col 22}|{res}  1.288{col 35}  0.743     2.235{col 60}  4.51
{txt}CA,USA 81-85{col 22}|{res}  1.109{col 35}  0.529     2.328{col 60}  3.11
{txt}Walker{col 22}|{res}  1.155{col 35}  0.596     2.237{col 60}  7.00
{txt}Ghadirian{col 22}|{res}  1.353{col 35}  0.631     2.905{col 60}  5.89
{txt}Ewings{col 22}|{res}  1.242{col 35}  0.701     2.202{col 60}  2.82
{txt}Hayes{col 22}|{res}  2.173{col 35}  1.108     4.261{col 60}  5.51
{txt}SWE 71-75{col 22}|{res}  0.857{col 35}  0.189     3.888{col 60}  2.09
{txt}Hartman{col 22}|{res}  0.643{col 35}  0.348     1.191{col 60}  6.49
{txt}AHS{col 22}|{res}  0.573{col 35}  0.378     0.869{col 60}  6.04
{txt}Lee{col 22}|{res}  1.467{col 35}  0.434     4.951{col 60}  2.70
{txt}Hsieh{col 22}|{res}  2.651{col 35}  1.234     5.696{col 60}  5.23
{txt}ATBC{col 22}|{res}  1.134{col 35}  0.500     2.572{col 60}  2.65
{txt}CARET{col 22}|{res}  1.215{col 35}  0.763     1.936{col 60}  4.93
{txt}Lifespan study{col 22}|{res}  0.745{col 35}  0.461     1.204{col 60} 11.08
{txt}Joseph{col 22}|{res}  1.513{col 35}  0.648     3.533{col 60}  4.78
{txt}Friedenreich{col 22}|{res}  1.179{col 35}  0.713     1.952{col 60}  9.72
{txt}Allen{col 22}|{res}  2.098{col 35}  0.936     4.702{col 60}  3.10
{txt}Weinstein{col 22}|{res}  1.163{col 35}  0.669     2.023{col 60}  5.63
{txt}King{col 22}|{res}  1.176{col 35}  0.534     2.593{col 60}  2.39
{txt}---------------------+---------------------------------------------------
Bayesian pooled ES{col 22}|{res}  0.924{col 35}  0.753     1.095{col 60}100.00
{txt}---------------------+---------------------------------------------------
{res}{txt}
{com}. return list

{txt}scalars:
               r(tau2) =  {res}.
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}.
                 {txt}r(df) =  {res}0
                {txt}r(het) =  {res}.
               {txt}r(i_sq) =  {res}67.0365245334162
                {txt}r(p_z) =  {res}.
                  {txt}r(z) =  {res}.
             {txt}r(ci_upp) =  {res}1.095
             {txt}r(ci_low) =  {res}.753
               {txt}r(seES) =  {res}.
                 {txt}r(ES) =  {res}.924

{txt}macros:
            r(measure) : "{res}ES{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.924
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.753
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}1.095
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}.
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}.
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}0
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_15:{space 11}{res}{res}.
{p_end}
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}67.0365245334162
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:34
{txt}{.-}

{com}. graph save "$Graphs/graph25_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph25_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:34
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  OR ORlci ORuci, wgt(bweight) first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) label(namevar=id) ///
>         xlabel(0.25, 0.5, 1, 2, 4) force null(1) aspect(1.2) scheme(economist) forestplot(diamopts(lwidth(thick)))

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
with {res}user-specified pooled estimates
{txt}Weights {res}bweight{txt} are user-defined

{hline 21}{c TT}{hline 46}
Study identifier{col 22}{c |}   Effect   {col 36}[95% Conf. Interval]{col 59}% Weight
{hline 21}{c +}{hline 46}
AHS 60-80{res}{txt}{col 22}{c |}{col 26}{res}  0.612{col 37}  0.360{col 47}  1.041{col 58}   4.31
{txt}Ohno{res}{txt}{col 22}{c |}{col 26}{res}  1.288{col 37}  0.743{col 47}  2.235{col 58}   4.51
{txt}CA,USA 81-85{res}{txt}{col 22}{c |}{col 26}{res}  1.109{col 37}  0.529{col 47}  2.328{col 58}   3.11
{txt}Walker{res}{txt}{col 22}{c |}{col 26}{res}  1.155{col 37}  0.596{col 47}  2.237{col 58}   7.00
{txt}Ghadirian{res}{txt}{col 22}{c |}{col 26}{res}  1.353{col 37}  0.631{col 47}  2.905{col 58}   5.89
{txt}Ewings{res}{txt}{col 22}{c |}{col 26}{res}  1.242{col 37}  0.701{col 47}  2.202{col 58}   2.82
{txt}Hayes{res}{txt}{col 22}{c |}{col 26}{res}  2.173{col 37}  1.108{col 47}  4.261{col 58}   5.51
{txt}SWE 71-75{res}{txt}{col 22}{c |}{col 26}{res}  0.857{col 37}  0.189{col 47}  3.888{col 58}   2.09
{txt}Hartman{res}{txt}{col 22}{c |}{col 26}{res}  0.643{col 37}  0.348{col 47}  1.191{col 58}   6.49
{txt}AHS{res}{txt}{col 22}{c |}{col 26}{res}  0.573{col 37}  0.378{col 47}  0.869{col 58}   6.04
{txt}Lee{res}{txt}{col 22}{c |}{col 26}{res}  1.467{col 37}  0.434{col 47}  4.951{col 58}   2.70
{txt}Hsieh{res}{txt}{col 22}{c |}{col 26}{res}  2.651{col 37}  1.234{col 47}  5.696{col 58}   5.23
{txt}ATBC{res}{txt}{col 22}{c |}{col 26}{res}  1.134{col 37}  0.500{col 47}  2.572{col 58}   2.65
{txt}CARET{res}{txt}{col 22}{c |}{col 26}{res}  1.215{col 37}  0.763{col 47}  1.936{col 58}   4.93
{txt}Lifespan study{res}{txt}{col 22}{c |}{col 26}{res}  0.745{col 37}  0.461{col 47}  1.204{col 58}  11.08
{txt}Joseph{res}{txt}{col 22}{c |}{col 26}{res}  1.513{col 37}  0.648{col 47}  3.533{col 58}   4.78
{txt}Friedenreich{res}{txt}{col 22}{c |}{col 26}{res}  1.179{col 37}  0.713{col 47}  1.952{col 58}   9.72
{txt}Allen{res}{txt}{col 22}{c |}{col 26}{res}  2.098{col 37}  0.936{col 47}  4.702{col 58}   3.10
{txt}Weinstein{res}{txt}{col 22}{c |}{col 26}{res}  1.163{col 37}  0.669{col 47}  2.023{col 58}   5.63
{txt}King{res}{txt}{col 22}{c |}{col 26}{res}  1.176{col 37}  0.534{col 47}  2.593{col 58}   2.39
{txt}{hline 21}{c +}{hline 46}
Overall, Bayesian{col 22}{c |}{col 26}{res}  0.924{col 37}  0.753{col 47}  1.095{col 58} 100.00
{txt}{hline 21}{c BT}{hline 46}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.25 .5 1 2 4)}; see {help numlist:help numlist}
{res}{txt}
{com}. return list, all

{txt}scalars:
                  r(n) =  {res}.
                  {txt}r(k) =  {res}20
                  {txt}r(m) =  {res}1

{txt}macros:
          r(modelopts) : "{res}wgt(bweight){txt}"
              r(model) : "{res}user{txt}"
             r(citype) : "{res}normal{txt}"
{res}
{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
              r(p_het) =  {res}.1982251305934962
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}23.94617481845576
               {txt}r(i_sq) =  {res}.
             {txt}r(ci_upp) =  {res}.
             {txt}r(ci_low) =  {res}.
               {txt}r(seES) =  {res}.
                 {txt}r(ES) =  {res}.
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.
{p_end}
{err}global macro $S_5 not found
global macro $S_6 not found
{txt}{p 0 16}
S_7:{space 12}{res}{res}23.94617481845576
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.1982251305934962
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
global macro $S_12 not found
global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}.
{p_end}
{txt}
{com}. graph save "$Graphs/graph25_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph25_metan.gph saved)

{com}. // N.B. last forestplot option is needed because scheme(economist) treats lines differently from areas
. // so default widths are different;  so need to override the scheme default for the diamond.
. // (see scheme-economist.scheme)
. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  OR ORlci ORuci, wgt(bweight) first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) label(namevar=id) ///
>                 forestplot(xlabel(0.25, 0.5, 1, 2, 4) force null(1) aspect(1.2) diamopts(lwidth(thick))) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , effect(`"Effect"') xlabel(0.25, 0.5, 1, 2, 4) null(1) aspect(1.2) diamopts(lwidth(thick)) force note(NOTE: Weights are based on user-defined quantities)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.25 .5 1 2 4)}; see {help numlist:help numlist}
{res}{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}1.241715602611828
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2.876204957009816
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}29.96046830218559
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}16.66046850881503
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}1.2

{txt}macros:
              r(range) : "{res}.25 4{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    1.251062    .5230929   .5733145   2.651316
{txt}{space 7}_seES {c |}{res}         20    .5337728    .3190152   .1252742   1.152314
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21     .629769    .2511562   .1889457   1.234203
{txt}{space 8}_UCI {c |}{res}         21     2.63877     1.38194   .8692123   5.695558
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.85919   2.089766        100
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:37
{txt}{.-}

{com}. 
. // Note that xlabel() now expects a standard Stata -numlist-
. // ...and "force" is now a sub-option of xlabel() rather than a stand-alone option
. // However, the older syntax remains valid.
. metan  OR ORlci ORuci, wgt(bweight) first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) label(namevar=id) ///
>         forestplot(xlabel(0.25 0.5 1 2 4, force) null(1) aspect(1.2) scheme(economist))

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
with {res}user-specified pooled estimates
{txt}Weights {res}bweight{txt} are user-defined

{hline 21}{c TT}{hline 46}
Study identifier{col 22}{c |}   Effect   {col 36}[95% Conf. Interval]{col 59}% Weight
{hline 21}{c +}{hline 46}
AHS 60-80{res}{txt}{col 22}{c |}{col 26}{res}  0.612{col 37}  0.360{col 47}  1.041{col 58}   4.31
{txt}Ohno{res}{txt}{col 22}{c |}{col 26}{res}  1.288{col 37}  0.743{col 47}  2.235{col 58}   4.51
{txt}CA,USA 81-85{res}{txt}{col 22}{c |}{col 26}{res}  1.109{col 37}  0.529{col 47}  2.328{col 58}   3.11
{txt}Walker{res}{txt}{col 22}{c |}{col 26}{res}  1.155{col 37}  0.596{col 47}  2.237{col 58}   7.00
{txt}Ghadirian{res}{txt}{col 22}{c |}{col 26}{res}  1.353{col 37}  0.631{col 47}  2.905{col 58}   5.89
{txt}Ewings{res}{txt}{col 22}{c |}{col 26}{res}  1.242{col 37}  0.701{col 47}  2.202{col 58}   2.82
{txt}Hayes{res}{txt}{col 22}{c |}{col 26}{res}  2.173{col 37}  1.108{col 47}  4.261{col 58}   5.51
{txt}SWE 71-75{res}{txt}{col 22}{c |}{col 26}{res}  0.857{col 37}  0.189{col 47}  3.888{col 58}   2.09
{txt}Hartman{res}{txt}{col 22}{c |}{col 26}{res}  0.643{col 37}  0.348{col 47}  1.191{col 58}   6.49
{txt}AHS{res}{txt}{col 22}{c |}{col 26}{res}  0.573{col 37}  0.378{col 47}  0.869{col 58}   6.04
{txt}Lee{res}{txt}{col 22}{c |}{col 26}{res}  1.467{col 37}  0.434{col 47}  4.951{col 58}   2.70
{txt}Hsieh{res}{txt}{col 22}{c |}{col 26}{res}  2.651{col 37}  1.234{col 47}  5.696{col 58}   5.23
{txt}ATBC{res}{txt}{col 22}{c |}{col 26}{res}  1.134{col 37}  0.500{col 47}  2.572{col 58}   2.65
{txt}CARET{res}{txt}{col 22}{c |}{col 26}{res}  1.215{col 37}  0.763{col 47}  1.936{col 58}   4.93
{txt}Lifespan study{res}{txt}{col 22}{c |}{col 26}{res}  0.745{col 37}  0.461{col 47}  1.204{col 58}  11.08
{txt}Joseph{res}{txt}{col 22}{c |}{col 26}{res}  1.513{col 37}  0.648{col 47}  3.533{col 58}   4.78
{txt}Friedenreich{res}{txt}{col 22}{c |}{col 26}{res}  1.179{col 37}  0.713{col 47}  1.952{col 58}   9.72
{txt}Allen{res}{txt}{col 22}{c |}{col 26}{res}  2.098{col 37}  0.936{col 47}  4.702{col 58}   3.10
{txt}Weinstein{res}{txt}{col 22}{c |}{col 26}{res}  1.163{col 37}  0.669{col 47}  2.023{col 58}   5.63
{txt}King{res}{txt}{col 22}{c |}{col 26}{res}  1.176{col 37}  0.534{col 47}  2.593{col 58}   2.39
{txt}{hline 21}{c +}{hline 46}
Overall, Bayesian{col 22}{c |}{col 26}{res}  0.924{col 37}  0.753{col 47}  1.095{col 58} 100.00
{txt}{hline 21}{c BT}{hline 46}
{res}{txt}
{com}. graph save "$Graphs/graph25_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph25_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  OR ORlci ORuci, wgt(bweight) first(0.924 0.753 1.095 Bayesian) firststats(param V=3.86, p=0.012) label(namevar=id) ///
>         forestplot(xlabel(0.25 0.5 1 2 4, force) null(1) aspect(1.2) scheme(economist)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , effect(`"Effect"') xlabel(0.25 0.5 1 2 4, force) null(1) aspect(1.2) scheme(economist) note(NOTE: Weights are based on user-defined quantities)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}1.241715602611828
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2.876204957009816
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}29.96046830218559
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}16.66046850881503
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}1.2

{txt}macros:
              r(range) : "{res}.25 4{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    1.251062    .5230929   .5733145   2.651316
{txt}{space 7}_seES {c |}{res}         20    .5337728    .3190152   .1252742   1.152314
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21     .629769    .2511562   .1889457   1.234203
{txt}{space 8}_UCI {c |}{res}         21     2.63877     1.38194   .8692123   5.695558
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.85919   2.089766        100
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16:
. /*
> // Need to transform the OR and CI limits to make them symmetrical
> // (see previous example)
> gen lnOR = ln(OR)
> gen lnORlci = ln(ORlci)
> gen lnORuci = ln(ORuci)
> meta set lnOR lnORlci lnORuci, studylab(id)
> meta summ, eform(Odds ratio)
> meta forest, eform(Odds ratio) customoverall(`=ln(.924)' `=ln(.753)' `=ln(1.095)', label("Bayesian, param V=3.86 p=0.012")) 
> graph save "$Graphs/graph25_meta16.gph"
> // N.B. Cannot use user-specified weights with meta
> */
. 
. 
. * Example 7
. // Variable "counts" defined showing raw data.
. // Options to change the box, effect estimate marker and confidence interval used,
. // and the counts variable has been attached to the estimate marker as a label.
. gen counts = ". " + string(tdeath) + "/" + string(tdeath+tnodeath) + ", " + string(cdeath) + "/" + string(cdeath+cnodeath)
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:41
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tdeath tnodeath cdeath cnodeath, lcols(id year) notable ///
>                 boxopt( mcolor(forest_green) msymbol(triangle) ) ///
>                 pointopt( msymbol(triangle) mcolor(gold) msize(tiny) mlabel(counts) mlabsize(vsmall) mlabcolor(forest_green) mlabposition(1) ) ///
>                 ciopt( lcolor(sienna) lwidth(medium) )
{res}{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.4864029666254636
               {txt}r(tger) =  {res}.5012391573729864
               {txt}r(tau2) =  {res}.
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}.0339481056928728
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}31.67988375102567
               {txt}r(i_sq) =  {res}40.02503244859648
                {txt}r(p_z) =  {res}.4176296360714926
                  {txt}r(z) =  {res}.810540433680552
             {txt}r(ci_upp) =  {res}1.103567466120517
             {txt}r(ci_low) =  {res}.9599390265317218
            {txt}r(selogES) =  {res}.0355704479312609
                 {txt}r(ES) =  {res}1.029250931085228

{txt}macros:
            r(measure) : "{res}RR{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}1.029250931085228
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0355704479312609
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.9599390265317218
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}1.103567466120517
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}.810540433680552
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.4176296360714926
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}31.67988375102567
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0339481056928728
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.5012391573729864
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.4864029666254636
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}40.02503244859648
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:42
{txt}{.-}

{com}. graph save "$Graphs/graph26_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph26_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:42
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan tdeath tnodeath cdeath cnodeath, lcols(id year) notable ///
>                 boxopt( mcolor(forest_green) msymbol(triangle) ) ///
>                 pointopt( msymbol(triangle) mcolor(gold) msize(tiny) mlabel(counts) mlabsize(vsmall) mlabcolor(forest_green) mlabposition(1) ) ///
>                 ciopt( lcolor(sienna) lwidth(medium) )

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Mantel-Haenszel Q{col 22}{c |}{col 26}{res}  31.68{col 39} 19{col 46}  0.034
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.291{col 36}  1.000{col 46}  1.661
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   40.0%{col 35}    0.0%{col 45}   63.8%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}
{error}Note: with {bf:metan} version 4 and above, the preferred syntax is for options such as {bf:boxopt( mcolor(forest_green) msymbol(triangle) )}
{error} to be supplied as sub-options to the {bf:forestplot()} option; see {help metan:help metan}
{txt}
{com}. return list, all

{txt}scalars:
                 r(RR) =  {res}1.029250931085228
               {txt}r(HsqM) =  {res}.667362302685562
                  {txt}r(H) =  {res}1.291263839300691
                {txt}r(Isq) =  {res}40.0250324485965
                  {txt}r(Q) =  {res}31.67988375102568
              {txt}r(Q_lci) =  {res}15.79051265361079
              {txt}r(Q_uci) =  {res}52.44236070607165
             {txt}r(se_eff) =  {res}.0355704479312609
                {txt}r(eff) =  {res}.0288312862924157
                  {txt}r(n) =  {res}3232
                  {txt}r(k) =  {res}20
               {txt}r(cger) =  {res}.4864029666254636
               {txt}r(tger) =  {res}.5012391573729864
                  {txt}r(m) =  {res}1

{txt}macros:
            r(measure) : "{res}RR{txt}"
          r(modelopts) : "{res}cc(.5, mhuncorr){txt}"
              r(model) : "{res}mh{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 8 x 1

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
              r(p_het) =  {res}.0339481056928726
                 {txt}r(df) =  {res}19
                {txt}r(het) =  {res}31.67988375102568
               {txt}r(i_sq) =  {res}40.0250324485965
                {txt}r(p_z) =  {res}.4176296360714923
                  {txt}r(z) =  {res}.8105404336805524
             {txt}r(ci_upp) =  {res}1.103567466120517
             {txt}r(ci_low) =  {res}.9599390265317219
            {txt}r(selogES) =  {res}.0355704479312609
                 {txt}r(ES) =  {res}1.029250931085228
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}1.029250931085228
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0355704479312609
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.9599390265317219
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}1.103567466120517
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}.8105404336805524
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.4176296360714923
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}31.67988375102568
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}19
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}.0339481056928726
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
global macro $S_12 not found
{txt}{p 0 16}
S_13:{space 11}{res}{res}.5012391573729864
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.4864029666254636
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}40.0250324485965
{p_end}
{txt}
{com}. graph save "$Graphs/graph26_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph26_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan tdeath tnodeath cdeath cnodeath, lcols(id year counts) notable ///
>                 forestplot( boxopt( mcolor(forest_green) msymbol(triangle) ) ///
>                 pointopt( msymbol(triangle) mcolor(gold) msize(tiny) mlabel(counts) mlabsize(vsmall) mlabcolor(forest_green) mlabposition(1) ) ///
>                 ciopt( lcolor(sienna) lwidth(medium) ) ) nograph clear
{txt}
{com}.         forestplot, useopts lcols(year)
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(year counts) boxopt( mcolor(forest_green) msymbol(triangle) ) pointopt( msymbol(triangle) mcolor(gold) msize(tiny) mlabel(counts) mlabsize(vsmall) mlabcolor(forest_green) mlabposition(1) ) ciopt( lcolor(sienna) lwidth(medium) ) note(NOTE: Weights are from Mantel-Haenszel model) lcols(year)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}1.785714285714286
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}26.54166626930237
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}13.24166647593181
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.941915241731246

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 8}year {c |}{res}         20      1998.2    5.881282       1984       2005
{txt}{space 6}counts {c |}{res}          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:44
{txt}{.-}

{com}. 
. // Note: new version does not automatically present a p-value for heterogeneity on the forest plot
. // to avoid confusion with significance test of overall effect.
. // Hence, to *exactly* recreate the example, we need to add the option "hetinfo(isq p)"
. metan  tdeath tnodeath cdeath cnodeath, lcols(id year) notable hetinfo(isq p) ///
>         forestplot( ///
>                 boxopt( mcolor(forest_green) msymbol(triangle) ) ///
>                 pointopt( msymbol(triangle) mcolor(gold) msize(tiny) mlabel(counts) mlabsize(vsmall) mlabcolor(forest_green) mlabposition(1) ) ///
>                 ciopt( lcolor(sienna) lwidth(medium) ) ///
>         )

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}Mantel-Haenszel{txt} method

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.811{txt}  p = {res}0.418


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Mantel-Haenszel Q{col 22}{c |}{col 26}{res}  31.68{col 39} 19{col 46}  0.034
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.291{col 36}  1.000{col 46}  1.661
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   40.0%{col 35}    0.0%{col 45}   63.8%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Mantel-Haenszel Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. graph save "$Graphs/graph26_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph26_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan tdeath tnodeath cdeath cnodeath, lcols(id year counts) notable hetinfo(isq p) ///
>                 forestplot( boxopt( mcolor(forest_green) msymbol(triangle) ) ///
>                 pointopt( msymbol(triangle) mcolor(gold) msize(tiny) mlabel(counts) mlabsize(vsmall) mlabcolor(forest_green) mlabposition(1) ) ///
>                 ciopt( lcolor(sienna) lwidth(medium) ) ) nograph clear
{txt}
{com}.         forestplot, useopts lcols(year)
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(year counts) boxopt( mcolor(forest_green) msymbol(triangle) ) pointopt( msymbol(triangle) mcolor(gold) msize(tiny) mlabel(counts) mlabsize(vsmall) mlabcolor(forest_green) mlabposition(1) ) ciopt( lcolor(sienna) lwidth(medium) ) note(NOTE: Weights are from Mantel-Haenszel model) lcols(year)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}1.785714285714286
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}26.54166626930237
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}13.24166647593181
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.941915241731246

{txt}macros:
              r(range) : "{res}-.8668948031687001 .8668948031687001{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0752595    .1974799  -.2843872    .432398
{txt}{space 7}_seES {c |}{res}         21    .1792425    .0772145   .0355704   .4014625
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.2760493    .2235195  -.8668948   .0824223
{txt}{space 8}_UCI {c |}{res}         21    .4265683    .2717384  -.0696019   .8253466
{txt}{space 9}_WT {c |}{res}         21     9.52381    20.94898   .8571469        100
{txt}{space 9}_NN {c |}{res}         21    307.8095    675.3644         27       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 8}year {c |}{res}         20      1998.2    5.881282       1984       2005
{txt}{space 6}counts {c |}{res}          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16
. /*
> meta esize tdeath tnodeath cdeath cnodeath, studylab(id)
> meta forestplot _id year _plot _esci _weight, ///
>         markeropts( mcolor(forest_green) msymbol(triangle) ) ///
>         insidemarker( msymbol(triangle) mcolor(gold) msize(tiny) ) ///
>         ciopts( lcolor(sienna) lwidth(medium) ) ///
>         omarkeropts( mcolor(blue) )
> graph save "$Graphs/graph26_meta16.gph"
> // Cannot use "mlabel" options within markeropts()
> */
. 
. 
. 
. *******************************************************************
. * Part 3. Recreate examples from Harris et al, Stata Journal 2008 *
. *******************************************************************
. 
. use "$Datasets/bcgtrial", clear
{txt}
{com}. 
. 
. * 4.2 Display options
. * (and Figure 1)
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:47
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tcases tnoncases ccases cnoncases, rr fixedi lcols(trialnam startyr) ///
>         xlabel(0.1, 10) favours(BCG reduces risk of TB # BCG increases risk of TB)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
Canada{col 22}|{res}  0.205{col 35}  0.086     0.486{col 60}  1.11
{txt}Northern USA{col 22}|{res}  0.411{col 35}  0.134     1.257{col 60}  0.66
{txt}Chicago{col 22}|{res}  0.254{col 35}  0.149     0.431{col 60}  2.96
{txt}Georgia (Sch){col 22}|{res}  1.562{col 35}  0.374     6.528{col 60}  0.41
{txt}Puerto Rico{col 22}|{res}  0.712{col 35}  0.573     0.886{col 60} 17.42
{txt}Georgia (Comm){col 22}|{res}  0.983{col 35}  0.582     1.659{col 60}  3.03
{txt}Madanapalle{col 22}|{res}  0.804{col 35}  0.516     1.254{col 60}  4.22
{txt}UK{col 22}|{res}  0.237{col 35}  0.179     0.312{col 60} 10.81
{txt}South Africa{col 22}|{res}  0.625{col 35}  0.393     0.996{col 60}  3.83
{txt}Haiti{col 22}|{res}  0.198{col 35}  0.078     0.499{col 60}  0.97
{txt}Madras{col 22}|{res}  1.012{col 35}  0.895     1.145{col 60} 54.58
{txt}---------------------+---------------------------------------------------
I-V pooled RR{col 22}|{res}  0.730{col 35}  0.667     0.800{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res}125.63{txt} (d.f. = {res}10{txt}) p = {res}0.000
{txt}  I-squared (variation in RR attributable to heterogeneity) ={res}  92.0%

{txt}  Test of RR=1 : z= {res}  6.75{txt} p = {res}0.000
{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
               {txt}r(tau2) =  {res}0
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}3.63680500340e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260939463973
               {txt}r(i_sq) =  {res}92.03987031208115
                {txt}r(p_z) =  {res}1.43137757488e-11
                  {txt}r(z) =  {res}6.754693259492612
             {txt}r(ci_upp) =  {res}.8001513891449954
             {txt}r(ci_low) =  {res}.6668230834880141
            {txt}r(selogES) =  {res}.0464998793468118
                 {txt}r(ES) =  {res}.7304515155483516

{txt}macros:
            r(measure) : "{res}RR{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515155483516
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998793468118
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230834880141
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001513891449954
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.754693259492612
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43137757488e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260939463973
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680500340e-22
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}0
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987031208115
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:48
{txt}{.-}

{com}. graph save "$Graphs/graph27_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph27_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:48
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tcases tnoncases ccases cnoncases, rr fixedi lcols(trialnam startyr) ///
>         xlabel(0.1, 10) favours(BCG reduces risk of TB # BCG increases risk of TB)

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}common-effect inverse-variance{txt} model

{hline 21}{c TT}{hline 46}
{col 22}{c |}    Risk               
Trial name{col 22}{c |}    ratio   {col 36}[95% Conf. Interval]{col 59}% Weight
{hline 21}{c +}{hline 46}
Canada{res}{txt}{col 22}{c |}{col 26}{res}  0.205{col 37}  0.086{col 47}  0.486{col 58}   1.11
{txt}Northern USA{res}{txt}{col 22}{c |}{col 26}{res}  0.411{col 37}  0.134{col 47}  1.257{col 58}   0.66
{txt}Chicago{res}{txt}{col 22}{c |}{col 26}{res}  0.254{col 37}  0.149{col 47}  0.431{col 58}   2.96
{txt}Georgia (Sch){res}{txt}{col 22}{c |}{col 26}{res}  1.562{col 37}  0.374{col 47}  6.528{col 58}   0.41
{txt}Puerto Rico{res}{txt}{col 22}{c |}{col 26}{res}  0.712{col 37}  0.573{col 47}  0.886{col 58}  17.42
{txt}Georgia (Comm){res}{txt}{col 22}{c |}{col 26}{res}  0.983{col 37}  0.582{col 47}  1.659{col 58}   3.03
{txt}Madanapalle{res}{txt}{col 22}{c |}{col 26}{res}  0.804{col 37}  0.516{col 47}  1.254{col 58}   4.22
{txt}UK{res}{txt}{col 22}{c |}{col 26}{res}  0.237{col 37}  0.179{col 47}  0.312{col 58}  10.81
{txt}South Africa{res}{txt}{col 22}{c |}{col 26}{res}  0.625{col 37}  0.393{col 47}  0.996{col 58}   3.83
{txt}Haiti{res}{txt}{col 22}{c |}{col 26}{res}  0.198{col 37}  0.078{col 47}  0.499{col 58}   0.97
{txt}Madras{res}{txt}{col 22}{c |}{col 26}{res}  1.012{col 37}  0.895{col 47}  1.145{col 58}  54.58
{txt}{hline 21}{c +}{hline 46}
Overall, IV{col 22}{c |}{col 26}{res}  0.730{col 37}  0.667{col 47}  0.800{col 58} 100.00
{txt}{hline 21}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} -6.755{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  2.923{col 46}  4.140
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   88.3%{col 45}   94.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.1 1 10)}; see {help numlist:help numlist}
{res}{txt}
{com}. return list, all

{txt}scalars:
               r(HsqM) =  {res}11.56260926198814
                  {txt}r(H) =  {res}3.544377133148805
                {txt}r(Isq) =  {res}92.03987022802824
                  {txt}r(Q) =  {res}125.6260926198814
              {txt}r(Q_lci) =  {res}85.46542745340175
              {txt}r(Q_uci) =  {res}171.3981715333364
             {txt}r(se_eff) =  {res}.0464998789949045
                {txt}r(eff) =  {res}-.3140924056720667
                  {txt}r(n) =  {res}353904
                  {txt}r(k) =  {res}11
               {txt}r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
                  {txt}r(m) =  {res}1

{txt}macros:
            r(measure) : "{res}RR{txt}"
          r(modelopts) : "{res}cc(.5, ){txt}"
              r(model) : "{res}iv{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 8 x 1

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.3818396743093435
              {txt}r(p_het) =  {res}3.63680726446e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260926198814
               {txt}r(i_sq) =  {res}92.03987022802824
                {txt}r(p_z) =  {res}1.43138044988e-11
                  {txt}r(z) =  {res}-6.75469296826525
             {txt}r(ci_upp) =  {res}.8001514013307708
             {txt}r(ci_low) =  {res}.6668230945631376
            {txt}r(selogES) =  {res}.0464998789949045
                 {txt}r(ES) =  {res}.7304515271764552
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515271764552
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998789949045
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230945631376
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001514013307708
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.75469296826525
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43138044988e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260926198814
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680726446e-22
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3818396743093435
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987022802824
{p_end}
{txt}
{com}. graph save "$Graphs/graph27_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph27_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr fixedi lcols(trialnam startyr) ///
>                 forestplot(xlabel(0.1, 10) favours(BCG reduces risk of TB # BCG increases risk of TB)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(startyr) xlabel(0.1, 10) favours(BCG reduces risk of TB # BCG increases risk of TB)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.1 1 10)}; see {help numlist:help numlist}
{res}{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}15
           {txt}r(textsize) =  {res}2.231769920247883
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}17
                {txt}r(cdw) =  {res}27.56249976158142
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}14.26249996821086
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.6167800506866875

{txt}macros:
              r(range) : "{res}-2.546485373927 2.302585092994{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         12    1.333333    1.154701          1          5
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         12   -.6506966     .706477  -1.620898   .4459134
{txt}{space 7}_seES {c |}{res}         12    .2981085    .2131762   .0464999     .72973
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         12   -1.234978     .844457  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         12   -.0664147    .7964013  -1.164301   1.876158
{txt}{space 9}_WT {c |}{res}         12    16.66667    30.33019   .4060498        100
{txt}{space 9}_NN {c |}{res}         12       58984    105796.3        262     353904
{txt}{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:50
{txt}{.-}

{com}. 
. // Note: new version does not automatically present a p-value for heterogeneity on the forest plot
. // to avoid confusion with significance test of overall effect
. // Hence, to *exactly* recreate the example, we need to add the option "hetinfo(isq p)"
. metan  tcases tnoncases ccases cnoncases, rr fixedi lcols(trialnam startyr) hetinfo(isq p) ///
>         forestplot(xlabel(0.1 10) favours(BCG reduces risk of TB # BCG increases risk of TB))

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}common-effect inverse-variance{txt} model

{hline 21}{c TT}{hline 46}
{col 22}{c |}    Risk               
Trial name{col 22}{c |}    ratio   {col 36}[95% Conf. Interval]{col 59}% Weight
{hline 21}{c +}{hline 46}
Canada{res}{txt}{col 22}{c |}{col 26}{res}  0.205{col 37}  0.086{col 47}  0.486{col 58}   1.11
{txt}Northern USA{res}{txt}{col 22}{c |}{col 26}{res}  0.411{col 37}  0.134{col 47}  1.257{col 58}   0.66
{txt}Chicago{res}{txt}{col 22}{c |}{col 26}{res}  0.254{col 37}  0.149{col 47}  0.431{col 58}   2.96
{txt}Georgia (Sch){res}{txt}{col 22}{c |}{col 26}{res}  1.562{col 37}  0.374{col 47}  6.528{col 58}   0.41
{txt}Puerto Rico{res}{txt}{col 22}{c |}{col 26}{res}  0.712{col 37}  0.573{col 47}  0.886{col 58}  17.42
{txt}Georgia (Comm){res}{txt}{col 22}{c |}{col 26}{res}  0.983{col 37}  0.582{col 47}  1.659{col 58}   3.03
{txt}Madanapalle{res}{txt}{col 22}{c |}{col 26}{res}  0.804{col 37}  0.516{col 47}  1.254{col 58}   4.22
{txt}UK{res}{txt}{col 22}{c |}{col 26}{res}  0.237{col 37}  0.179{col 47}  0.312{col 58}  10.81
{txt}South Africa{res}{txt}{col 22}{c |}{col 26}{res}  0.625{col 37}  0.393{col 47}  0.996{col 58}   3.83
{txt}Haiti{res}{txt}{col 22}{c |}{col 26}{res}  0.198{col 37}  0.078{col 47}  0.499{col 58}   0.97
{txt}Madras{res}{txt}{col 22}{c |}{col 26}{res}  1.012{col 37}  0.895{col 47}  1.145{col 58}  54.58
{txt}{hline 21}{c +}{hline 46}
Overall, IV{col 22}{c |}{col 26}{res}  0.730{col 37}  0.667{col 47}  0.800{col 58} 100.00
{txt}{hline 21}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} -6.755{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  2.923{col 46}  4.140
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   88.3%{col 45}   94.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. graph save "$Graphs/graph27_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph27_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr fixedi lcols(trialnam startyr) hetinfo(isq p) ///
>                 forestplot(xlabel(0.1, 10) favours(BCG reduces risk of TB # BCG increases risk of TB)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(startyr) xlabel(0.1, 10) favours(BCG reduces risk of TB # BCG increases risk of TB)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.1 1 10)}; see {help numlist:help numlist}
{res}{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}15
           {txt}r(textsize) =  {res}2.231769920247883
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}17
                {txt}r(cdw) =  {res}27.56249976158142
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}14.26249996821086
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.6167800506866875

{txt}macros:
              r(range) : "{res}-2.546485373927 2.302585092994{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         12    1.333333    1.154701          1          5
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         12   -.6506966     .706477  -1.620898   .4459134
{txt}{space 7}_seES {c |}{res}         12    .2981085    .2131762   .0464999     .72973
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         12   -1.234978     .844457  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         12   -.0664147    .7964013  -1.164301   1.876158
{txt}{space 9}_WT {c |}{res}         12    16.66667    30.33019   .4060498        100
{txt}{space 9}_NN {c |}{res}         12       58984    105796.3        262     353904
{txt}{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16
. /*
> meta esize tcases tnoncases ccases cnoncases, esize(lnrr) studylab(trialnam) fixed(iv)
> meta summ, eform(Risk ratio)
> meta forestplot _id startyr _plot _esci _weight, eform(Risk ratio) ///
>         nullrefline(favorsleft(BCG reduces risk of TB) favorsright(BCG increases risk of TB))
> graph save "$Graphs/graph27_meta16.gph"
> */
. 
. 
. * 4.3 Precalculated effect estimates
. gen logRR = ln( (tcases/ttotal) / (ccases/ctotal) )
{txt}
{com}. gen selogRR = sqrt( 1/tcases +1/ccases -1/ttotal -1/ctotal )
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:52
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 logRR selogRR, fixed eform nograph

{txt}{col 12}Study{col 22}|{col 24}{col 28}ES{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
1{col 22}|{res}  0.205{col 35}  0.086     0.486{col 60}  1.11
{txt}2{col 22}|{res}  0.411{col 35}  0.134     1.257{col 60}  0.66
{txt}3{col 22}|{res}  0.254{col 35}  0.149     0.431{col 60}  2.96
{txt}4{col 22}|{res}  1.562{col 35}  0.374     6.528{col 60}  0.41
{txt}5{col 22}|{res}  0.712{col 35}  0.573     0.886{col 60} 17.42
{txt}6{col 22}|{res}  0.983{col 35}  0.582     1.659{col 60}  3.03
{txt}7{col 22}|{res}  0.804{col 35}  0.516     1.254{col 60}  4.22
{txt}8{col 22}|{res}  0.237{col 35}  0.179     0.312{col 60} 10.81
{txt}9{col 22}|{res}  0.625{col 35}  0.393     0.996{col 60}  3.83
{txt}10{col 22}|{res}  0.198{col 35}  0.078     0.499{col 60}  0.97
{txt}11{col 22}|{res}  1.012{col 35}  0.895     1.145{col 60} 54.58
{txt}---------------------+---------------------------------------------------
I-V pooled ES{col 22}|{res}  0.730{col 35}  0.667     0.800{col 60}100.00
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi-squared = {res}125.63{txt} (d.f. = {res}10{txt}) p = {res}0.000
{txt}  I-squared (variation in ES attributable to heterogeneity) ={res}  92.0%

{txt}  Test of ES=1 : z= {res}  6.75{txt} p = {res}0.000
{txt}
{com}. return list

{txt}scalars:
               r(tau2) =  {res}0
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}3.63678927503e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6261031739414
               {txt}r(i_sq) =  {res}92.03987089677212
                {txt}r(p_z) =  {res}1.43137696829e-11
                  {txt}r(z) =  {res}6.754693320937984
             {txt}r(ci_upp) =  {res}.8001513934344383
             {txt}r(ci_low) =  {res}.6668230915428389
            {txt}r(selogES) =  {res}.0464998776328482
                 {txt}r(ES) =  {res}.730451521917959

{txt}macros:
            r(measure) : "{res}ES{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.730451521917959
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998776328482
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230915428389
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001513934344383
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.754693320937984
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43137696829e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6261031739414
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63678927503e-22
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}0
{p_end}
{err}global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987089677212
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:52
{txt}{.-}

{com}. // graph save "$Graphs/graph28_metan9"
. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:52
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  logRR selogRR, fixed eform nograph

{txt}Studies included: {res}11
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

{hline 21}{c TT}{hline 46}
Study{col 22}{c |}   exp(b)   {col 36}[95% Conf. Interval]{col 59}% Weight
{hline 21}{c +}{hline 46}
1{res}{txt}{col 22}{c |}{col 26}{res}  0.205{col 37}  0.086{col 47}  0.486{col 58}   1.11
{txt}2{res}{txt}{col 22}{c |}{col 26}{res}  0.411{col 37}  0.134{col 47}  1.257{col 58}   0.66
{txt}3{res}{txt}{col 22}{c |}{col 26}{res}  0.254{col 37}  0.149{col 47}  0.431{col 58}   2.96
{txt}4{res}{txt}{col 22}{c |}{col 26}{res}  1.562{col 37}  0.374{col 47}  6.528{col 58}   0.41
{txt}5{res}{txt}{col 22}{c |}{col 26}{res}  0.712{col 37}  0.573{col 47}  0.886{col 58}  17.42
{txt}6{res}{txt}{col 22}{c |}{col 26}{res}  0.983{col 37}  0.582{col 47}  1.659{col 58}   3.03
{txt}7{res}{txt}{col 22}{c |}{col 26}{res}  0.804{col 37}  0.516{col 47}  1.254{col 58}   4.22
{txt}8{res}{txt}{col 22}{c |}{col 26}{res}  0.237{col 37}  0.179{col 47}  0.312{col 58}  10.81
{txt}9{res}{txt}{col 22}{c |}{col 26}{res}  0.625{col 37}  0.393{col 47}  0.996{col 58}   3.83
{txt}10{res}{txt}{col 22}{c |}{col 26}{res}  0.198{col 37}  0.078{col 47}  0.499{col 58}   0.97
{txt}11{res}{txt}{col 22}{c |}{col 26}{res}  1.012{col 37}  0.895{col 47}  1.145{col 58}  54.58
{txt}{hline 21}{c +}{hline 46}
Overall, IV{col 22}{c |}{col 26}{res}  0.730{col 37}  0.667{col 47}  0.800{col 58} 100.00
{txt}{hline 21}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} -6.755{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  2.923{col 46}  4.140
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   88.3%{col 45}   94.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

{com}. return list, all

{txt}scalars:
               r(HsqM) =  {res}11.56261032562406
                  {txt}r(H) =  {res}3.544377283194335
                {txt}r(Isq) =  {res}92.03987090198689
                  {txt}r(Q) =  {res}125.6261032562406
              {txt}r(Q_lci) =  {res}85.46543619131582
              {txt}r(Q_uci) =  {res}171.3981840745186
             {txt}r(se_eff) =  {res}.0464998775290205
                {txt}r(eff) =  {res}-.3140924000714638
                  {txt}r(n) =  {res}.
                  {txt}r(k) =  {res}11
                  {txt}r(m) =  {res}1

{txt}macros:
              r(model) : "{res}iv{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 7 x 1

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.3818396995587898
              {txt}r(p_het) =  {res}3.63678913476e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6261032562406
               {txt}r(i_sq) =  {res}92.03987090198689
                {txt}r(p_z) =  {res}1.43137953677e-11
                  {txt}r(z) =  {res}-6.754693060759987
             {txt}r(ci_upp) =  {res}.8001514035132021
             {txt}r(ci_low) =  {res}.6668231002135852
            {txt}r(selogES) =  {res}.0464998775290205
                 {txt}r(ES) =  {res}.7304515312674241
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515312674241
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998775290205
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668231002135852
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001514035132021
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.754693060759987
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43137953677e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6261032562406
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63678913476e-22
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3818396995587898
{p_end}
{err}global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987090198689
{p_end}
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:52
{txt}{.-}

{com}. // graph save "$Graphs/graph28_metan"
. 
. // Stata 16
. /*
> meta set logRR selogRR, fixed
> meta summ, eform
> */
. 
. 
. * 4.4 Specifying two analyses
. * (and Figure 2)
. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:52
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tcases tnoncases ccases cnoncases, rr fixedi second(random) lcols(trialnam authors startyr alloc latitude) counts notable ///
>         astext(70) textsize(200) boxsca(80) xlabel(0.1,10) xsize(10) ysize(6)
{res}{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
               {txt}r(tau2) =  {res}0
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}3.63680500340e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260939463973
               {txt}r(i_sq) =  {res}92.03987031208115
                {txt}r(p_z) =  {res}1.43137757488e-11
                  {txt}r(z) =  {res}6.754693259492612
           {txt}r(ci_upp_2) =  {res}.7688989138156812
           {txt}r(ci_low_2) =  {res}.335550438380247
             {txt}r(ci_upp) =  {res}.8001513891449954
             {txt}r(ci_low) =  {res}.6668230834880141
          {txt}r(selogES_2) =  {res}.2115312405927821
            {txt}r(selogES) =  {res}.0464998793468118
               {txt}r(ES_2) =  {res}.5079413033028005
                 {txt}r(ES) =  {res}.7304515155483516

{txt}macros:
            r(measure) : "{res}RR{txt}"
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515155483516
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998793468118
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230834880141
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001513891449954
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.754693259492612
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43137757488e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260939463973
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680500340e-22
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}0
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987031208115
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:53
{txt}{.-}

{com}. graph save "$Graphs/graph29_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph29_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:53
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) lcols(trialnam authors startyr alloc latitude) counts notable ///
>         astext(70) textsize(200) boxsca(80) xlabel(0.1,10) xsize(10) ysize(6)

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using {res}multiple analysis methods

{txt}Tests of overall effect = {res}1{txt}:
  IV{res}{col 20}z{txt} = {res} -6.755{txt}{col 33}p = {res}0.000
{txt}  DL{res}{col 20}z{txt} = {res} -3.213{txt}{col 33}p = {res}0.001


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  2.923{col 46}  4.140
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   88.3%{col 45}   94.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.3818
{txt}{hline 21}{c BT}{hline 13}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.1 1 10)}; see {help numlist:help numlist}
{res}{txt}
{com}. return list, all

{txt}scalars:
               r(HsqM) =  {res}11.56260926198814
                  {txt}r(H) =  {res}3.544377133148805
                {txt}r(Isq) =  {res}92.03987022802824
                  {txt}r(Q) =  {res}125.6260926198814
              {txt}r(Q_lci) =  {res}85.46542745340175
              {txt}r(Q_uci) =  {res}171.3981715333364
             {txt}r(se_eff) =  {res}.0464998789949045
                {txt}r(eff) =  {res}-.3140924056720667
                  {txt}r(n) =  {res}353904
                  {txt}r(k) =  {res}11
               {txt}r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
                  {txt}r(m) =  {res}2

{txt}macros:
            r(measure) : "{res}RR{txt}"
         r(model2opts) : "{res}cc(.5, ){txt}"
         r(model1opts) : "{res}cc(.5, ){txt}"
              r(model) : "{res}iv dl{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 9 x 2

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.3818396743093435
              {txt}r(p_het) =  {res}3.63680726446e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260926198814
               {txt}r(i_sq) =  {res}92.03987022802824
                {txt}r(p_z) =  {res}1.43138044988e-11
                  {txt}r(z) =  {res}-6.75469296826525
           {txt}r(ci_upp_2) =  {res}.7678887255039913
           {txt}r(ci_low_2) =  {res}.3360964317006239
          {txt}r(selogES_2) =  {res}.2107810966438946
               {txt}r(ES_2) =  {res}.5080203348144947
             {txt}r(ci_upp) =  {res}.8001514013307708
             {txt}r(ci_low) =  {res}.6668230945631376
            {txt}r(selogES) =  {res}.0464998789949045
                 {txt}r(ES) =  {res}.7304515271764552

{txt}macros:
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515271764552
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998789949045
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230945631376
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001514013307708
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.75469296826525
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43138044988e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260926198814
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680726446e-22
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3818396743093435
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987022802824
{p_end}
{txt}
{com}. graph save "$Graphs/graph29_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph29_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) lcols(trialnam authors startyr alloc latitude) counts notable ///
>                 forestplot(astext(70) textsize(200) boxsca(80) xlabel(0.1,10) xsize(10) ysize(6)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(authors startyr alloc latitude _counts1 _counts0) nolcolscheck astext(70) textsize(200) xlabel(0.1,10) xsize(10) ysize(6) boxscale(80)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.1 1 10)}; see {help numlist:help numlist}
{res}{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}17
           {txt}r(textsize) =  {res}3.278122834440422
              {txt}r(xsize) =  {res}10
              {txt}r(ysize) =  {res}6
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}19
                {txt}r(cdw) =  {res}27.60000007493155
                {txt}r(rdw) =  {res}14.81666644414266
                {txt}r(ldw) =  {res}49.58333373069763
             {txt}r(astext) =  {res}70
             {txt}r(aspect) =  {res}.4130434771394931

{txt}macros:
              r(range) : "{res}-2.546485373927 2.302585092994{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         14    1.785714     1.57766          1          5
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         13   -.6527379    .6764402  -1.620898   .4459134
{txt}{space 7}_seES {c |}{res}         13     .291391    .2055327   .0464999     .72973
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         13   -1.223854    .8095003  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         13    -.081622    .7644651  -1.164301   1.876158
{txt}{space 9}_WT {c |}{res}         12    16.66667    30.33019   .4060498        100
{txt}{space 9}_NN {c |}{res}         12       58984    105796.3        262     353904
{txt}{space 4}_counts1 {c |}{res}          0
{txt}{hline 13}{c +}{hline 57}
{space 4}_counts0 {c |}{res}          0
{txt}{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{space 5}authors {c |}{res}          0
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 7}alloc {c |}{res}         11    .4545455     .522233          0          1
{txt}{hline 13}{c +}{hline 57}
{space 4}latitude {c |}{res}         11    32.45455    16.15155         13         55
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:56
{txt}{.-}

{com}. 
. // Note that automatic sizing of text and graph dimensions is better in the new version,
. // so options such as textsize(), boxsca(), xlabel(), xsize() and ysize() may not be necessary
. metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) lcols(trialnam authors startyr alloc latitude) counts notable ///
>         forestplot(astext(70))

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using {res}multiple analysis methods

{txt}Tests of overall effect = {res}1{txt}:
  IV{res}{col 20}z{txt} = {res} -6.755{txt}{col 33}p = {res}0.000
{txt}  DL{res}{col 20}z{txt} = {res} -3.213{txt}{col 33}p = {res}0.001


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  2.923{col 46}  4.140
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   88.3%{col 45}   94.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.3818
{txt}{hline 21}{c BT}{hline 13}
{res}{txt}
{com}. graph save "$Graphs/graph29_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph29_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) lcols(trialnam authors startyr alloc latitude) counts notable ///
>                 forestplot(astext(70)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(authors startyr alloc latitude _counts1 _counts0) nolcolscheck astext(70)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}17
           {txt}r(textsize) =  {res}1.352225669206674
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}19
                {txt}r(cdw) =  {res}27.60000007493155
                {txt}r(rdw) =  {res}14.81666644414266
                {txt}r(ldw) =  {res}49.58333373069763
             {txt}r(astext) =  {res}70
             {txt}r(aspect) =  {res}.4130434771394931

{txt}macros:
              r(range) : "{res}-2.77258872224 2.77258872224{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         14    1.785714     1.57766          1          5
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         13   -.6527379    .6764402  -1.620898   .4459134
{txt}{space 7}_seES {c |}{res}         13     .291391    .2055327   .0464999     .72973
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         13   -1.223854    .8095003  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         13    -.081622    .7644651  -1.164301   1.876158
{txt}{space 9}_WT {c |}{res}         12    16.66667    30.33019   .4060498        100
{txt}{space 9}_NN {c |}{res}         12       58984    105796.3        262     353904
{txt}{space 4}_counts1 {c |}{res}          0
{txt}{hline 13}{c +}{hline 57}
{space 4}_counts0 {c |}{res}          0
{txt}{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{space 5}authors {c |}{res}          0
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 7}alloc {c |}{res}         11    .4545455     .522233          0          1
{txt}{hline 13}{c +}{hline 57}
{space 4}latitude {c |}{res}         11    32.45455    16.15155         13         55
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16
. /*
> meta esize tcases tnoncases ccases cnoncases, esize(lnrr) studylab(trialnam) fixed(iv)
> meta forest _id authors startyr alloc latitude _plot _data1 _data2 _esci _weight, eform(Risk ratio)
> graph save "$Graphs/graph29_meta16.gph"
> // Cannot specify multiple models (fixed + random) with meta
> */
. 
. 
. * 6.1 Syntax and options for by()
. * (and Figure 3)
. gen lat_cat = ""
{txt}(11 missing values generated)

{com}. replace lat_cat = "Tropical, < 23.5 latitude" if latitude <= 23.5
{txt}variable {bf}lat_cat{sf} was {bf}{res}str1{sf}{txt} now {bf}{res}str25{sf}
{txt}(4 real changes made)

{com}. replace lat_cat = "23.5-40 latitude" if latitude > 23.5 & latitude < 40
{txt}(3 real changes made)

{com}. replace lat_cat = "Northern, > 40 latitude" if latitude >= 40 & latitude < .
{txt}(4 real changes made)

{com}. assert lat_cat != ""
{txt}
{com}. label var lat_cat "Latitude region"
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:58
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tcases tnoncases ccases cnoncases, rr fixedi second(random) nosecsub lcols(trialnam startyr latitude) by(lat_cat) ///
>         astext(60) xlabel(0.1,10) xsize(10) ysize(8)

{txt}{col 12}Study{col 22}|{col 24}{col 28}RR{col 34}[95% Conf. Interval]{col 59}% Weight
---------------------+---------------------------------------------------
{col 6}Northern, > 40 latit
Canada{col 22}|  {res}  0.205{col 35}  0.086     0.486{col 60}  1.11
{txt}Northern USA{col 22}|  {res}  0.411{col 35}  0.134     1.257{col 60}  0.66
{txt}Chicago{col 22}|  {res}  0.254{col 35}  0.149     0.431{col 60}  2.96
{txt}UK{col 22}|  {res}  0.237{col 35}  0.179     0.312{col 60} 10.81
{txt} Sub-total{col 22}|
  I-V pooled RR{col 22}|  {res}  0.243{col 35}  0.193     0.306{col 60} 15.54
{txt}---------------------+---------------------------------------------------
{col 6}23.5-40 latitude
Georgia (Sch){col 22}|  {res}  1.562{col 35}  0.374     6.528{col 60}  0.41
{txt}Georgia (Comm){col 22}|  {res}  0.983{col 35}  0.582     1.659{col 60}  3.03
{txt}South Africa{col 22}|  {res}  0.625{col 35}  0.393     0.996{col 60}  3.83
{txt} Sub-total{col 22}|
  I-V pooled RR{col 22}|  {res}  0.795{col 35}  0.567     1.114{col 60}  7.27
{txt}---------------------+---------------------------------------------------
{col 6}Tropical, < 23.5 lat
Puerto Rico{col 22}|  {res}  0.712{col 35}  0.573     0.886{col 60} 17.42
{txt}Madanapalle{col 22}|  {res}  0.804{col 35}  0.516     1.254{col 60}  4.22
{txt}Haiti{col 22}|  {res}  0.198{col 35}  0.078     0.499{col 60}  0.97
{txt}Madras{col 22}|  {res}  1.012{col 35}  0.895     1.145{col 60} 54.58
{txt} Sub-total{col 22}|
  I-V pooled RR{col 22}|  {res}  0.904{col 35}  0.815     1.003{col 60} 77.19
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  I-V pooled RR{col 22}|  {res}  0.730{col 35}  0.667     0.800{col 60}100.00
{txt}  D+L pooled RR{col 22}|  {res}  0.508{col 35}  0.336     0.769
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom      P    I-squared**
Northern, > 40 latit{res}{col 20}  1.06{col 35} 3{col 43}0.787{col 51}   0.0%
{txt}23.5-40 latitude{res}{col 20}  2.51{col 35} 2{col 43}0.285{col 51}  20.2%
{txt}Tropical, < 23.5 lat{res}{col 20} 18.42{col 35} 3{col 43}0.000{col 51}  83.7%
{txt}Overall{res}{col 20}125.63{col 35}10{col 43}0.000{col 51}  92.0%
{txt}Overall Test for heterogeneity between sub-groups: 
{res}{col 20}103.64{col 35} 2{col 43}0.000

{txt}** I-squared: the variation in RR attributable to heterogeneity)

Considerable heterogeneity observed (up to 83.7%) in one or more sub-groups,
Test for heterogeneity between sub-groups likely to be invalid

Significance test(s) of RR=1

Northern, > 40 latit{col 23}z= {res}12.00{col 35}{txt} p = {res}0.000
{txt}23.5-40 latitude{col 23}z= {res} 1.33{col 35}{txt} p = {res}0.183
{txt}Tropical, < 23.5 lat{col 23}z= {res} 1.90{col 35}{txt} p = {res}0.058
{txt}Overall{col 23}z= {res} 6.75{col 35}{txt} p = {res}0.000
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
               {txt}r(tau2) =  {res}0
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}3.63680503064e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.626091003418
               {txt}r(i_sq) =  {res}92.03987121582031
                {txt}r(p_z) =  {res}1.43137758590e-11
                  {txt}r(z) =  {res}6.754693031311035
           {txt}r(ci_upp_2) =  {res}.7688989138156812
           {txt}r(ci_low_2) =  {res}.335550438380247
             {txt}r(ci_upp) =  {res}.8001514077186585
             {txt}r(ci_low) =  {res}.6668230891227722
          {txt}r(selogES_2) =  {res}.2115312405927821
            {txt}r(selogES) =  {res}.0464998781681061
               {txt}r(ES_2) =  {res}.5079413033028005
                 {txt}r(ES) =  {res}.7304515242576599

{txt}macros:
            r(measure) : "{res}RR{txt}"
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515242576599
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998781681061
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230891227722
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001514077186585
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.754693031311035
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43137758590e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.626091003418
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680503064e-22
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}0
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987121582031
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:51:59
{txt}{.-}

{com}. graph save "$Graphs/graph30_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph30_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:51:59
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) nosecsub lcols(trialnam startyr latitude) by(lat_cat) ///
>         astext(60) xlabel(0.1,10) xsize(10) ysize(8) 

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using {res}multiple analysis methods

{txt}{hline 26}{c TT}{hline 46}
Latitude region{col 27}{c |}    Risk    {col 64}% Weight,
and Trial name{col 27}{c |}    ratio   {col 41}[95% Conf. Interval]{col 67}IV
{hline 26}{c +}{hline 46}
Northern, > 40 latitude{col 27}{c |}
Canada{res}{txt}{col 27}{c |}{col 31}{res}  0.205{col 42}  0.086{col 52}  0.486{col 63}   1.11
{txt}Northern USA{res}{txt}{col 27}{c |}{col 31}{res}  0.411{col 42}  0.134{col 52}  1.257{col 63}   0.66
{txt}Chicago{res}{txt}{col 27}{c |}{col 31}{res}  0.254{col 42}  0.149{col 52}  0.431{col 63}   2.96
{txt}UK{res}{txt}{col 27}{c |}{col 31}{res}  0.237{col 42}  0.179{col 52}  0.312{col 63}  10.81
{txt}{col 27}{c |}
Subgroup, IV{col 27}{c |}{col 31}{res}  0.243{col 42}  0.193{col 52}  0.306{col 63}  15.54
{txt}{hline 26}{c +}{hline 46}
23.5-40 latitude{col 27}{c |}
Georgia (Sch){res}{txt}{col 27}{c |}{col 31}{res}  1.562{col 42}  0.374{col 52}  6.528{col 63}   0.41
{txt}Georgia (Comm){res}{txt}{col 27}{c |}{col 31}{res}  0.983{col 42}  0.582{col 52}  1.659{col 63}   3.03
{txt}South Africa{res}{txt}{col 27}{c |}{col 31}{res}  0.625{col 42}  0.393{col 52}  0.996{col 63}   3.83
{txt}{col 27}{c |}
Subgroup, IV{col 27}{c |}{col 31}{res}  0.795{col 42}  0.567{col 52}  1.114{col 63}   7.27
{txt}{hline 26}{c +}{hline 46}
Tropical, < 23.5 latitude{col 27}{c |}
Puerto Rico{res}{txt}{col 27}{c |}{col 31}{res}  0.712{col 42}  0.573{col 52}  0.886{col 63}  17.42
{txt}Madanapalle{res}{txt}{col 27}{c |}{col 31}{res}  0.804{col 42}  0.516{col 52}  1.254{col 63}   4.22
{txt}Haiti{res}{txt}{col 27}{c |}{col 31}{res}  0.198{col 42}  0.078{col 52}  0.499{col 63}   0.97
{txt}Madras{res}{txt}{col 27}{c |}{col 31}{res}  1.012{col 42}  0.895{col 52}  1.145{col 63}  54.58
{txt}{col 27}{c |}
Subgroup, IV{col 27}{c |}{col 31}{res}  0.904{col 42}  0.815{col 52}  1.003{col 63}  77.19
{txt}{hline 26}{c +}{hline 46}
Overall, IV{col 27}{c |}{col 31}{res}  0.730{col 42}  0.667{col 52}  0.800{col 63} 100.00
{txt}Overall, DL{col 27}{c |}{col 31}{res}  0.508{col 42}  0.336{col 52}  0.768
{txt}{hline 26}{c BT}{hline 46}

Tests of subgroup effect size = {res}1{txt}:
Northern, > 40 latitude
  IV {res}{col 20}z{txt} = {res}-11.995{txt}{col 33}p = {res}0.000
{txt}23.5-40 latitude
  IV {res}{col 20}z{txt} = {res} -1.332{txt}{col 33}p = {res}0.183
{txt}Tropical, < 23.5 latitude
  IV {res}{col 20}z{txt} = {res} -1.897{txt}{col 33}p = {res}0.058

{txt}Tests of overall effect = {res}1{txt}:
  IV{res}{col 20}z{txt} = {res} -6.755{txt}{col 33}p = {res}0.000
{txt}  DL{res}{col 20}z{txt} = {res} -3.213{txt}{col 33}p = {res}0.001


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 26}{c TT}{hline 44}
Measure{col 27}{c |}{col 33}Value{col 44}df{col 52}p-value{col 66}I{c 178}
{hline 26}{c +}{hline 44}
Northern, > 40 latitude{col 27}{c |}{col 31}{res}   1.06{col 44}  3{col 51}  0.787{col 64} 0.0%
{txt}23.5-40 latitude{col 27}{c |}{col 31}{res}   2.51{col 44}  2{col 51}  0.285{col 64}20.2%
{txt}Tropical, < 23.5 latitude{col 27}{c |}{col 31}{res}  18.42{col 44}  3{col 51}  0.000{col 64}83.7%
{txt}Overall{col 27}{c |}{col 31}{res} 125.63{col 44} 10{col 51}  0.000{col 64}92.0%
{txt}Between{col 27}{c |}{col 31}{res} 103.64{col 44}  2{col 51}  0.000
{txt}Between:Within (F){col 27}{c |}{col 31}{res}  18.85{col 40}  2{txt},{res}  8{col 51}  0.001
{txt}{hline 26}{c BT}{hline 44}
Note: Considerable heterogeneity observed (I{c 178} up to {res}83.7%{txt}) in one or more subgroups;
  tests for heterogeneity between subgroups are likely to be invalid

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.1 1 10)}; see {help numlist:help numlist}
{res}{txt}
{com}. return list, all

{txt}scalars:
                r(nby) =  {res}3
                  {txt}r(F) =  {res}18.85382323071681
               {txt}r(Qbet) =  {res}103.6383330486893
               {txt}r(Qsum) =  {res}21.98775957119209
               {txt}r(HsqM) =  {res}11.56260926198814
                  {txt}r(H) =  {res}3.544377133148805
                {txt}r(Isq) =  {res}92.03987022802824
                  {txt}r(Q) =  {res}125.6260926198814
              {txt}r(Q_lci) =  {res}85.46542745340175
              {txt}r(Q_uci) =  {res}171.3981715333364
             {txt}r(se_eff) =  {res}.0464998789949045
                {txt}r(eff) =  {res}-.3140924056720667
                  {txt}r(n) =  {res}353904
                  {txt}r(k) =  {res}11
               {txt}r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
                  {txt}r(m) =  {res}2

{txt}macros:
            r(measure) : "{res}RR{txt}"
         r(model2opts) : "{res}cc(.5, ){txt}"
         r(model1opts) : "{res}cc(.5, ){txt}"
              r(model) : "{res}iv dl{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
                r(byQ) : {res} 4 x 3
            {txt}r(ovstats) : {res} 9 x 2
           {txt}r(bystats2) : {res} 9 x 3
           {txt}r(bystats1) : {res} 8 x 3

{title:Hidden; names and contents could change in future versions of Stata}

{txt}scalars:
         r(tsq_common) =  {res}.0661181427162418

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.3818396743093435
              {txt}r(p_het) =  {res}3.63680726446e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260926198814
               {txt}r(i_sq) =  {res}92.03987022802824
                {txt}r(p_z) =  {res}1.43138044988e-11
                  {txt}r(z) =  {res}-6.75469296826525
           {txt}r(ci_upp_2) =  {res}.7678887255039913
           {txt}r(ci_low_2) =  {res}.3360964317006239
          {txt}r(selogES_2) =  {res}.2107810966438946
               {txt}r(ES_2) =  {res}.5080203348144947
             {txt}r(ci_upp) =  {res}.8001514013307708
             {txt}r(ci_low) =  {res}.6668230945631376
            {txt}r(selogES) =  {res}.0464998789949045
                 {txt}r(ES) =  {res}.7304515271764552

{txt}macros:
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515271764552
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998789949045
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230945631376
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001514013307708
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.75469296826525
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43138044988e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260926198814
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680726446e-22
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3818396743093435
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987022802824
{p_end}
{txt}
{com}. graph save "$Graphs/graph30_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph30_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) nosecsub lcols(trialnam startyr latitude) by(lat_cat) ///
>                 forestplot(astext(60) xlabel(0.1,10) xsize(10) ysize(8)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(startyr latitude) astext(60) xlabel(0.1,10) xsize(10) ysize(8)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.1 1 10)}; see {help numlist:help numlist}
{res}{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}30
           {txt}r(textsize) =  {res}1.904761904761905
              {txt}r(xsize) =  {res}10
              {txt}r(ysize) =  {res}8
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}32
                {txt}r(cdw) =  {res}23.2749998304579
                {txt}r(rdw) =  {res}14.81666644414266
                {txt}r(ldw) =  {res}20.09583330154419
             {txt}r(astext) =  {res}60
             {txt}r(aspect) =  {res}.8249194474697561

{txt}macros:
              r(range) : "{res}-2.546485373927 2.302585092994{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         27    2.518519     2.00711          0          6
{txt}{space 9}_BY {c |}{res}         23           2    .8528029          1          3
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         16   -.6394177    .6609481  -1.620898   .4459134
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}         16    .2582168    .1983929   .0464999     .72973
{txt}{space 8}_LCI {c |}{res}         16   -1.145513     .792195  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         16   -.1333221    .7406277  -1.183686   1.876158
{txt}{space 9}_WT {c |}{res}         15          20    31.28835   .4060498        100
{txt}{space 9}_NN {c |}{res}         15     70780.8    108850.8        262     353904
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 4}latitude {c |}{res}         11    32.45455    16.15155         13         55
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:02
{txt}{.-}

{com}. 
. // Note that automatic sizing of graph dimensions is better in the new version,
. // so options such as xlabel(), xsize() and ysize() may not be necessary
. metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) nosecsub lcols(trialnam startyr latitude) by(lat_cat) ///
>         forestplot(astext(60))

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using {res}multiple analysis methods

{txt}{hline 26}{c TT}{hline 46}
Latitude region{col 27}{c |}    Risk    {col 64}% Weight,
and Trial name{col 27}{c |}    ratio   {col 41}[95% Conf. Interval]{col 67}IV
{hline 26}{c +}{hline 46}
Northern, > 40 latitude{col 27}{c |}
Canada{res}{txt}{col 27}{c |}{col 31}{res}  0.205{col 42}  0.086{col 52}  0.486{col 63}   1.11
{txt}Northern USA{res}{txt}{col 27}{c |}{col 31}{res}  0.411{col 42}  0.134{col 52}  1.257{col 63}   0.66
{txt}Chicago{res}{txt}{col 27}{c |}{col 31}{res}  0.254{col 42}  0.149{col 52}  0.431{col 63}   2.96
{txt}UK{res}{txt}{col 27}{c |}{col 31}{res}  0.237{col 42}  0.179{col 52}  0.312{col 63}  10.81
{txt}{col 27}{c |}
Subgroup, IV{col 27}{c |}{col 31}{res}  0.243{col 42}  0.193{col 52}  0.306{col 63}  15.54
{txt}{hline 26}{c +}{hline 46}
23.5-40 latitude{col 27}{c |}
Georgia (Sch){res}{txt}{col 27}{c |}{col 31}{res}  1.562{col 42}  0.374{col 52}  6.528{col 63}   0.41
{txt}Georgia (Comm){res}{txt}{col 27}{c |}{col 31}{res}  0.983{col 42}  0.582{col 52}  1.659{col 63}   3.03
{txt}South Africa{res}{txt}{col 27}{c |}{col 31}{res}  0.625{col 42}  0.393{col 52}  0.996{col 63}   3.83
{txt}{col 27}{c |}
Subgroup, IV{col 27}{c |}{col 31}{res}  0.795{col 42}  0.567{col 52}  1.114{col 63}   7.27
{txt}{hline 26}{c +}{hline 46}
Tropical, < 23.5 latitude{col 27}{c |}
Puerto Rico{res}{txt}{col 27}{c |}{col 31}{res}  0.712{col 42}  0.573{col 52}  0.886{col 63}  17.42
{txt}Madanapalle{res}{txt}{col 27}{c |}{col 31}{res}  0.804{col 42}  0.516{col 52}  1.254{col 63}   4.22
{txt}Haiti{res}{txt}{col 27}{c |}{col 31}{res}  0.198{col 42}  0.078{col 52}  0.499{col 63}   0.97
{txt}Madras{res}{txt}{col 27}{c |}{col 31}{res}  1.012{col 42}  0.895{col 52}  1.145{col 63}  54.58
{txt}{col 27}{c |}
Subgroup, IV{col 27}{c |}{col 31}{res}  0.904{col 42}  0.815{col 52}  1.003{col 63}  77.19
{txt}{hline 26}{c +}{hline 46}
Overall, IV{col 27}{c |}{col 31}{res}  0.730{col 42}  0.667{col 52}  0.800{col 63} 100.00
{txt}Overall, DL{col 27}{c |}{col 31}{res}  0.508{col 42}  0.336{col 52}  0.768
{txt}{hline 26}{c BT}{hline 46}

Tests of subgroup effect size = {res}1{txt}:
Northern, > 40 latitude
  IV {res}{col 20}z{txt} = {res}-11.995{txt}{col 33}p = {res}0.000
{txt}23.5-40 latitude
  IV {res}{col 20}z{txt} = {res} -1.332{txt}{col 33}p = {res}0.183
{txt}Tropical, < 23.5 latitude
  IV {res}{col 20}z{txt} = {res} -1.897{txt}{col 33}p = {res}0.058

{txt}Tests of overall effect = {res}1{txt}:
  IV{res}{col 20}z{txt} = {res} -6.755{txt}{col 33}p = {res}0.000
{txt}  DL{res}{col 20}z{txt} = {res} -3.213{txt}{col 33}p = {res}0.001


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 26}{c TT}{hline 44}
Measure{col 27}{c |}{col 33}Value{col 44}df{col 52}p-value{col 66}I{c 178}
{hline 26}{c +}{hline 44}
Northern, > 40 latitude{col 27}{c |}{col 31}{res}   1.06{col 44}  3{col 51}  0.787{col 64} 0.0%
{txt}23.5-40 latitude{col 27}{c |}{col 31}{res}   2.51{col 44}  2{col 51}  0.285{col 64}20.2%
{txt}Tropical, < 23.5 latitude{col 27}{c |}{col 31}{res}  18.42{col 44}  3{col 51}  0.000{col 64}83.7%
{txt}Overall{col 27}{c |}{col 31}{res} 125.63{col 44} 10{col 51}  0.000{col 64}92.0%
{txt}Between{col 27}{c |}{col 31}{res} 103.64{col 44}  2{col 51}  0.000
{txt}Between:Within (F){col 27}{c |}{col 31}{res}  18.85{col 40}  2{txt},{res}  8{col 51}  0.001
{txt}{hline 26}{c BT}{hline 44}
Note: Considerable heterogeneity observed (I{c 178} up to {res}83.7%{txt}) in one or more subgroups;
  tests for heterogeneity between subgroups are likely to be invalid
{res}{txt}
{com}. graph save "$Graphs/graph30_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph30_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) nosecsub lcols(trialnam startyr latitude) by(lat_cat) ///
>                 forestplot(astext(60)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(startyr latitude) astext(60)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}30
           {txt}r(textsize) =  {res}1.904761904761905
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}32
                {txt}r(cdw) =  {res}23.2749998304579
                {txt}r(rdw) =  {res}14.81666644414266
                {txt}r(ldw) =  {res}20.09583330154419
             {txt}r(astext) =  {res}60
             {txt}r(aspect) =  {res}.8249194474697561

{txt}macros:
              r(range) : "{res}-2.77258872224 2.77258872224{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         27    2.518519     2.00711          0          6
{txt}{space 9}_BY {c |}{res}         23           2    .8528029          1          3
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         16   -.6394177    .6609481  -1.620898   .4459134
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}         16    .2582168    .1983929   .0464999     .72973
{txt}{space 8}_LCI {c |}{res}         16   -1.145513     .792195  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         16   -.1333221    .7406277  -1.183686   1.876158
{txt}{space 9}_WT {c |}{res}         15          20    31.28835   .4060498        100
{txt}{space 9}_NN {c |}{res}         15     70780.8    108850.8        262     353904
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 4}latitude {c |}{res}         11    32.45455    16.15155         13         55
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16
. /*
> meta forest _id authors startyr latitude _plot _data1 _data2 _esci _weight, eform(Risk ratio) subgroup(lat_cat)
> graph save "$Graphs/graph30_meta16.gph"
> // Cannot specify multiple models (fixed + random) with meta
> // Not sure if/how you can specify the sort order of the categories
> */
. 
. 
. * 7.2 Pooled estimates
. * (and Figure 4)
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:04
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 logRR selogRR, random second(-.6587 -1.205 -.1937 Bayes) secondstats(Noninformative prior: d~dnorm(0.0, 0.001)) ///
>         lcols(trialnam startyr latitude) eform notable astext(60) textsize(130) xlabel(0.1,10)
{res}{txt}
{com}. return list

{txt}scalars:
               r(tau2) =  {res}.381839701538482
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}3.63678927503e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6261031739414
               {txt}r(i_sq) =  {res}92.03987089677212
                {txt}r(p_z) =  {res}.0013136899982577
                  {txt}r(z) =  {res}3.212972210171508
           {txt}r(ci_upp_2) =  {res}.8239050387081698
           {txt}r(ci_low_2) =  {res}.2996919995132463
             {txt}r(ci_upp) =  {res}.7678887170170899
             {txt}r(ci_low) =  {res}.3360964194184234
          {txt}r(selogES_2) =  {res}.
            {txt}r(selogES) =  {res}.210781103146929
               {txt}r(ES_2) =  {res}.5175236781552314
                 {txt}r(ES) =  {res}.5080203227246435

{txt}macros:
            r(measure) : "{res}ES{txt}"
           r(method_2) : "{res}USER{txt}"
           r(method_1) : "{res}D+L{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.5080203227246435
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.210781103146929
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.3360964194184234
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.7678887170170899
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}3.212972210171508
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.0013136899982577
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6261031739414
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63678927503e-22
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}.381839701538482
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_15:{space 11}{res}{res}.
{p_end}
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987089677212
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:05
{txt}{.-}

{com}. graph save "$Graphs/graph31_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph31_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:05
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  logRR selogRR, random second(-.6587 -1.205 -.1937 Bayes) secondstats(Noninformative prior: d~dnorm(0.0, 0.001)) ///
>         lcols(trialnam startyr latitude) eform notable astext(60) textsize(130) xlabel(0.1,10)

{txt}Studies included: {res}11
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using {res}multiple analysis methods

{txt}Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} -3.213{txt}  p = {res}0.001


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  1.181{col 46}  5.977
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   28.3%{col 45}   97.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.3818
{txt}{hline 21}{c BT}{hline 13}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.1 1 10)}; see {help numlist:help numlist}
{res}{txt}
{com}. return list, all

{txt}scalars:
              r(Hstar) =  {res}.9963551648992558
              {txt}r(tausq) =  {res}.3818396995587898
               {txt}r(HsqM) =  {res}11.56261032562406
                  {txt}r(H) =  {res}3.544377283194335
                {txt}r(Isq) =  {res}92.03987090198689
                  {txt}r(Q) =  {res}125.6261032562406
              {txt}r(Q_lci) =  {res}13.94870741808263
              {txt}r(Q_uci) =  {res}357.2002104021902
             {txt}r(se_eff) =  {res}.2107811026026666
                {txt}r(eff) =  {res}-.6772338109431819
                  {txt}r(n) =  {res}.
                  {txt}r(k) =  {res}11
                  {txt}r(m) =  {res}2

{txt}macros:
              r(model) : "{res}dl user{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 8 x 1

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.3818396995587898
              {txt}r(p_het) =  {res}3.63678913476e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6261032562406
               {txt}r(i_sq) =  {res}92.03987090198689
                {txt}r(p_z) =  {res}.0013136903052775
                  {txt}r(z) =  {res}-3.212972143047393
           {txt}r(ci_upp_2) =  {res}-.1937
           {txt}r(ci_low_2) =  {res}-1.205
               {txt}r(ES_2) =  {res}-.6587
             {txt}r(ci_upp) =  {res}.7678887284052332
             {txt}r(ci_low) =  {res}.3360964251199395
            {txt}r(selogES) =  {res}.2107811026026666
                 {txt}r(ES) =  {res}.5080203308007417
                 {txt}r(Qr) =  {res}9.927236146214231
            {txt}r(sigmasq) =  {res}.033023658914855

{txt}macros:
           r(method_2) : "{res}USER{txt}"
           r(method_1) : "{res}D+L{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.5080203308007417
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.2107811026026666
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.3360964251199395
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.7678887284052332
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}3.212972143047393
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.0013136903052775
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6261032562406
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63678913476e-22
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3818396995587898
{p_end}
{err}global macro $S_13 not found
global macro $S_14 not found
global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987090198689
{p_end}
{txt}
{com}. graph save "$Graphs/graph31_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph31_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  logRR selogRR, random second(-.6587 -1.205 -.1937 Bayes) secondstats(Noninformative prior: d~dnorm(0.0, 0.001)) ///
>                 lcols(trialnam startyr latitude) eform notable forestplot(astext(60) textsize(130) xlabel(0.1,10)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"exp(b)"') lcols(startyr latitude) astext(60) textsize(130) xlabel(0.1,10)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.1 1 10)}; see {help numlist:help numlist}
{res}{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}17
           {txt}r(textsize) =  {res}2.66612492621563
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}19
                {txt}r(cdw) =  {res}24.26385783891214
                {txt}r(rdw) =  {res}14.81666644414266
                {txt}r(ldw) =  {res}21.57912031422554
             {txt}r(astext) =  {res}60
             {txt}r(aspect) =  {res}.6264461365094071

{txt}macros:
              r(range) : "{res}-2.546485425821 2.302585092994{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         14    1.785714     1.57766          1          5
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         13   -.6792462    .6687723  -1.620898   .4459134
{txt}{space 7}_seES {c |}{res}         12    .3117986    .2004438   .0629411     .72973
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         13   -1.285374    .7716054  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         13   -.0793717    .7640573  -1.164301   1.876158
{txt}{space 9}_WT {c |}{res}         12    16.66667    26.32737   4.859068        100
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 4}latitude {c |}{res}         11    32.45455    16.15155         13         55
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:07
{txt}{.-}

{com}. 
. // Note that text size is handled differently/better by new version, so textsize(130) and xlabel() may not be necessary.
. metan logRR selogRR, random second(-.6587 -1.205 -.1937 Bayes) secondstats(Noninformative prior: d~dnorm(0.0, 0.001)) ///
>         lcols(trialnam startyr latitude) eform notable forestplot(astext(60))

{txt}Studies included: {res}11
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using {res}multiple analysis methods

{txt}Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} -3.213{txt}  p = {res}0.001


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  1.181{col 46}  5.977
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   28.3%{col 45}   97.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.3818
{txt}{hline 21}{c BT}{hline 13}
{res}{txt}
{com}. graph save "$Graphs/graph31_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph31_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  logRR selogRR, random second(-.6587 -1.205 -.1937 Bayes) secondstats(Noninformative prior: d~dnorm(0.0, 0.001)) ///
>                 lcols(trialnam startyr latitude) eform notable forestplot(astext(60)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"exp(b)"') lcols(startyr latitude) astext(60)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}17
           {txt}r(textsize) =  {res}2.057844625855043
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}19
                {txt}r(cdw) =  {res}24.18156557433411
                {txt}r(rdw) =  {res}14.81666644414266
                {txt}r(ldw) =  {res}21.4556819173585
             {txt}r(astext) =  {res}60
             {txt}r(aspect) =  {res}.6285779948066314

{txt}macros:
              r(range) : "{res}-2.77258872224 2.77258872224{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         14    1.785714     1.57766          1          5
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         13   -.6792462    .6687723  -1.620898   .4459134
{txt}{space 7}_seES {c |}{res}         12    .3117986    .2004438   .0629411     .72973
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         13   -1.285374    .7716054  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         13   -.0793717    .7640573  -1.164301   1.876158
{txt}{space 9}_WT {c |}{res}         12    16.66667    26.32737   4.859068        100
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 4}latitude {c |}{res}         11    32.45455    16.15155         13         55
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16
. /*
> meta set logRR selogRR, random(dl) studylab(trialnam)
> meta forest _id startyr latitude _plot _esci _weight, eform(Risk ratio) customoverall(-.6587 -1.205 -.1937, label("Bayes, Noninformative prior: d~dnorm(0.0, 0.001)")) 
> */
. 
. 
. * 9.2 Prediction interval for the random-effects distribution
. * (and Figure 5)
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:09
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tcases tnoncases ccases cnoncases, rr random rfdist lcols(trialnam startyr latitude) by(lat_cat) notable ///
>         astext(60) xlabel(0.1,10) xsize(10) ysize(8)
{res}{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
               {txt}r(tau2) =  {res}.3851481974124908
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}2.27374678755e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}126.6279525756836
               {txt}r(i_sq) =  {res}92.10285186767578
                {txt}r(p_z) =  {res}.0013632846530527
                  {txt}r(z) =  {res}3.202313661575317
             {txt}r(ci_upp) =  {res}.7688989043235779
             {txt}r(ci_low) =  {res}.3355504274368286
            {txt}r(selogES) =  {res}.2115312367677689
                 {txt}r(ES) =  {res}.5079413056373596

{txt}macros:
            r(measure) : "{res}RR{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.5079413056373596
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.2115312367677689
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.3355504274368286
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.7688989043235779
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}3.202313661575317
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.0013632846530527
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}126.6279525756836
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}2.27374678755e-22
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3851481974124908
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.10285186767578
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:10
{txt}{.-}

{com}. graph save "$Graphs/graph32_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph32_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:11
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tcases tnoncases ccases cnoncases, rr random rfdist lcols(trialnam startyr latitude) by(lat_cat) notable ///
>         forestplot(astext(60) xlabel(0.1 1 10) xsize(10) ysize(8))

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Tests of subgroup effect size = {res}1{txt}:
Northern, > 40 latitude{res}{col 26}z{txt} = {res}-11.995{txt}{col 39}p = {res}0.000
{txt}23.5-40 latitude{res}{col 26}z{txt} = {res} -1.017{txt}{col 39}p = {res}0.309
{txt}Tropical, < 23.5 latitud{res}{col 26}z{txt} = {res} -1.770{txt}{col 39}p = {res}0.077
{txt}Overall{col 26}{res}{col 26}z{txt} = {res} -3.213{txt}{col 39}p = {res}0.001


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 25}{c TT}{hline 44}
Measure{col 26}{c |}{col 32}Value{col 43}df{col 51}p-value{col 65}I{c 178}
{hline 25}{c +}{hline 44}
Northern, > 40 latitude{col 26}{c |}{col 30}{res}   1.06{col 43}  3{col 50}  0.787{col 63} 0.0%
{txt}23.5-40 latitude{col 26}{c |}{col 30}{res}   2.51{col 43}  2{col 50}  0.285{col 63}20.2%
{txt}Tropical, < 23.5 latitud{col 26}{c |}{col 30}{res}  18.42{col 43}  3{col 50}  0.000{col 63}83.7%
{txt}Overall{col 26}{c |}{col 30}{res} 125.63{col 43} 10{col 50}  0.000{col 63}92.0%
{txt}Between{col 26}{c |}{col 30}{res}  39.72{col 43}  2{col 50}  0.000
{txt}{hline 25}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using DL subgroup weights
{res}{txt}
{com}. return list, all

{txt}scalars:
                r(nby) =  {res}3
                  {txt}r(F) =  {res}7.225868404161542
               {txt}r(Qbet) =  {res}39.72016429094437
               {txt}r(Qsum) =  {res}21.98775957119209
              {txt}r(Hstar) =  {res}.9963551891434271
              {txt}r(tausq) =  {res}.3818396743093435
               {txt}r(HsqM) =  {res}11.56260926198814
                  {txt}r(H) =  {res}3.544377133148805
                {txt}r(Isq) =  {res}92.03987022802824
                  {txt}r(Q) =  {res}125.6260926198814
              {txt}r(Q_lci) =  {res}13.94870700823855
              {txt}r(Q_uci) =  {res}357.2001755986165
             {txt}r(se_eff) =  {res}.2107810966438946
                {txt}r(eff) =  {res}-.6772338030424094
                  {txt}r(n) =  {res}353904
                  {txt}r(k) =  {res}11
               {txt}r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
                  {txt}r(m) =  {res}1

{txt}macros:
            r(measure) : "{res}RR{txt}"
          r(modelopts) : "{res}cc(.5, ){txt}"
              r(model) : "{res}dl{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
                r(byQ) : {res} 5 x 3
            {txt}r(ovstats) : {res} 11 x 1
            {txt}r(bystats) : {res} 11 x 3

{title:Hidden; names and contents could change in future versions of Stata}

{txt}scalars:
         r(tsq_common) =  {res}.0661181427162418

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.3818396743093435
              {txt}r(p_het) =  {res}3.63680726446e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260926198814
               {txt}r(i_sq) =  {res}92.03987022802824
                {txt}r(p_z) =  {res}.0013136900612717
                  {txt}r(z) =  {res}-3.212972196394661
             {txt}r(ci_upp) =  {res}.7678887255039913
             {txt}r(ci_low) =  {res}.3360964317006239
            {txt}r(selogES) =  {res}.2107810966438946
                 {txt}r(ES) =  {res}.5080203348144947
                 {txt}r(Qr) =  {res}9.927236629330345
            {txt}r(sigmasq) =  {res}.0330236597689618
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.5080203348144947
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.2107810966438946
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.3360964317006239
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.7678887255039913
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}3.212972196394661
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.0013136900612717
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260926198814
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680726446e-22
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3818396743093435
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987022802824
{p_end}
{txt}
{com}. graph save "$Graphs/graph32_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph32_metan.gph saved)

{com}. // Note that automatic sizing of graph dimensions is better in the new version,
. // so options such as xsize() and ysize() may not be necessary
. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr random rfdist lcols(trialnam startyr latitude) by(lat_cat) notable ///
>                 forestplot(astext(60) xlabel(0.1 1 10) xsize(10) ysize(8)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(startyr latitude) astext(60) xlabel(0.1 1 10) xsize(10) ysize(8) rfdist(_rfLCI _rfUCI) note(NOTE: Weights and between-subgroup heterogeneity test are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}29
           {txt}r(textsize) =  {res}1.960784313725491
              {txt}r(xsize) =  {res}10
              {txt}r(ysize) =  {res}8
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}31
                {txt}r(cdw) =  {res}22.38055474187292
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}20.27083231943882
             {txt}r(astext) =  {res}60
             {txt}r(aspect) =  {res}.831078595438044

{txt}macros:
              r(range) : "{res}-3.564878577149 3.147535307447{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         26    2.884615     2.58189          0          7
{txt}{space 9}_BY {c |}{res}         23           2    .8528029          1          3
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         15   -.6749335    .6682409  -1.620898   .4459134
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}         15    .2833683    .1879679   .0629411     .72973
{txt}{space 8}_LCI {c |}{res}         19   -1.472892    .8858909  -3.564879  -.1114099
{txt}{space 8}_UCI {c |}{res}         19    .1303929    1.081434  -1.183686   3.147535
{txt}{space 9}_WT {c |}{res}         15          20     24.5181   4.859068        100
{txt}{space 9}_NN {c |}{res}         15     70780.8    108850.8        262     353904
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{space 6}_rfLCI {c |}{res}          8   -2.382516     .737906  -3.564879  -1.888648
{txt}{space 6}_rfUCI {c |}{res}          8    1.067648    1.542261  -.9073658   3.147535
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 4}latitude {c |}{res}         11    32.45455    16.15155         13         55
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:13
{txt}{.-}

{com}. 
. // Also note: new version does not automatically present a p-value for heterogeneity on the forest plot
. // to avoid confusion with significance test of overall effect
. // Hence, to *exactly* recreate the example, we need to add the option "hetinfo(isq p)"
. metan  tcases tnoncases ccases cnoncases, rr random rfdist lcols(trialnam startyr latitude) by(lat_cat) notable hetinfo(isq p) ///
>         forestplot(astext(60) xlabel(0.1 1 10))

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Tests of subgroup effect size = {res}1{txt}:
Northern, > 40 latitude{res}{col 26}z{txt} = {res}-11.995{txt}{col 39}p = {res}0.000
{txt}23.5-40 latitude{res}{col 26}z{txt} = {res} -1.017{txt}{col 39}p = {res}0.309
{txt}Tropical, < 23.5 latitud{res}{col 26}z{txt} = {res} -1.770{txt}{col 39}p = {res}0.077
{txt}Overall{col 26}{res}{col 26}z{txt} = {res} -3.213{txt}{col 39}p = {res}0.001


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 25}{c TT}{hline 44}
Measure{col 26}{c |}{col 32}Value{col 43}df{col 51}p-value{col 65}I{c 178}
{hline 25}{c +}{hline 44}
Northern, > 40 latitude{col 26}{c |}{col 30}{res}   1.06{col 43}  3{col 50}  0.787{col 63} 0.0%
{txt}23.5-40 latitude{col 26}{c |}{col 30}{res}   2.51{col 43}  2{col 50}  0.285{col 63}20.2%
{txt}Tropical, < 23.5 latitud{col 26}{c |}{col 30}{res}  18.42{col 43}  3{col 50}  0.000{col 63}83.7%
{txt}Overall{col 26}{c |}{col 30}{res} 125.63{col 43} 10{col 50}  0.000{col 63}92.0%
{txt}Between{col 26}{c |}{col 30}{res}  39.72{col 43}  2{col 50}  0.000
{txt}{hline 25}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using DL subgroup weights
{res}{txt}
{com}. graph save "$Graphs/graph32_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph32_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr random rfdist lcols(trialnam startyr latitude) by(lat_cat) notable hetinfo(isq p) ///
>                 forestplot(astext(60) xlabel(0.1 1 10)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(startyr latitude) astext(60) xlabel(0.1 1 10) rfdist(_rfLCI _rfUCI) note(NOTE: Weights and between-subgroup heterogeneity test are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}29
           {txt}r(textsize) =  {res}1.960784313725491
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}31
                {txt}r(cdw) =  {res}22.38055474187292
                {txt}r(rdw) =  {res}13.29999979337056
                {txt}r(ldw) =  {res}20.27083231943882
             {txt}r(astext) =  {res}60
             {txt}r(aspect) =  {res}.831078595438044

{txt}macros:
              r(range) : "{res}-3.564878577149 3.147535307447{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         26    2.884615     2.58189          0          7
{txt}{space 9}_BY {c |}{res}         23           2    .8528029          1          3
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         15   -.6749335    .6682409  -1.620898   .4459134
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}         15    .2833683    .1879679   .0629411     .72973
{txt}{space 8}_LCI {c |}{res}         19   -1.472892    .8858909  -3.564879  -.1114099
{txt}{space 8}_UCI {c |}{res}         19    .1303929    1.081434  -1.183686   3.147535
{txt}{space 9}_WT {c |}{res}         15          20     24.5181   4.859068        100
{txt}{space 9}_NN {c |}{res}         15     70780.8    108850.8        262     353904
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{space 6}_rfLCI {c |}{res}          8   -2.382516     .737906  -3.564879  -1.888648
{txt}{space 6}_rfUCI {c |}{res}          8    1.067648    1.542261  -.9073658   3.147535
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 4}latitude {c |}{res}         11    32.45455    16.15155         13         55
{txt}{hline 13}{c +}{hline 57}
{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Note: Slightly different results are seen here in the 2nd or 3rd decimal place
. // I think this is due to metan9 using "float" where (new) metan uses "double" throughout.
. 
. // Stata 16
. /*
> meta esize tcases tnoncases ccases cnoncases, esize(lnrr) random(dl) studylab(trialnam)
> meta forest _id startyr latitude _plot _esci _weight, subgroup(lat_cat) eform
> graph save "$Graphs/graph32_meta16_part1.gph"
> meta forest _id startyr latitude _plot _esci _weight, predinterval eform
> graph save "$Graphs/graph32_meta16_part2.gph"
> // Cannot combine prediction intervals with subgroups with meta
> */
. 
. 
. * 9.3 Vaccine efficacy
. * (and Figure 6)
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:15
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tcases tnoncases ccases cnoncases, rr random efficacy lcols(trialnam startyr) notable ///
>         textsize(150) xlabel(0.1, 10)
{res}{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
               {txt}r(tau2) =  {res}.3851481944707219
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}2.27374689557e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}126.6279542694783
               {txt}r(i_sq) =  {res}92.10284959771292
                {txt}r(p_z) =  {res}.0013632846512705
                  {txt}r(z) =  {res}3.202313667053189
             {txt}r(ci_upp) =  {res}.7688989138156812
             {txt}r(ci_low) =  {res}.335550438380247
            {txt}r(selogES) =  {res}.2115312405927821
                 {txt}r(ES) =  {res}.5079413033028005

{txt}macros:
            r(measure) : "{res}RR{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.5079413033028005
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.2115312405927821
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.335550438380247
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.7688989138156812
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}3.202313667053189
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.0013632846512705
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}126.6279542694783
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}2.27374689557e-22
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3851481944707219
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.10284959771292
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:16
{txt}{.-}

{com}. graph save "$Graphs/graph33_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph33_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:17
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tcases tnoncases ccases cnoncases, rr random efficacy lcols(trialnam startyr) notable ///
>         forestplot(textsize(150) xlabel(0.1 1 10))

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} -3.213{txt}  p = {res}0.001


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  1.181{col 46}  5.977
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   28.3%{col 45}   97.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.3818
{txt}{hline 21}{c BT}{hline 13}
{res}{txt}
{com}. return list, all

{txt}scalars:
              r(Hstar) =  {res}.9963551891434271
              {txt}r(tausq) =  {res}.3818396743093435
               {txt}r(HsqM) =  {res}11.56260926198814
                  {txt}r(H) =  {res}3.544377133148805
                {txt}r(Isq) =  {res}92.03987022802824
                  {txt}r(Q) =  {res}125.6260926198814
              {txt}r(Q_lci) =  {res}13.94870700823855
              {txt}r(Q_uci) =  {res}357.2001755986165
             {txt}r(se_eff) =  {res}.2107810966438946
                {txt}r(eff) =  {res}-.6772338030424094
                  {txt}r(n) =  {res}353904
                  {txt}r(k) =  {res}11
               {txt}r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
                  {txt}r(m) =  {res}1

{txt}macros:
            r(measure) : "{res}RR{txt}"
          r(modelopts) : "{res}cc(.5, ){txt}"
              r(model) : "{res}dl{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 9 x 1

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.3818396743093435
              {txt}r(p_het) =  {res}3.63680726446e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260926198814
               {txt}r(i_sq) =  {res}92.03987022802824
                {txt}r(p_z) =  {res}.0013136900612717
                  {txt}r(z) =  {res}-3.212972196394661
             {txt}r(ci_upp) =  {res}.7678887255039913
             {txt}r(ci_low) =  {res}.3360964317006239
            {txt}r(selogES) =  {res}.2107810966438946
                 {txt}r(ES) =  {res}.5080203348144947
                 {txt}r(Qr) =  {res}9.927236629330345
            {txt}r(sigmasq) =  {res}.0330236597689618
{txt}
{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.5080203348144947
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.2107810966438946
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.3360964317006239
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.7678887255039913
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}3.212972196394661
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}.0013136900612717
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260926198814
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680726446e-22
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3818396743093435
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987022802824
{p_end}
{txt}
{com}. graph save "$Graphs/graph33_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph33_metan.gph saved)

{com}. // Note that text size is handled differently/better by new version, so textsize(150) may not be necessary.
. // Similarly, xlabel(0.1 1 10) may not be necessary, as sensible x-axis value labels are chosen automatically
. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr random efficacy lcols(trialnam startyr) notable ///
>                 forestplot(textsize(150) xlabel(0.1 1 10)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(startyr) nolcolscheck textsize(150) xlabel(0.1 1 10) rcols( _VE ) note(NOTE: Weights are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}16
           {txt}r(textsize) =  {res}2.645172817079382
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}18
                {txt}r(cdw) =  {res}35.08749953905741
                {txt}r(rdw) =  {res}20.82499957084655
                {txt}r(ldw) =  {res}14.26249996821086
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.5130032130093346

{txt}macros:
              r(range) : "{res}-2.546485373927 2.302585092994{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         13    1.538462    1.330124          1          5
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         12   -.6809583    .6984801  -1.620898   .4459134
{txt}{space 7}_seES {c |}{res}         12    .3117986    .2004438   .0629411     .72973
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         12   -1.292072    .8055207  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         12   -.0698443    .7972249  -1.164301   1.876158
{txt}{space 9}_WT {c |}{res}         12    16.66667    26.32737   4.859068        100
{txt}{space 9}_NN {c |}{res}         12       58984    105796.3        262     353904
{txt}{space 9}_VE {c |}{res}          0
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:19
{txt}{.-}

{com}. 
. // Also note: new version does not automatically present a p-value for heterogeneity on the forest plot
. //  to avoid confusion with significance test of overall effect.
. // Hence, to *exactly* recreate the example, we need to add the option "hetinfo(isq p)"
. //  plus extraline(no) to prevent -forestplot- from showing it on a new line
. metan  tcases tnoncases ccases cnoncases, rr random efficacy lcols(trialnam startyr) notable ///
>         forestplot(hetinfo(isq p) extraline(no))

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res} -3.213{txt}  p = {res}0.001


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  1.181{col 46}  5.977
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   28.3%{col 45}   97.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.3818
{txt}{hline 21}{c BT}{hline 13}
{res}{txt}
{com}. graph save "$Graphs/graph33_metan_v2.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph33_metan_v2.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr random efficacy lcols(trialnam startyr) notable ///
>                 forestplot(hetinfo(isq p) extraline(no)) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(startyr) rcols( _VE ) note(NOTE: Weights are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}15
           {txt}r(textsize) =  {res}1.42597876464809
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}17
                {txt}r(cdw) =  {res}43.13749925295512
                {txt}r(rdw) =  {res}20.82499957084655
                {txt}r(ldw) =  {res}22.31249968210857
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.3940886767754721

{txt}macros:
              r(range) : "{res}-2.77258872224 2.77258872224{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         12    1.333333    1.154701          1          5
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         12   -.6809583    .6984801  -1.620898   .4459134
{txt}{space 7}_seES {c |}{res}         12    .3117986    .2004438   .0629411     .72973
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         12   -1.292072    .8055207  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         12   -.0698443    .7972249  -1.164301   1.876158
{txt}{space 9}_WT {c |}{res}         12    16.66667    26.32737   4.859068        100
{txt}{space 9}_NN {c |}{res}         12       58984    105796.3        262     353904
{txt}{space 9}_VE {c |}{res}          0
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. 
. // Stata 16:  Vaccine efficacy is not automatically calculated
. /*
> qui gen VacEff = string(100*(1 - exp(_ES)), "%4.0f") + " (" ///
>                         + string(100*(1 - exp(_LCI)), "%4.0f") + ", " ///
>                         + string(100*(1 - exp(_UCI)), "%4.0f") + ")" if !missing(_ES)
> label variable VacEff "Vaccine efficacy (%)"
> meta forest _id startyr _plot _esci _weight VacEff, eform
> graph save "$Graphs/graph33_meta16.gph"
> */
. 
.         
. * 10.1 metan graph options
. * (resulting figure not shown in the article)
. gen counts = string(tcases) + "/" + string(tcases+tnoncases) + "," + string(ccases) + "/" + string(ccases+cnoncases)
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:21
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tcases tnoncases ccases cnoncases, rr fixedi second(random) nosecsub notable ///
>                 olineopt(lwidth(thick) lcolor(navy) lpattern(dot)) ///
>                 boxopt(msymbol(triangle) mcolor(dkgreen)) ///
>                 pointopt(mlabel(counts) mlabsize(tiny) mlabposition(5))
{res}{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
               {txt}r(tau2) =  {res}0
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}3.63680500340e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260939463973
               {txt}r(i_sq) =  {res}92.03987031208115
                {txt}r(p_z) =  {res}1.43137757488e-11
                  {txt}r(z) =  {res}6.754693259492612
           {txt}r(ci_upp_2) =  {res}.7688989138156812
           {txt}r(ci_low_2) =  {res}.335550438380247
             {txt}r(ci_upp) =  {res}.8001513891449954
             {txt}r(ci_low) =  {res}.6668230834880141
          {txt}r(selogES_2) =  {res}.2115312405927821
            {txt}r(selogES) =  {res}.0464998793468118
               {txt}r(ES_2) =  {res}.5079413033028005
                 {txt}r(ES) =  {res}.7304515155483516

{txt}macros:
            r(measure) : "{res}RR{txt}"
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515155483516
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998793468118
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230834880141
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001513891449954
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.754693259492612
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43137757488e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260939463973
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680500340e-22
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}0
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987031208115
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:22
{txt}{.-}

{com}. graph save "$Graphs/graph34_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph34_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:22
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) nosecsub notable ///
>         forestplot( olineopt(lwidth(thick) lcolor(navy) lpattern(dot)) ///
>                 boxopt(msymbol(triangle) mcolor(dkgreen)) ///
>                 pointopt(mlabel(counts) mlabsize(tiny) mlabposition(5)) )

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using {res}multiple analysis methods

{txt}Tests of overall effect = {res}1{txt}:
  IV{res}{col 20}z{txt} = {res} -6.755{txt}{col 33}p = {res}0.000
{txt}  DL{res}{col 20}z{txt} = {res} -3.213{txt}{col 33}p = {res}0.001


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 125.63{col 39} 10{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.544{col 36}  2.923{col 46}  4.140
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   92.0%{col 35}   88.3%{col 45}   94.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.3818
{txt}{hline 21}{c BT}{hline 13}
{res}{txt}
{com}. return list, all

{txt}scalars:
               r(HsqM) =  {res}11.56260926198814
                  {txt}r(H) =  {res}3.544377133148805
                {txt}r(Isq) =  {res}92.03987022802824
                  {txt}r(Q) =  {res}125.6260926198814
              {txt}r(Q_lci) =  {res}85.46542745340175
              {txt}r(Q_uci) =  {res}171.3981715333364
             {txt}r(se_eff) =  {res}.0464998789949045
                {txt}r(eff) =  {res}-.3140924056720667
                  {txt}r(n) =  {res}353904
                  {txt}r(k) =  {res}11
               {txt}r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
                  {txt}r(m) =  {res}2

{txt}macros:
            r(measure) : "{res}RR{txt}"
         r(model2opts) : "{res}cc(.5, ){txt}"
         r(model1opts) : "{res}cc(.5, ){txt}"
              r(model) : "{res}iv dl{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
            r(ovstats) : {res} 9 x 2

{title:Hidden; names and contents could change in future versions of Stata}

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.3818396743093435
              {txt}r(p_het) =  {res}3.63680726446e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260926198814
               {txt}r(i_sq) =  {res}92.03987022802824
                {txt}r(p_z) =  {res}1.43138044988e-11
                  {txt}r(z) =  {res}-6.75469296826525
           {txt}r(ci_upp_2) =  {res}.7678887255039913
           {txt}r(ci_low_2) =  {res}.3360964317006239
          {txt}r(selogES_2) =  {res}.2107810966438946
               {txt}r(ES_2) =  {res}.5080203348144947
             {txt}r(ci_upp) =  {res}.8001514013307708
             {txt}r(ci_low) =  {res}.6668230945631376
            {txt}r(selogES) =  {res}.0464998789949045
                 {txt}r(ES) =  {res}.7304515271764552

{txt}macros:
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515271764552
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998789949045
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230945631376
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001514013307708
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.75469296826525
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43138044988e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260926198814
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680726446e-22
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3818396743093435
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987022802824
{p_end}
{txt}
{com}. graph save "$Graphs/graph34_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph34_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, rr fixedi second(random) nosecsub notable rcols(counts) ///
>                 forestplot( olineopt(lwidth(thick) lcolor(navy) lpattern(dot)) ///
>                         boxopt(msymbol(triangle) mcolor(dkgreen)) ///
>                         pointopt(mlabel(counts) mlabsize(tiny) mlabposition(5)) ) nograph clear
{txt}
{com}.         forestplot, useopts rcols()
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') olineopt(lwidth(thick) lcolor(navy) lpattern(dot)) boxopt(msymbol(triangle) mcolor(dkgreen)) pointopt(mlabel(counts) mlabsize(tiny) mlabposition(5)) rcols( counts) rcols()
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}16
           {txt}r(textsize) =  {res}2.38095238095238
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}18
                {txt}r(cdw) =  {res}20.06666644414266
                {txt}r(rdw) =  {res}14.81666644414266
                {txt}r(ldw) =  {res}5.25
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.8970099767245643

{txt}macros:
              r(range) : "{res}-2.77258872224 2.77258872224{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         14    1.785714     1.57766          1          5
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         13   -.6527379    .6764402  -1.620898   .4459134
{txt}{space 7}_seES {c |}{res}         13     .291391    .2055327   .0464999     .72973
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         13   -1.223854    .8095003  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         13    -.081622    .7644651  -1.164301   1.876158
{txt}{space 9}_WT {c |}{res}         12    16.66667    30.33019   .4060498        100
{txt}{space 9}_NN {c |}{res}         12       58984    105796.3        262     353904
{txt}{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 6}counts {c |}{res}          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:24
{txt}{.-}

{com}. 
. // Stata 16
. /*
> meta forest _id _plot _esci _weight, eform fixed(iv) ///
>         esrefline( lwidth(thick) lcolor(navy) lpattern(dot) ) ///
>         markeropts( msymbol(triangle) mcolor(dkgreen) ) ///
>         omarkeropts( mcolor(red) )
> graph save "$Graphs/graph34_meta16.gph"
> // Cannot specify multiple models (fixed + random) with meta
> // Cannot use "mlabel" options within markeropts()
> */
. 
. 
. * 10.3 Notes on graph building
. * (and Figure 7)
. global metamethod rr fixedi second(random) nosecsub
{txt}
{com}. global metacolumns lcols(trialnam startyr latitude)
{txt}
{com}. global metastyle boxopt(mcolor(forest_green) msymbol(triangle)) ///
>         pointopt(msymbol(smtriangle) mcolor(gold) msize(tiny) ///
>         mlabel(counts) mlabsize(tiny) mlabposition(2) mlabcolor(brown)) ///
>         diamopt(lcolor(black) lwidth(medthick)) graphregion(fcolor(gs10)) boxsca(80)
{txt}
{com}. global metaopts astext(60) favours(decreases TB # increases TB) xlabel(0.1, 0.2, 0.5, 1, 2, 5, 10)
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:24
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan9 tcases tnoncases ccases cnoncases, $metamethod $metacolumns $metastyle $metaopts by(lat_cat) xsize(10) ysize(8) notable
{res}{txt}
{com}. return list

{txt}scalars:
               r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
               {txt}r(tau2) =  {res}0
             {txt}r(p_chi2) =  {res}.
               {txt}r(chi2) =  {res}.
              {txt}r(p_het) =  {res}3.63680503064e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.626091003418
               {txt}r(i_sq) =  {res}92.03987121582031
                {txt}r(p_z) =  {res}1.43137758590e-11
                  {txt}r(z) =  {res}6.754693031311035
           {txt}r(ci_upp_2) =  {res}.7688989138156812
           {txt}r(ci_low_2) =  {res}.335550438380247
             {txt}r(ci_upp) =  {res}.8001514077186585
             {txt}r(ci_low) =  {res}.6668230891227722
          {txt}r(selogES_2) =  {res}.2115312405927821
            {txt}r(selogES) =  {res}.0464998781681061
               {txt}r(ES_2) =  {res}.5079413033028005
                 {txt}r(ES) =  {res}.7304515242576599

{txt}macros:
            r(measure) : "{res}RR{txt}"
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515242576599
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998781681061
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230891227722
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001514077186585
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.754693031311035
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43137758590e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.626091003418
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680503064e-22
{p_end}
{txt}{p 0 16}
S_10:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_11:{space 11}{res}{res}.
{p_end}
{txt}{p 0 16}
S_12:{space 11}{res}{res}0
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987121582031
{p_end}
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:25
{txt}{.-}

{com}. graph save "$Graphs/graph35_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph35_metan9.gph saved)

{com}. 
. // due to xlabel() now accepting a standard Stata numlist, need to redefine this global macro
. global metaopts astext(60) favours(decreases TB # increases TB) xlabel(0.1 0.2 0.5 1 2 5 10) xsize(10) ysize(8)
{txt}
{com}. 
. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:25
{txt}
{com}. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. metan  tcases tnoncases ccases cnoncases, $metamethod $metacolumns forestplot($metastyle $metaopts) by(lat_cat) notable

{txt}Studies included: {res}11
{txt}Participants included: {res}353904

{txt}Meta-analysis pooling of{res} Risk Ratios
{txt}using {res}multiple analysis methods

{txt}Tests of subgroup effect size = {res}1{txt}:
Northern, > 40 latitude
  IV {res}{col 20}z{txt} = {res}-11.995{txt}{col 33}p = {res}0.000
{txt}23.5-40 latitude
  IV {res}{col 20}z{txt} = {res} -1.332{txt}{col 33}p = {res}0.183
{txt}Tropical, < 23.5 latitud
  IV {res}{col 20}z{txt} = {res} -1.897{txt}{col 33}p = {res}0.058

{txt}Tests of overall effect = {res}1{txt}:
  IV{res}{col 20}z{txt} = {res} -6.755{txt}{col 33}p = {res}0.000
{txt}  DL{res}{col 20}z{txt} = {res} -3.213{txt}{col 33}p = {res}0.001


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 25}{c TT}{hline 44}
Measure{col 26}{c |}{col 32}Value{col 43}df{col 51}p-value{col 65}I{c 178}
{hline 25}{c +}{hline 44}
Northern, > 40 latitude{col 26}{c |}{col 30}{res}   1.06{col 43}  3{col 50}  0.787{col 63} 0.0%
{txt}23.5-40 latitude{col 26}{c |}{col 30}{res}   2.51{col 43}  2{col 50}  0.285{col 63}20.2%
{txt}Tropical, < 23.5 latitud{col 26}{c |}{col 30}{res}  18.42{col 43}  3{col 50}  0.000{col 63}83.7%
{txt}Overall{col 26}{c |}{col 30}{res} 125.63{col 43} 10{col 50}  0.000{col 63}92.0%
{txt}Between{col 26}{c |}{col 30}{res} 103.64{col 43}  2{col 50}  0.000
{txt}Between:Within (F){col 26}{c |}{col 30}{res}  18.85{col 39}  2{txt},{res}  8{col 50}  0.001
{txt}{hline 25}{c BT}{hline 44}
Note: Considerable heterogeneity observed (I{c 178} up to {res}83.7%{txt}) in one or more subgroups;
  tests for heterogeneity between subgroups are likely to be invalid
{res}{txt}
{com}. return list, all

{txt}scalars:
                r(nby) =  {res}3
                  {txt}r(F) =  {res}18.85382323071681
               {txt}r(Qbet) =  {res}103.6383330486893
               {txt}r(Qsum) =  {res}21.98775957119209
               {txt}r(HsqM) =  {res}11.56260926198814
                  {txt}r(H) =  {res}3.544377133148805
                {txt}r(Isq) =  {res}92.03987022802824
                  {txt}r(Q) =  {res}125.6260926198814
              {txt}r(Q_lci) =  {res}85.46542745340175
              {txt}r(Q_uci) =  {res}171.3981715333364
             {txt}r(se_eff) =  {res}.0464998789949045
                {txt}r(eff) =  {res}-.3140924056720667
                  {txt}r(n) =  {res}353904
                  {txt}r(k) =  {res}11
               {txt}r(cger) =  {res}.0068464024493962
               {txt}r(tger) =  {res}.004659467912009
                  {txt}r(m) =  {res}2

{txt}macros:
            r(measure) : "{res}RR{txt}"
         r(model2opts) : "{res}cc(.5, ){txt}"
         r(model1opts) : "{res}cc(.5, ){txt}"
              r(model) : "{res}iv dl{txt}"
             r(citype) : "{res}normal{txt}"

matrices:
                r(byQ) : {res} 4 x 3
            {txt}r(ovstats) : {res} 9 x 2
           {txt}r(bystats2) : {res} 9 x 3
           {txt}r(bystats1) : {res} 8 x 3

{title:Hidden; names and contents could change in future versions of Stata}

{txt}scalars:
         r(tsq_common) =  {res}.0661181427162418

{txt}macros:
      r(metan_version) : "{res}4.07{txt}"
{res}
{title:Historical; may exist only under version control}

{txt}scalars:
               r(tau2) =  {res}.3818396743093435
              {txt}r(p_het) =  {res}3.63680726446e-22
                 {txt}r(df) =  {res}10
                {txt}r(het) =  {res}125.6260926198814
               {txt}r(i_sq) =  {res}92.03987022802824
                {txt}r(p_z) =  {res}1.43138044988e-11
                  {txt}r(z) =  {res}-6.75469296826525
           {txt}r(ci_upp_2) =  {res}.7678887255039913
           {txt}r(ci_low_2) =  {res}.3360964317006239
          {txt}r(selogES_2) =  {res}.2107810966438946
               {txt}r(ES_2) =  {res}.5080203348144947
             {txt}r(ci_upp) =  {res}.8001514013307708
             {txt}r(ci_low) =  {res}.6668230945631376
            {txt}r(selogES) =  {res}.0464998789949045
                 {txt}r(ES) =  {res}.7304515271764552

{txt}macros:
           r(method_2) : "{res}D+L{txt}"
           r(method_1) : "{res}I-V{txt}"

{com}. forvalues i=1/15 {c -(}
{txt}  2{com}.         cap nois macro list S_`i'
{txt}  3{com}. {c )-}
{txt}{p 0 16}
S_1:{space 12}{res}{res}.7304515271764552
{p_end}
{txt}{p 0 16}
S_2:{space 12}{res}{res}.0464998789949045
{p_end}
{txt}{p 0 16}
S_3:{space 12}{res}{res}.6668230945631376
{p_end}
{txt}{p 0 16}
S_4:{space 12}{res}{res}.8001514013307708
{p_end}
{txt}{p 0 16}
S_5:{space 12}{res}{res}6.75469296826525
{p_end}
{txt}{p 0 16}
S_6:{space 12}{res}{res}1.43138044988e-11
{p_end}
{txt}{p 0 16}
S_7:{space 12}{res}{res}125.6260926198814
{p_end}
{txt}{p 0 16}
S_8:{space 12}{res}{res}10
{p_end}
{txt}{p 0 16}
S_9:{space 12}{res}{res}3.63680726446e-22
{p_end}
{err}global macro $S_10 not found
global macro $S_11 not found
{txt}{p 0 16}
S_12:{space 11}{res}{res}.3818396743093435
{p_end}
{txt}{p 0 16}
S_13:{space 11}{res}{res}.004659467912009
{p_end}
{txt}{p 0 16}
S_14:{space 11}{res}{res}.0068464024493962
{p_end}
{err}global macro $S_15 not found
{txt}
{com}. cap nois macro list S_51
{txt}{p 0 16}
S_51:{space 11}{res}{res}92.03987022802824
{p_end}
{txt}
{com}. graph save "$Graphs/graph35_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph35_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan  tcases tnoncases ccases cnoncases, $metamethod lcols(trialnam startyr latitude counts) forestplot($metastyle $metaopts) by(lat_cat) notable nograph clear
{txt}
{com}.         forestplot, useopts lcols(startyr latitude)
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , eform effect(`"Risk ratio"') lcols(startyr latitude counts) boxopt(mcolor(forest_green) msymbol(triangle)) pointopt(msymbol(smtriangle) mcolor(gold) msize(tiny) mlabel(counts) mlabsize(tiny) mlabposition(2) mlabcolor(brown)) diamopt(lcolor(black) lwidth(medthick)) graphregion(fcolor(gs10)) astext(60) favours(decreases TB # increases TB) xlabel(0.1 0.2 0.5 1 2 5 10) xsize(10) ysize(8) boxscale(80) lcols(startyr latitude)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}30
           {txt}r(textsize) =  {res}1.801801801801802
              {txt}r(xsize) =  {res}10
              {txt}r(ysize) =  {res}8
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}32
                {txt}r(cdw) =  {res}23.2749998304579
                {txt}r(rdw) =  {res}14.81666644414266
                {txt}r(ldw) =  {res}20.09583330154419
             {txt}r(astext) =  {res}60
             {txt}r(aspect) =  {res}.8249194474697561

{txt}macros:
              r(range) : "{res}-2.546485373927 2.302585092994{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         27    2.518519     2.00711          0          6
{txt}{space 9}_BY {c |}{res}         23           2    .8528029          1          3
{txt}{space 6}_STUDY {c |}{res}         11           6    3.316625          1         11
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         16   -.6394177    .6609481  -1.620898   .4459134
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}         16    .2582168    .1983929   .0464999     .72973
{txt}{space 8}_LCI {c |}{res}         16   -1.145513     .792195  -2.546485  -.1114099
{txt}{space 8}_UCI {c |}{res}         16   -.1333221    .7406277  -1.183686   1.876158
{txt}{space 9}_WT {c |}{res}         15          20    31.28835   .4060498        100
{txt}{space 9}_NN {c |}{res}         15     70780.8    108850.8        262     353904
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         11           0           0          0          0
{txt}{space 5}startyr {c |}{res}         11    1950.273     11.7396       1933       1968
{txt}{space 4}latitude {c |}{res}         11    32.45455    16.15155         13         55
{txt}{space 6}counts {c |}{res}          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:28
{txt}{.-}

{com}. 
. // Stata 16
. /*
> // Need to completely redefine global macros!!
> global metastyle markeropts(mcolor(forest_green) msymbol(triangle) ) ///
>         insidemarker( msymbol(smtriangle) mcolor(gold) msize(tiny) ) ///
>         omarkeropts( mlcolor(black) mlwidth(medthick) mfcolor(none) ) graphregion(fcolor(gs10))
> 
> global metanull nullrefline(favorsleft(decreases TB) favorsright(increases TB))
>         
> meta forest _id startyr latitude _plot _esci _weight, eform fixed(iv) subgroup(lat_cat) $metastyle $metanull
> graph save "$Graphs/graph35_meta16.gph"
> // Cannot specify multiple models (fixed + random) with meta
> // Cannot use "mlabel" options within markeropts()
> */
. 
. 
. 
. ***************************************
. * Recreate examples from metabias.hlp *
. ***************************************
. 
. // -metabias- has had to be (minimally) modified because it includes the line:
. // . qui drop _SS _ES _selogES _LCI _UCI _WT
. // and in -metan- v4.0+ neither _SS nor _selogES are used.
. 
. // Here, "metabias" refers to the updated code;
. //  "metabias9" is a (minimally) modfied version of the *original* code, pointing to -metan9- rather than to -metan- .
. 
. // N.B. it is unclear which dataset(s) should be used for the example code in this help file.
. // Therefore, the example code has been minimally modified so as to run on the standard -metan- example dataset.
. 
. use "$Datasets/metan_example_data", clear
{txt}(Example dataset for meta-analyses, Ross Harris 2006)

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:28
{txt}
{com}. metabias9 tdeath tnodeath cdeath cnodeath, or harbord

{txt}Note: data input format {res}tcases tnoncases ccases cnoncases{txt} assumed.

Harbord's modified test for small-study effects: 
Regress Z/sqrt(V) on sqrt(V) where Z is efficient score and V is score variance

Number of studies =  {res}20{txt}{col 55} Root MSE      =  {res} 1.191
{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1}   Z/sqrt(V){col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 5}sqrt(V) {c |}{col 14}{res}{space 2}-.6252472{col 26}{space 2} .3143161{col 37}{space 1}   -1.99{col 46}{space 3}0.062{col 54}{space 4}-1.285601{col 67}{space 3} .0351064
{txt}{space 8}bias {c |}{col 14}{res}{space 2} 2.243058{col 26}{space 2} .9951371{col 37}{space 1}    2.25{col 46}{space 3}0.037{col 54}{space 4} .1523523{col 67}{space 3} 4.333763
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}

Test of H0: no small-study effects{col 45}P = {res}0.037
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:28
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:28
{txt}
{com}. metabias  tdeath tnodeath cdeath cnodeath, or harbord

{txt}Note: data input format {res}{it:tcases tnoncases ccases cnoncases}{txt} assumed
Note: {res}Odds ratios{txt} specified as effect estimate of interest

Harbord's modified test for small-study effects: 
Regress {it:Z}{bf:/sqrt(}{it:V}{bf:)} on {bf:sqrt(}{it:V}{bf:)}, where {it:Z} is the efficient score and {it:V} is the score variance

.
Number of studies =  {res}20{txt}{col 55} Root MSE      =  {res} 1.191
{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1}   Z/sqrt(V){col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 5}sqrt(V) {c |}{col 14}{res}{space 2}-.6252472{col 26}{space 2} .3143161{col 37}{space 1}   -1.99{col 46}{space 3}0.062{col 54}{space 4}-1.285601{col 67}{space 3} .0351064
{txt}{space 8}bias {c |}{col 14}{res}{space 2} 2.243058{col 26}{space 2} .9951371{col 37}{space 1}    2.25{col 46}{space 3}0.037{col 54}{space 4} .1523523{col 67}{space 3} 4.333763
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}

Test of H0: no small-study effects{col 45}P = {res}0.037
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:28
{txt}{.-}

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:28
{txt}
{com}. metabias9 tdeath tnodeath cdeath cnodeath, or harbord graph mlabel(id)

{txt}Note: data input format {res}tcases tnoncases ccases cnoncases{txt} assumed.

Harbord's modified test for small-study effects: 
Regress Z/sqrt(V) on sqrt(V) where Z is efficient score and V is score variance

Number of studies =  {res}20{txt}{col 55} Root MSE      =  {res} 1.191
{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1}   Z/sqrt(V){col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 5}sqrt(V) {c |}{col 14}{res}{space 2}-.6252472{col 26}{space 2} .3143161{col 37}{space 1}   -1.99{col 46}{space 3}0.062{col 54}{space 4}-1.285601{col 67}{space 3} .0351064
{txt}{space 8}bias {c |}{col 14}{res}{space 2} 2.243058{col 26}{space 2} .9951371{col 37}{space 1}    2.25{col 46}{space 3}0.037{col 54}{space 4} .1523523{col 67}{space 3} 4.333763
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}

Test of H0: no small-study effects{col 45}P = {res}0.037
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:28
{txt}{.-}

{com}. graph save "$Graphs/graph36_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph36_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:28
{txt}
{com}. metabias  tdeath tnodeath cdeath cnodeath, or harbord graph mlabel(id)

{txt}Note: data input format {res}{it:tcases tnoncases ccases cnoncases}{txt} assumed
Note: {res}Odds ratios{txt} specified as effect estimate of interest

Harbord's modified test for small-study effects: 
Regress {it:Z}{bf:/sqrt(}{it:V}{bf:)} on {bf:sqrt(}{it:V}{bf:)}, where {it:Z} is the efficient score and {it:V} is the score variance

.
Number of studies =  {res}20{txt}{col 55} Root MSE      =  {res} 1.191
{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1}   Z/sqrt(V){col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 5}sqrt(V) {c |}{col 14}{res}{space 2}-.6252472{col 26}{space 2} .3143161{col 37}{space 1}   -1.99{col 46}{space 3}0.062{col 54}{space 4}-1.285601{col 67}{space 3} .0351064
{txt}{space 8}bias {c |}{col 14}{res}{space 2} 2.243058{col 26}{space 2} .9951371{col 37}{space 1}    2.25{col 46}{space 3}0.037{col 54}{space 4} .1523523{col 67}{space 3} 4.333763
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}

Test of H0: no small-study effects{col 45}P = {res}0.037
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:29
{txt}{.-}

{com}. graph save "$Graphs/graph36_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph36_metan.gph saved)

{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:29
{txt}
{com}. metabias9 tdeath tnodeath cdeath cnodeath, or peters

{txt}Note: data input format {res}tcases tnoncases ccases cnoncases{txt} assumed.

Peter's test for small-study effects:
Regress intervention effect estimate on 1/Ntot, with weights SF/Ntot

Number of studies =  {res}20{txt}{col 55} Root MSE      =  {res} .4057
{txt}{hline 13}{c TT}{hline 64}
     Std_Eff {c |}      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
{hline 13}{c +}{hline 64}
        bias {c |}  {res} 32.93315   20.95822     1.57   0.134    -11.09843    76.96473
    {txt}constant {c |}  {res}-.1456446   .1584562    -0.92   0.370    -.4785487    .1872594
{txt}{hline 13}{c BT}{hline 64}

Test of H0: no small-study effects{col 45}P = {res}0.134
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:29
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:29
{txt}
{com}. metabias  tdeath tnodeath cdeath cnodeath, or peters

{txt}Note: data input format {res}{it:tcases tnoncases ccases cnoncases}{txt} assumed
Note: {res}Odds ratios{txt} specified as effect estimate of interest

Peter's test for small-study effects:
Regress intervention effect estimate on {bf:1/}{it:Ntot}, with weights {it:S}{bf:}{it:F}{bf:/}{it:Ntot}

Number of studies = {res}20{txt}{col 55} Root MSE      = {res} .4057
{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1}     Std_Eff{col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 8}bias {c |}{col 14}{res}{space 2} 32.93315{col 26}{space 2} 20.95822{col 37}{space 1}    1.57{col 46}{space 3}0.134{col 54}{space 4}-11.09843{col 67}{space 3} 76.96473
{txt}{space 4}constant {c |}{col 14}{res}{space 2}-.1456446{col 26}{space 2} .1584562{col 37}{space 1}   -0.92{col 46}{space 3}0.370{col 54}{space 4}-.4785487{col 67}{space 3} .1872594
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}

Test of H0: no small-study effects{col 45}P = {res}0.134
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:29
{txt}{.-}

{com}. 
. gen double logor   = ln( (tdeath*cnodeath)/(tnodeath*cdeath) )
{txt}
{com}. gen double selogor = sqrt( (1/tdeath) + (1/tnodeath) + (1/cdeath) + (1/cnodeath) )
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:29
{txt}
{com}. metabias9 logor selogor, egger

{txt}Note: data input format {res}theta se_theta{txt} assumed.

Egger's test for small-study effects:
Regress standard normal deviate of intervention
effect estimate against its standard error

Number of studies =  {res}20{txt}{col 55} Root MSE      =  {res} 1.186
{txt}{hline 13}{c TT}{hline 64}
     Std_Eff {c |}      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
{hline 13}{c +}{hline 64}
       slope {c |}  {res}-.6311106   .3123698    -2.02   0.058    -1.287375     .025154
        {txt}bias {c |}  {res} 2.243459   .9807099     2.29   0.034     .1830643    4.303854
{txt}{hline 13}{c BT}{hline 64}

Test of H0: no small-study effects{col 45}P = {res}0.034
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:29
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:29
{txt}
{com}. metabias  logor selogor, egger

{txt}Note: data input format {res}{it:theta se_theta}{txt} assumed

Egger's test for small-study effects:
Regress standard normal deviate of intervention
  effect estimate against its standard error

.
Number of studies =  {res}20{txt}{col 55} Root MSE      =  {res} 1.186
{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 1}     Std_Eff{col 14}{c |}      Coef.{col 26}   Std. Err.{col 38}      t{col 46}   P>|t|{col 54}     [95% Con{col 67}f. Interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 7}slope {c |}{col 14}{res}{space 2}-.6311106{col 26}{space 2} .3123698{col 37}{space 1}   -2.02{col 46}{space 3}0.058{col 54}{space 4}-1.287375{col 67}{space 3}  .025154
{txt}{space 8}bias {c |}{col 14}{res}{space 2} 2.243459{col 26}{space 2} .9807099{col 37}{space 1}    2.29{col 46}{space 3}0.034{col 54}{space 4} .1830643{col 67}{space 3} 4.303854
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}

Test of H0: no small-study effects{col 45}P = {res}0.034
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:29
{txt}{.-}

{com}. 
. 
. 
. 
. **************************************
. * Recreate examples from metacum.hlp *
. **************************************
. 
. // Risk difference from raw cell counts, random effects model, "label" specification
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:29
{txt}
{com}. metacum tdeath tnodeath cdeath cnodeath, nograph ///
>         rd random label(namevar=id, yearid=year)
{error}Note: Only one estimate found; random-effects model not used

{txt}Studies included: {res}1
{txt}Participants included: {res}221

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -1.829{txt}  p = {res}0.067

{txt}Studies included: {res}2
{txt}Participants included: {res}428

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.333{txt}  p = {res}0.739


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   3.69{col 39}  1{col 46}  0.055
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.922{col 36}  1.000{col 46}  4.308
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   72.9%{col 35}    0.0%{col 45}   94.6%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0124
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}3
{txt}Participants included: {res}541

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.264{txt}  p = {res}0.791


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   4.00{col 39}  2{col 46}  0.135
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.415{col 36}  1.000{col 46}  2.725
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   50.0%{col 35}    0.0%{col 45}   86.5%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0057
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}4
{txt}Participants included: {res}682

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.129{txt}  p = {res}0.897


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   4.36{col 39}  3{col 46}  0.225
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.206{col 36}  1.000{col 46}  2.131
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   31.2%{col 35}    0.0%{col 45}   78.0%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0027
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}5
{txt}Participants included: {res}788

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.127{txt}  p = {res}0.899


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   5.02{col 39}  4{col 46}  0.285
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.120{col 36}  1.000{col 46}  1.871
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   20.3%{col 35}    0.0%{col 45}   71.4%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0016
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}6
{txt}Participants included: {res}991

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.404{txt}  p = {res}0.686


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   5.42{col 39}  5{col 46}  0.367
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.041{col 36}  1.000{col 46}  1.668
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}    7.7%{col 35}    0.0%{col 45}   64.0%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0005
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}7
{txt}Participants included: {res}1132

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.051{txt}  p = {res}0.293


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   9.50{col 39}  6{col 46}  0.147
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.259{col 36}  1.000{col 46}  1.956
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   36.9%{col 35}    0.0%{col 45}   73.9%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0036
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}8
{txt}Participants included: {res}1159

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.037{txt}  p = {res}0.300


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   9.65{col 39}  7{col 46}  0.209
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.174{col 36}  1.000{col 46}  1.780
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   27.4%{col 35}    0.0%{col 45}   68.4%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0026
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}9
{txt}Participants included: {res}1323

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.536{txt}  p = {res}0.592


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  12.63{col 39}  8{col 46}  0.125
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.257{col 36}  1.000{col 46}  1.867
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   36.7%{col 35}    0.0%{col 45}   71.3%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0039
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}10
{txt}Participants included: {res}1685

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.072{txt}  p = {res}0.943


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  19.52{col 39}  9{col 46}  0.021
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.473{col 36}  1.000{col 46}  2.162
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   53.9%{col 35}    0.0%{col 45}   78.6%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0070
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}11
{txt}Participants included: {res}1727

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.030{txt}  p = {res}0.976


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  20.04{col 39} 10{col 46}  0.029
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.416{col 36}  1.000{col 46}  2.048
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   50.1%{col 35}    0.0%{col 45}   76.1%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0065
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}12
{txt}Participants included: {res}1840

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.584{txt}  p = {res}0.559


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  27.14{col 39} 11{col 46}  0.004
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.571{col 36}  1.000{col 46}  2.248
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   59.5%{col 35}    0.0%{col 45}   80.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0096
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}13
{txt}Participants included: {res}1933

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.622{txt}  p = {res}0.534


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  27.22{col 39} 12{col 46}  0.007
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.506{col 36}  1.000{col 46}  2.126
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   55.9%{col 35}    0.0%{col 45}   77.9%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0085
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}14
{txt}Participants included: {res}2219

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.735{txt}  p = {res}0.462


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  27.73{col 39} 13{col 46}  0.010
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.461{col 36}  1.000{col 46}  2.036
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   53.1%{col 35}    0.0%{col 45}   75.9%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0072
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}15
{txt}Participants included: {res}2493

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.491{txt}  p = {res}0.624


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  29.37{col 39} 14{col 46}  0.009
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.448{col 36}  1.000{col 46}  1.998
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   52.3%{col 35}    0.0%{col 45}   74.9%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0066
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}16
{txt}Participants included: {res}2580

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.644{txt}  p = {res}0.519


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  30.27{col 39} 15{col 46}  0.011
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.420{col 36}  1.000{col 46}  1.941
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   50.4%{col 35}    0.0%{col 45}   73.4%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0063
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}17
{txt}Participants included: {res}2824

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.725{txt}  p = {res}0.468


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  30.58{col 39} 16{col 46}  0.015
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.383{col 36}  1.000{col 46}  1.871
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   47.7%{col 35}    0.0%{col 45}   71.4%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0055
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}18
{txt}Participants included: {res}2922

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.021{txt}  p = {res}0.307


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  33.62{col 39} 17{col 46}  0.009
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.406{col 36}  1.000{col 46}  1.889
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   49.4%{col 35}    0.0%{col 45}   72.0%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0060
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}19
{txt}Participants included: {res}3132

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.080{txt}  p = {res}0.280


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  33.74{col 39} 18{col 46}  0.014
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.369{col 36}  1.000{col 46}  1.824
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   46.6%{col 35}    0.0%{col 45}   69.9%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0053
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Meta-analysis pooling of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.125{txt}  p = {res}0.261


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  33.80{col 39} 19{col 46}  0.019
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.334{col 36}  1.000{col 46}  1.764
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   43.8%{col 35}    0.0%{col 45}   67.9%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.0048
{txt}{hline 21}{c BT}{hline 13}

Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}{hline 22}{c TT}{hline 36}
Study identifier{col 23}{c |}             
(Year){col 23}{c |}     RD     {col 37}[95% Conf. Interval]
{hline 22}{c +}{hline 36}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res} -0.122{col 38} -0.253{col 48}  0.009{col 59}
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res} -0.031{col 38} -0.211{col 48}  0.150{col 59}
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res} -0.016{col 38} -0.137{col 48}  0.104{col 59}
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res} -0.006{col 38} -0.097{col 48}  0.085{col 59}
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.005{col 38} -0.073{col 48}  0.084{col 59}
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.013{col 38} -0.051{col 48}  0.077{col 59}
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.039{col 38} -0.034{col 48}  0.112{col 59}
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.036{col 38} -0.032{col 48}  0.104{col 59}
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.019{col 38} -0.050{col 48}  0.087{col 59}
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.003{col 38} -0.075{col 48}  0.070{col 59}
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.001{col 38} -0.068{col 48}  0.071{col 59}
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.022{col 38} -0.052{col 48}  0.097{col 59}
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.022{col 38} -0.047{col 48}  0.092{col 59}
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.024{col 38} -0.039{col 48}  0.087{col 59}
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.015{col 38} -0.044{col 48}  0.074{col 59}
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.019{col 38} -0.038{col 48}  0.075{col 59}
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.019{col 38} -0.033{col 48}  0.072{col 59}
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.027{col 38} -0.025{col 48}  0.080{col 59}
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.027{col 38} -0.022{col 48}  0.076{col 59}
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.027{col 38} -0.020{col 48}  0.074{col 59}
{txt}{hline 22}{c BT}{hline 36}
Note: random effects weighting used for pooled estimates

{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:30
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:30
{txt}
{com}. metan tdeath tnodeath cdeath cnodeath, cumulative nograph ///
>         rd random label(namevar=id, yearid=year)

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Cumulative meta-analysis of{res}  Risk Differences
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

Studies added cumulatively in order of {res}year type_study

{txt}{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}            {col 60}Ratio of
(Year){col 23}{c |} Risk Diff. {col 37}[95% Conf. Interval]{col 60}Variances
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res} -0.122{col 38} -0.253{col 48}  0.009{col 59}  13.02
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res} -0.031{col 38} -0.211{col 48}  0.150{col 59}   6.84
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res} -0.016{col 38} -0.137{col 48}  0.104{col 59}  15.33
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res} -0.006{col 38} -0.097{col 48}  0.085{col 59}  26.95
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.005{col 38} -0.073{col 48}  0.084{col 59}  36.14
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.013{col 38} -0.051{col 48}  0.077{col 59}  54.07
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.039{col 38} -0.034{col 48}  0.112{col 59}  41.62
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.036{col 38} -0.032{col 48}  0.104{col 59}  47.77
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.019{col 38} -0.050{col 48}  0.087{col 59}  47.35
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res} -0.003{col 38} -0.075{col 48}  0.070{col 59}  42.43
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.001{col 38} -0.068{col 48}  0.071{col 59}  46.17
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.022{col 38} -0.052{col 48}  0.097{col 59}  40.20
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.022{col 38} -0.047{col 48}  0.092{col 59}  46.07
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.024{col 38} -0.039{col 48}  0.087{col 59}  56.21
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.015{col 38} -0.044{col 48}  0.074{col 59}  64.46
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.019{col 38} -0.038{col 48}  0.075{col 59}  69.33
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.019{col 38} -0.033{col 48}  0.072{col 59}  80.50
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.027{col 38} -0.025{col 48}  0.080{col 59}  80.52
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.027{col 38} -0.022{col 48}  0.076{col 59}  91.80
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.027{col 38} -0.020{col 48}  0.074{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall cumulative effect = {res}0{txt}:  {res}z{txt} = {res}  1.125{txt}  p = {res}0.261


{txt}Heterogeneity measures, calculated from the totality of data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  33.80{col 40} 19{col 47}  0.019
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.334{col 37}  1.000{col 47}  1.764
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   43.8%{col 36}    0.0%{col 46}   67.9%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates, calculated from the totality of data
{hline 22}{c TT}{hline 13}
Method{col 23}{c |}{col 29}tau{c 178}
{hline 22}{c +}{hline 13}
DL{col 23}{c |}{col 26}{res}  0.0048
{txt}{hline 22}{c BT}{hline 13}

{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:30
{txt}{.-}

{com}. 
.  
. // Generate log odds ratio and standard error.
. // Graph has exponential form, scale is forced within set limits and ticks added.
. // Data columns syntax used and effect label specified.
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:30
{txt}
{com}. metacum logor selogor, eform xlabel(0.6, 0.8, 1, 1.2, 1.4, 1.6) ///
>         force xtick(0.7, 0.9, 1.1, 1.3, 1.5) lcols(id year country) effect(Odds ratio)

{txt}Studies included: {res}1
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -1.810{txt}  p = {res}0.070

{txt}Studies included: {res}2
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.676{txt}  p = {res}0.499


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   3.63{col 39}  1{col 46}  0.057
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.906{col 36}  1.000{col 46}  3.583
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   72.5%{col 35}    0.0%{col 45}   92.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}3
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.475{txt}  p = {res}0.635


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   3.94{col 39}  2{col 46}  0.139
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.404{col 36}  1.000{col 46}  2.528
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   49.2%{col 35}    0.0%{col 45}   84.4%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}4
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.228{txt}  p = {res}0.819


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   4.29{col 39}  3{col 46}  0.231
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.197{col 36}  1.000{col 46}  2.068
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   30.2%{col 35}    0.0%{col 45}   76.6%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}5
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.074{txt}  p = {res}0.941


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   4.94{col 39}  4{col 46}  0.293
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.112{col 36}  1.000{col 46}  1.841
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   19.1%{col 35}    0.0%{col 45}   70.5%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}6
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.393{txt}  p = {res}0.694


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   5.35{col 39}  5{col 46}  0.375
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.034{col 36}  1.000{col 46}  1.655
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}    6.5%{col 35}    0.0%{col 45}   63.5%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}7
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.160{txt}  p = {res}0.246


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   9.25{col 39}  6{col 46}  0.160
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.242{col 36}  1.000{col 46}  1.880
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   35.2%{col 35}    0.0%{col 45}   71.7%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}8
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.116{txt}  p = {res}0.265


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}   9.40{col 39}  7{col 46}  0.225
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.159{col 36}  1.000{col 46}  1.730
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   25.5%{col 35}    0.0%{col 45}   66.6%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}9
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.546{txt}  p = {res}0.585


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  12.31{col 39}  8{col 46}  0.138
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.240{col 36}  1.000{col 46}  1.795
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   35.0%{col 35}    0.0%{col 45}   69.0%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}10
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.734{txt}  p = {res}0.463


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  18.94{col 39}  9{col 46}  0.026
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.450{col 36}  1.000{col 46}  2.005
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   52.5%{col 35}    0.0%{col 45}   75.1%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}11
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.628{txt}  p = {res}0.530


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  19.46{col 39} 10{col 46}  0.035
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.395{col 36}  1.000{col 46}  1.916
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   48.6%{col 35}    0.0%{col 45}   72.8%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}12
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.003{txt}  p = {res}0.997


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  26.10{col 39} 11{col 46}  0.006
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.540{col 36}  1.003{col 46}  2.052
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   57.9%{col 35}    0.7%{col 45}   76.3%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}13
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.063{txt}  p = {res}0.950


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  26.19{col 39} 12{col 46}  0.010
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.477{col 36}  1.000{col 46}  1.962
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   54.2%{col 35}    0.0%{col 45}   74.0%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}14
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.356{txt}  p = {res}0.722


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  26.74{col 39} 13{col 46}  0.014
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.434{col 36}  1.000{col 46}  1.896
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   51.4%{col 35}    0.0%{col 45}   72.2%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}15
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} -0.062{txt}  p = {res}0.950


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  28.31{col 39} 14{col 46}  0.013
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.422{col 36}  1.000{col 46}  1.867
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   50.5%{col 35}    0.0%{col 45}   71.3%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}16
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.115{txt}  p = {res}0.908


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  29.21{col 39} 15{col 46}  0.015
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.396{col 36}  1.000{col 46}  1.823
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   48.7%{col 35}    0.0%{col 45}   69.9%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}17
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.300{txt}  p = {res}0.764


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  29.55{col 39} 16{col 46}  0.020
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.359{col 36}  1.000{col 46}  1.769
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   45.9%{col 35}    0.0%{col 45}   68.1%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}18
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.622{txt}  p = {res}0.534


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  32.49{col 39} 17{col 46}  0.013
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.382{col 36}  1.000{col 46}  1.783
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   47.7%{col 35}    0.0%{col 45}   68.6%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}19
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.738{txt}  p = {res}0.460


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  32.62{col 39} 18{col 46}  0.019
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.346{col 36}  1.000{col 46}  1.732
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   44.8%{col 35}    0.0%{col 45}   66.7%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Meta-analysis pooling of aggregate data
using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.798{txt}  p = {res}0.425


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  32.69{col 39} 19{col 46}  0.026
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.312{col 36}  1.000{col 46}  1.684
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   41.9%{col 35}    0.0%{col 45}   64.7%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}{hline 21}{c TT}{hline 36}
{col 22}{c |}    Odds     
Study identifier{col 22}{c |}    ratio   {col 36}[95% Conf. Interval]
{hline 21}{c +}{hline 36}
AHS 60-80{res}{txt}{col 22}{c |}{col 26}{res}  0.612{col 37}  0.360{col 47}  1.041{col 58}
{txt}Ohno{res}{txt}{col 22}{c |}{col 26}{res}  0.876{col 37}  0.598{col 47}  1.285{col 58}
{txt}CA,USA 81-85{res}{txt}{col 22}{c |}{col 26}{res}  0.921{col 37}  0.656{col 47}  1.294{col 58}
{txt}Walker{res}{txt}{col 22}{c |}{col 26}{res}  0.965{col 37}  0.714{col 47}  1.306{col 58}
{txt}Ghadirian{res}{txt}{col 22}{c |}{col 26}{res}  1.011{col 37}  0.763{col 47}  1.339{col 58}
{txt}Ewings{res}{txt}{col 22}{c |}{col 26}{res}  1.052{col 37}  0.817{col 47}  1.354{col 58}
{txt}Hayes{res}{txt}{col 22}{c |}{col 26}{res}  1.150{col 37}  0.908{col 47}  1.457{col 58}
{txt}SWE 71-75{res}{txt}{col 22}{c |}{col 26}{res}  1.142{col 37}  0.904{col 47}  1.442{col 58}
{txt}Hartman{res}{txt}{col 22}{c |}{col 26}{res}  1.063{col 37}  0.854{col 47}  1.322{col 58}
{txt}AHS{res}{txt}{col 22}{c |}{col 26}{res}  0.930{col 37}  0.767{col 47}  1.129{col 58}
{txt}Lee{res}{txt}{col 22}{c |}{col 26}{res}  0.941{col 37}  0.777{col 47}  1.139{col 58}
{txt}Hsieh{res}{txt}{col 22}{c |}{col 26}{res}  1.000{col 37}  0.831{col 47}  1.203{col 58}
{txt}ATBC{res}{txt}{col 22}{c |}{col 26}{res}  1.006{col 37}  0.840{col 47}  1.205{col 58}
{txt}CARET{res}{txt}{col 22}{c |}{col 26}{res}  1.031{col 37}  0.871{col 47}  1.220{col 58}
{txt}Lifespan study{res}{txt}{col 22}{c |}{col 26}{res}  0.995{col 37}  0.849{col 47}  1.166{col 58}
{txt}Joseph{res}{txt}{col 22}{c |}{col 26}{res}  1.009{col 37}  0.863{col 47}  1.180{col 58}
{txt}Friedenreich{res}{txt}{col 22}{c |}{col 26}{res}  1.023{col 37}  0.881{col 47}  1.188{col 58}
{txt}Allen{res}{txt}{col 22}{c |}{col 26}{res}  1.048{col 37}  0.905{col 47}  1.213{col 58}
{txt}Weinstein{res}{txt}{col 22}{c |}{col 26}{res}  1.055{col 37}  0.915{col 47}  1.216{col 58}
{txt}King{res}{txt}{col 22}{c |}{col 26}{res}  1.058{col 37}  0.921{col 47}  1.217{col 58}
{txt}{hline 21}{c BT}{hline 36}

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.6 .8 1 1.2 1.4 1.6)}; see {help numlist:help numlist}
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:31
{txt}{.-}

{com}. graph save "$Graphs/graph37_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph37_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:32
{txt}
{com}. metan logor selogor, cumulative eform xlabel(0.6, 0.8, 1, 1.2, 1.4, 1.6) ///
>         force xtick(0.7, 0.9, 1.1, 1.3, 1.5) lcols(id year country) effect(Odds ratio)

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Cumulative meta-analysis of aggregate data
using the {res}common-effect inverse-variance{txt} model

Studies added cumulatively in order of {res}year type_study

{txt}{hline 21}{c TT}{hline 46}
{col 22}{c |}    Odds    {col 59}Ratio of
Study identifier{col 22}{c |}    ratio   {col 36}[95% Conf. Interval]{col 59}Variances
{hline 21}{c +}{hline 46}
AHS 60-80{res}{txt}{col 22}{c |}{col 26}{res}  0.612{col 37}  0.360{col 47}  1.041{col 58}   6.90
{txt}Ohno{res}{txt}{col 22}{c |}{col 26}{res}  0.876{col 37}  0.598{col 47}  1.285{col 58}  13.32
{txt}CA,USA 81-85{res}{txt}{col 22}{c |}{col 26}{res}  0.921{col 37}  0.656{col 47}  1.294{col 58}  16.87
{txt}Walker{res}{txt}{col 22}{c |}{col 26}{res}  0.965{col 37}  0.714{col 47}  1.306{col 58}  21.32
{txt}Ghadirian{res}{txt}{col 22}{c |}{col 26}{res}  1.011{col 37}  0.763{col 47}  1.339{col 58}  24.66
{txt}Ewings{res}{txt}{col 22}{c |}{col 26}{res}  1.052{col 37}  0.817{col 47}  1.354{col 58}  30.60
{txt}Hayes{res}{txt}{col 22}{c |}{col 26}{res}  1.150{col 37}  0.908{col 47}  1.457{col 58}  34.90
{txt}SWE 71-75{res}{txt}{col 22}{c |}{col 26}{res}  1.142{col 37}  0.904{col 47}  1.442{col 58}  35.75
{txt}Hartman{res}{txt}{col 22}{c |}{col 26}{res}  1.063{col 37}  0.854{col 47}  1.322{col 58}  40.89
{txt}AHS{res}{txt}{col 22}{c |}{col 26}{res}  0.930{col 37}  0.767{col 47}  1.129{col 58}  52.14
{txt}Lee{res}{txt}{col 22}{c |}{col 26}{res}  0.941{col 37}  0.777{col 47}  1.139{col 58}  53.46
{txt}Hsieh{res}{txt}{col 22}{c |}{col 26}{res}  1.000{col 37}  0.831{col 47}  1.203{col 58}  56.79
{txt}ATBC{res}{txt}{col 22}{c |}{col 26}{res}  1.006{col 37}  0.840{col 47}  1.205{col 58}  59.69
{txt}CARET{res}{txt}{col 22}{c |}{col 26}{res}  1.031{col 37}  0.871{col 47}  1.220{col 58}  68.69
{txt}Lifespan study{res}{txt}{col 22}{c |}{col 26}{res}  0.995{col 37}  0.849{col 47}  1.166{col 58}  77.14
{txt}Joseph{res}{txt}{col 22}{c |}{col 26}{res}  1.009{col 37}  0.863{col 47}  1.180{col 58}  79.85
{txt}Friedenreich{res}{txt}{col 22}{c |}{col 26}{res}  1.023{col 37}  0.881{col 47}  1.188{col 58}  87.53
{txt}Allen{res}{txt}{col 22}{c |}{col 26}{res}  1.048{col 37}  0.905{col 47}  1.213{col 58}  90.52
{txt}Weinstein{res}{txt}{col 22}{c |}{col 26}{res}  1.055{col 37}  0.915{col 47}  1.216{col 58}  96.88
{txt}King{res}{txt}{col 22}{c |}{col 26}{res}  1.058{col 37}  0.921{col 47}  1.217{col 58} 100.00
{txt}{hline 21}{c BT}{hline 46}

Test of overall cumulative effect = {res}1{txt}:  {res}z{txt} = {res}  0.798{txt}  p = {res}0.425


{txt}Heterogeneity measures, calculated from the totality of data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  32.69{col 39} 19{col 46}  0.026
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.312{col 36}  1.000{col 46}  1.684
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   41.9%{col 35}    0.0%{col 45}   64.7%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

{err}Note: with {bf:metan} version 4 and above, the preferred syntax is for {bf:xlabel()}
 to contain a standard Stata numlist, so e.g. {bf:xlabel(.6 .8 1 1.2 1.4 1.6)}; see {help numlist:help numlist}
{res}{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:33
{txt}{.-}

{com}. graph save "$Graphs/graph37_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph37_metan.gph saved)

{com}. 
. 
. 
. 
. *****************************************
. * Recreate examples from meta(n)inf.hlp *
. *****************************************
. 
. // N.B. -metainf- is the original program, but no longer runs as it is based on the old command -meta-,
. //  which is now in use as part of the official Stata 16 meta-analysis package
. // -metaninf- is an update to -metainf- so that the underlying analysis is done by -metan- instead.
. 
. // N.B. it is unclear which dataset(s) should be used for the example code in these help files.
. // Therefore, the example code has been minimally modified so as to run on the standard -metan- example dataset.
. 
. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:33
{txt}
{com}. metaninf logor selogor, label(namevar=id, yearid=year) nograph

{txt}------------------------------------------------------------------------------
 Study omitted     |   Estimate       [95%  Conf.  Interval]
-------------------+----------------------------------------------------------
 {res}AHS 60-80         {txt}|   {res}.09740764      -.04726125   .24207653
 Ohno              {txt}|   {res}.04334145      -.10096343   .18764633
 CA,USA 81-85      {txt}|   {res}.05510755      -.08702768   .19724278
 Walker            {txt}|   {res}.05278535      -.09002277   .19559346
 Ghadirian         {txt}|   {res}.04834101      -.09364274   .19032475
 Ewings            {txt}|   {res}.046717        -.09722009   .1906541
 Hayes             {txt}|   {res}.02455506      -.11813534   .16724546
 SWE 71-75         {txt}|   {res}.05864623      -.08154473   .19883719
 Hartman           {txt}|   {res}.08377819      -.05954309   .22709948
 AHS               {txt}|   {res}.13456953      -.01360771   .28274676
 Lee               {txt}|   {res}.05248217      -.08803809   .19300242
 Hsieh             {txt}|   {res}.02517436      -.116804     .16715273
 ATBC              {txt}|   {res}.05477132      -.08689336   .196436
 CARET             {txt}|   {res}.04318458      -.10314175   .18951091
 Lifespan study    {txt}|   {res}.08928217      -.0566141    .23517844
 Joseph            {txt}|   {res}.04687229      -.09465179   .18839636
 Friedenreich      {txt}|   {res}.04784026      -.09744257   .1931231
 Allen             {txt}|   {res}.03573646      -.10599212   .17746505
 Weinstein         {txt}|   {res}.05043383      -.09381849   .19468614
 King              {txt}|   {res}.0534328       -.088389     .19525459
{txt}-------------------+----------------------------------------------------------
 {res}Combined          {txt}|   {res}.0568328       -.08275954   .19642513
{txt}------------------------------------------------------------------------------

{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:33
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:33
{txt}
{com}. metan    logor selogor, label(namevar=id, yearid=year) nograph influence

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Influence meta-analysis of aggregate data
using the {res}common-effect inverse-variance{txt} model

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}            {col 60}Ratio of
(Year) omitted{col 23}{c |}   Effect   {col 37}[95% Conf. Interval]{col 60}Variances
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.097{col 38} -0.047{col 48}  0.242{col 59}  93.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.043{col 38} -0.101{col 48}  0.188{col 59}  93.58
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.055{col 38} -0.087{col 48}  0.197{col 59}  96.45
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.053{col 38} -0.090{col 48}  0.196{col 59}  95.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.048{col 38} -0.094{col 48}  0.190{col 59}  96.66
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.047{col 38} -0.097{col 48}  0.191{col 59}  94.05
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.025{col 38} -0.118{col 48}  0.167{col 59}  95.70
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.059{col 38} -0.082{col 48}  0.199{col 59}  99.15
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.084{col 38} -0.060{col 48}  0.227{col 59}  94.86
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.135{col 38} -0.014{col 48}  0.283{col 59}  88.75
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.052{col 38} -0.088{col 48}  0.193{col 59}  98.68
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.025{col 38} -0.117{col 48}  0.167{col 59}  96.67
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.055{col 38} -0.087{col 48}  0.196{col 59}  97.10
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.043{col 38} -0.103{col 48}  0.190{col 59}  91.01
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.089{col 38} -0.057{col 48}  0.235{col 59}  91.55
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.047{col 38} -0.095{col 48}  0.188{col 59}  97.29
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.048{col 38} -0.097{col 48}  0.193{col 59}  92.32
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.036{col 38} -0.106{col 48}  0.177{col 59}  97.01
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.050{col 38} -0.094{col 48}  0.195{col 59}  93.64
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.053{col 38} -0.088{col 48}  0.195{col 59}  96.88
{txt}{hline 22}{c +}{hline 46}
Overall, IV{col 23}{c |}{col 27}{res}  0.057{col 38} -0.083{col 48}  0.196{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.798{txt}  p = {res}0.425


{txt}Heterogeneity measures, calculated from the totality of data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  32.69{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.684
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   64.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)

{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:33
{txt}{.-}

{com}. 
. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:33
{txt}
{com}. metaninf logor selogor, random label(namevar=id, yearid=year) nograph

{txt}------------------------------------------------------------------------------
 Study omitted     |   Estimate       [95%  Conf.  Interval]
-------------------+----------------------------------------------------------
 {res}AHS 60-80         {txt}|   {res}.14165683      -.04661705   .32993069
 Ohno              {txt}|   {res}.09937235      -.10153529   .30027997
 CA,USA 81-85      {txt}|   {res}.10911748      -.09013451   .30836946
 Walker            {txt}|   {res}.10721201      -.09301294   .30743694
 Ghadirian         {txt}|   {res}.09960218      -.09811933   .2973237
 Ewings            {txt}|   {res}.10228215      -.09879977   .30336407
 Hayes             {txt}|   {res}.06537213      -.11959615   .2503404
 SWE 71-75         {txt}|   {res}.1118402       -.08289219   .30657259
 Hartman           {txt}|   {res}.13563573      -.05692404   .32819548
 AHS               {txt}|   {res}.15074374      -.02167924   .32316673
 Lee               {txt}|   {res}.10191865      -.09306294   .29690024
 Hsieh             {txt}|   {res}.05999455      -.11974219   .23973128
 ATBC              {txt}|   {res}.10799882      -.09032836   .306326
 CARET             {txt}|   {res}.10326139      -.10044505   .30696782
 Lifespan study    {txt}|   {res}.136228        -.0607979    .33325389
 Joseph            {txt}|   {res}.09586158      -.10005307   .29177624
 Friedenreich      {txt}|   {res}.10580162      -.09736218   .30896541
 Allen             {txt}|   {res}.07805452      -.11126067   .26736972
 Weinstein         {txt}|   {res}.1067949       -.0953486    .30893838
 King              {txt}|   {res}.10641196      -.09208544   .30490935
{txt}-------------------+----------------------------------------------------------
 {res}Combined          {txt}|   {res}.10608999      -.08402935   .29620934
{txt}------------------------------------------------------------------------------

{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:34
{txt}{.-}

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:34
{txt}
{com}. metan    logor selogor, random label(namevar=id, yearid=year) nograph influence

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Influence meta-analysis of aggregate data
using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}            {col 60}Ratio of
(Year) omitted{col 23}{c |}   Effect   {col 37}[95% Conf. Interval]{col 60}Variances
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  0.142{col 38} -0.047{col 48}  0.330{col 59} 101.97
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  0.099{col 38} -0.102{col 48}  0.300{col 59}  89.55
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.109{col 38} -0.090{col 48}  0.308{col 59}  91.04
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  0.107{col 38} -0.093{col 48}  0.307{col 59}  90.16
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.100{col 38} -0.098{col 48}  0.297{col 59}  92.46
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.102{col 38} -0.099{col 48}  0.303{col 59}  89.39
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  0.065{col 38} -0.120{col 48}  0.250{col 59} 105.65
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  0.112{col 38} -0.083{col 48}  0.307{col 59}  95.32
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.136{col 38} -0.057{col 48}  0.328{col 59}  97.48
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.151{col 38} -0.022{col 48}  0.323{col 59} 121.58
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  0.102{col 38} -0.093{col 48}  0.297{col 59}  95.07
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  0.060{col 38} -0.120{col 48}  0.240{col 59} 111.89
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  0.108{col 38} -0.090{col 48}  0.306{col 59}  91.89
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  0.103{col 38} -0.100{col 48}  0.307{col 59}  87.11
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.136{col 38} -0.061{col 48}  0.333{col 59}  93.11
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.096{col 38} -0.100{col 48}  0.292{col 59}  94.17
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.106{col 38} -0.097{col 48}  0.309{col 59}  87.57
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  0.078{col 38} -0.111{col 48}  0.267{col 59} 100.85
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.107{col 38} -0.095{col 48}  0.309{col 59}  88.46
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  0.106{col 38} -0.092{col 48}  0.305{col 59}  91.74
{txt}{hline 22}{c +}{hline 46}
Overall, DL{col 23}{c |}{col 27}{res}  0.106{col 38} -0.084{col 48}  0.296{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  1.094{txt}  p = {res}0.274


{txt}Heterogeneity measures, calculated from the totality of data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  32.69{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.734
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   66.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates, calculated from the totality of data
{hline 22}{c TT}{hline 13}
Method{col 23}{c |}{col 29}tau{c 178}
{hline 22}{c +}{hline 13}
DL{col 23}{c |}{col 26}{res}  0.0742
{txt}{hline 22}{c BT}{hline 13}

{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:34
{txt}{.-}

{com}. 
. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:34
{txt}
{com}. metaninf logor selogor, random eform label(namevar=id, yearid=year)

{txt}------------------------------------------------------------------------------
 Study omitted     |   Estimate       [95%  Conf.  Interval]
-------------------+----------------------------------------------------------
 {res}AHS 60-80         {txt}|   {res}1.1521811      .95445281    1.3908718
 Ohno              {txt}|   {res}1.1044775      .9034493     1.3502368
 CA,USA 81-85      {txt}|   {res}1.1152934      .91380829    1.3612038
 Walker            {txt}|   {res}1.1131703      .91118169    1.359935
 Ghadirian         {txt}|   {res}1.1047313      .90654069    1.346251
 Ewings            {txt}|   {res}1.1076959      .90592408    1.3544074
 Hayes             {txt}|   {res}1.0675563      .88727868    1.2844626
 SWE 71-75         {txt}|   {res}1.1183342      .92045039    1.3587601
 Hartman           {txt}|   {res}1.1452646      .94466585    1.3884604
 AHS               {txt}|   {res}1.1626986      .97855407    1.3814956
 Lee               {txt}|   {res}1.1072934      .91113615    1.3456811
 Hsieh             {txt}|   {res}1.0618308      .8871491     1.2709076
 ATBC              {txt}|   {res}1.1140465      .91363114    1.358425
 CARET             {txt}|   {res}1.1087812      .9044348     1.3592973
 Lifespan study    {txt}|   {res}1.1459432      .9410134     1.3955015
 Joseph            {txt}|   {res}1.1006067      .90478939    1.3388034
 Friedenreich      {txt}|   {res}1.1116014      .90722734    1.3620152
 Allen             {txt}|   {res}1.0811816      .89470547    1.3065234
 Weinstein         {txt}|   {res}1.1127061      .90905601    1.3619784
 King              {txt}|   {res}1.11228        .91202724    1.3565021
{txt}-------------------+----------------------------------------------------------
 {res}Combined          {txt}|   {res}1.1119219      .91940427    1.3447516
{txt}------------------------------------------------------------------------------

{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:35
{txt}{.-}

{com}. graph save "$Graphs/graph38_metan9.gph"
{txt}file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph38_metan9.gph saved

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:35
{txt}
{com}. metan    logor selogor, random eform label(namevar=id, yearid=year) influence

{txt}Studies included: {res}20
{txt}Participants included: {res}Unknown

{txt}Influence meta-analysis of aggregate data
using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}            {col 60}Ratio of
(Year) omitted{col 23}{c |}   exp(b)   {col 37}[95% Conf. Interval]{col 60}Variances
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  1.152{col 38}  0.954{col 48}  1.391{col 59} 101.97
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.104{col 38}  0.903{col 48}  1.350{col 59}  89.55
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.115{col 38}  0.914{col 48}  1.361{col 59}  91.04
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.113{col 38}  0.911{col 48}  1.360{col 59}  90.16
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.105{col 38}  0.907{col 48}  1.346{col 59}  92.46
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.108{col 38}  0.906{col 48}  1.354{col 59}  89.39
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.068{col 38}  0.887{col 48}  1.284{col 59} 105.65
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  1.118{col 38}  0.920{col 48}  1.359{col 59}  95.32
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.145{col 38}  0.945{col 48}  1.388{col 59}  97.48
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.163{col 38}  0.979{col 48}  1.381{col 59} 121.58
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.107{col 38}  0.911{col 48}  1.346{col 59}  95.07
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.062{col 38}  0.887{col 48}  1.271{col 59} 111.89
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.114{col 38}  0.914{col 48}  1.358{col 59}  91.89
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.109{col 38}  0.904{col 48}  1.359{col 59}  87.11
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.146{col 38}  0.941{col 48}  1.396{col 59}  93.11
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.101{col 38}  0.905{col 48}  1.339{col 59}  94.17
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.112{col 38}  0.907{col 48}  1.362{col 59}  87.57
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.081{col 38}  0.895{col 48}  1.307{col 59} 100.85
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.113{col 38}  0.909{col 48}  1.362{col 59}  88.46
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.112{col 38}  0.912{col 48}  1.357{col 59}  91.74
{txt}{hline 22}{c +}{hline 46}
Overall, DL{col 23}{c |}{col 27}{res}  1.112{col 38}  0.919{col 48}  1.345{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  1.094{txt}  p = {res}0.274


{txt}Heterogeneity measures, calculated from the totality of data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  32.69{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.734
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   66.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates, calculated from the totality of data
{hline 22}{c TT}{hline 13}
Method{col 23}{c |}{col 29}tau{c 178}
{hline 22}{c +}{hline 13}
DL{col 23}{c |}{col 26}{res}  0.0742
{txt}{hline 22}{c BT}{hline 13}
{res}{txt}
{com}. graph save "$Graphs/graph38_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph38_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan logor selogor, random eform label(namevar=id, yearid=year) influence nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , influence eform effect(`"exp(b)"') note(NOTE: Weights are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}22
           {txt}r(textsize) =  {res}1.851851851851852
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}24
                {txt}r(cdw) =  {res}28.84665026552917
                {txt}r(rdw) =  {res}14.64166625340779
                {txt}r(ldw) =  {res}14.20498401212138
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.8319856821878288

{txt}macros:
              r(range) : "{res}-.1197421893179 .3332538828654{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21      .10625     .022235   .0599945   .1507437
{txt}{space 7}_seES {c |}{res}         21    .0992505    .0041015   .0879725   .1039338
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.0882774    .0237963  -.1197422  -.0216792
{txt}{space 8}_UCI {c |}{res}         21    .3007775    .0234898   .2397313   .3332539
{txt}{space 9}_WT {c |}{res}         21    96.02198    8.627689   87.10501   121.5801
{txt}{space 7}_crit {c |}{res}         21    1.959964           0   1.959964   1.959964
{txt}{space 10}_z {c |}{res}         21    1.072669    .2439214   .6542188   1.713532
{txt}{hline 13}{c +}{hline 57}
{space 5}_pvalue {c |}{res}         21    .2965217    .1013981   .0866147   .5129708
{txt}{space 6}_tausq {c |}{res}         21    .0739631    .0137517    .032353   .0855657
{txt}{space 10}_Q {c |}{res}         21    31.02216    2.494116   23.29221   32.68876
{txt}{space 8}_Qdf {c |}{res}         21    18.04762    .2182179         18         19
{txt}{space 7}_Qlci {c |}{res}         21     13.8967    1.076476   10.59228   15.00674
{txt}{hline 13}{c +}{hline 57}
{space 7}_Quci {c |}{res}         21    54.90706    4.507795   40.91062   57.96032
{txt}{space 4}_sigmasq {c |}{res}         20    .1031196    .0030153   .0984847   .1100398
{txt}{space 3}_WT_Final {c |}{res}         20           5    1.700027   1.405599   7.889779
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:37
{txt}{.-}

{com}. 
. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:37
{txt}
{com}. metaninf tdeath tnodeath cdeath cnodeath, fixedi or label(namevar=id, yearid=year)

{txt}------------------------------------------------------------------------------
 Study omitted     |   Estimate       [95%  Conf.  Interval]
-------------------+----------------------------------------------------------
 {res}AHS 60-80         {txt}|   {res}1.1023096      .95383817    1.2738917
 Ohno              {txt}|   {res}1.0442944      .90396607    1.2064067
 CA,USA 81-85      {txt}|   {res}1.0566542      .91665173    1.2180398
 Walker            {txt}|   {res}1.0542034      .91391039    1.2160324
 Ghadirian         {txt}|   {res}1.0495285      .91060805    1.2096424
 Ewings            {txt}|   {res}1.0478255      .90735626    1.2100408
 Hayes             {txt}|   {res}1.0248591      .88857579    1.1820444
 SWE 71-75         {txt}|   {res}1.0604         .92169148    1.2199833
 Hartman           {txt}|   {res}1.0873877      .94219494    1.2549547
 AHS               {txt}|   {res}1.1440442      .98648447    1.3267691
 Lee               {txt}|   {res}1.0538838      .91572601    1.2128857
 Hsieh             {txt}|   {res}1.0254939      .88975954    1.1819347
 ATBC              {txt}|   {res}1.0562991      .91677487    1.2170575
 CARET             {txt}|   {res}1.0441306      .90199912    1.2086583
 Lifespan study    {txt}|   {res}1.0933892      .94495863    1.2651345
 Joseph            {txt}|   {res}1.0479882      .90968966    1.207312
 Friedenreich      {txt}|   {res}1.0490031      .90715444    1.2130321
 Allen             {txt}|   {res}1.0363827      .89943171    1.1941863
 Weinstein         {txt}|   {res}1.0517273      .91044801    1.2149296
 King              {txt}|   {res}1.0548861      .91540474    1.2156204
{txt}-------------------+----------------------------------------------------------
 {res}Combined          {txt}|   {res}1.0584788      .92057248    1.2170442
{txt}------------------------------------------------------------------------------

{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:37
{txt}{.-}

{com}. graph save "$Graphs/graph39_metan9.gph"
{txt}file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph39_metan9.gph saved

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:37
{txt}
{com}. metan    tdeath tnodeath cdeath cnodeath, fixedi or label(namevar=id, yearid=year) influence

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Influence meta-analysis of{res} Odds Ratios
{txt}using the {res}common-effect inverse-variance{txt} model

{hline 22}{c TT}{hline 46}
Study identifier{col 23}{c |}    Odds    {col 60}Ratio of
(Year) omitted{col 23}{c |}    Ratio   {col 37}[95% Conf. Interval]{col 60}Variances
{hline 22}{c +}{hline 46}
AHS 60-80 (1984){res}{txt}{col 23}{c |}{col 27}{res}  1.102{col 38}  0.954{col 48}  1.274{col 59}  93.10
{txt}Ohno (1988){res}{txt}{col 23}{c |}{col 27}{res}  1.044{col 38}  0.904{col 48}  1.206{col 59}  93.58
{txt}CA,USA 81-85 (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.057{col 38}  0.917{col 48}  1.218{col 59}  96.45
{txt}Walker (1992){res}{txt}{col 23}{c |}{col 27}{res}  1.054{col 38}  0.914{col 48}  1.216{col 59}  95.55
{txt}Ghadirian (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.050{col 38}  0.911{col 48}  1.210{col 59}  96.66
{txt}Ewings (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.048{col 38}  0.907{col 48}  1.210{col 59}  94.05
{txt}Hayes (1996){res}{txt}{col 23}{c |}{col 27}{res}  1.025{col 38}  0.889{col 48}  1.182{col 59}  95.70
{txt}SWE 71-75 (1997){res}{txt}{col 23}{c |}{col 27}{res}  1.060{col 38}  0.922{col 48}  1.220{col 59}  99.15
{txt}Hartman (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.087{col 38}  0.942{col 48}  1.255{col 59}  94.86
{txt}AHS (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.144{col 38}  0.986{col 48}  1.327{col 59}  88.75
{txt}Lee (1998){res}{txt}{col 23}{c |}{col 27}{res}  1.054{col 38}  0.916{col 48}  1.213{col 59}  98.68
{txt}Hsieh (1999){res}{txt}{col 23}{c |}{col 27}{res}  1.025{col 38}  0.890{col 48}  1.182{col 59}  96.67
{txt}ATBC (2001){res}{txt}{col 23}{c |}{col 27}{res}  1.056{col 38}  0.917{col 48}  1.217{col 59}  97.10
{txt}CARET (2003){res}{txt}{col 23}{c |}{col 27}{res}  1.044{col 38}  0.902{col 48}  1.209{col 59}  91.01
{txt}Lifespan study (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.093{col 38}  0.945{col 48}  1.265{col 59}  91.55
{txt}Joseph (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.048{col 38}  0.910{col 48}  1.207{col 59}  97.29
{txt}Friedenreich (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.049{col 38}  0.907{col 48}  1.213{col 59}  92.32
{txt}Allen (2004){res}{txt}{col 23}{c |}{col 27}{res}  1.036{col 38}  0.899{col 48}  1.194{col 59}  97.01
{txt}Weinstein (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.052{col 38}  0.910{col 48}  1.215{col 59}  93.64
{txt}King (2005){res}{txt}{col 23}{c |}{col 27}{res}  1.055{col 38}  0.915{col 48}  1.216{col 59}  96.88
{txt}{hline 22}{c +}{hline 46}
Overall, IV{col 23}{c |}{col 27}{res}  1.058{col 38}  0.921{col 48}  1.217{col 59} 100.00
{txt}{hline 22}{c BT}{hline 46}

Test of overall effect = {res}1{txt}:  {res}z{txt} = {res}  0.798{txt}  p = {res}0.425


{txt}Heterogeneity measures, calculated from the totality of data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 22}{c TT}{hline 35}
Measure{col 23}{c |}{col 29}Value{col 40}df{col 48}p-value
{hline 22}{c +}{hline 35}
Cochran's Q{col 23}{c |}{col 27}{res}  32.69{col 40} 19{col 47}  0.026
{txt}{col 23}{c |}{col 36}{hline 1}[95% Conf. Interval]{hline 1}
H {col 23}{c |}{col 27}{res}  1.312{col 37}  1.000{col 47}  1.684
{txt}I{c 178} (%) {col 23}{c |}{col 26}{res}   41.9%{col 36}    0.0%{col 46}   64.7%
{txt}{hline 22}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. graph save "$Graphs/graph39_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph39_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan tdeath tnodeath cdeath cnodeath, fixedi or label(namevar=id, yearid=year) influence nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , influence eform effect(`"Odds Ratio"')
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}22
           {txt}r(textsize) =  {res}1.851851851851852
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}24
                {txt}r(cdw) =  {res}28.48549010254151
                {txt}r(rdw) =  {res}14.64166625340779
                {txt}r(ldw) =  {res}13.84382384913372
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.8425342135102913

{txt}macros:
              r(range) : "{res}-.118135338956 .3285040669719{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0572044    .0252742   .0245551   .1345695
{txt}{space 7}_seES {c |}{res}         21    .0730044    .0011057   .0712219    .075602
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.0858816    .0242002  -.1181353  -.0136077
{txt}{space 8}_UCI {c |}{res}         21    .2002904    .0264824   .1671527   .2827468
{txt}{space 9}_WT {c |}{res}         21     95.2381    2.852576   88.74833        100
{txt}{space 9}_NN {c |}{res}         21    3078.095    91.86343       2870       3232
{txt}{space 9}_CC {c |}{res}         20           0           0          0          0
{txt}{hline 13}{c +}{hline 57}
{space 7}_crit {c |}{res}         21    1.959964           0   1.959964   1.959964
{txt}{space 10}_z {c |}{res}         21    .7811686    .3339388    .337283   1.779973
{txt}{space 5}_pvalue {c |}{res}         21    .4586791    .1628423   .0750804   .7359036
{txt}{space 10}_Q {c |}{res}         21    31.02216    2.494116   23.29221   32.68876
{txt}{space 8}_Qdf {c |}{res}         21    18.04762    .2182179         18         19
{txt}{hline 13}{c +}{hline 57}
{space 7}_Qlci {c |}{res}         21      15.254     1.45699   10.84404   16.40227
{txt}{space 7}_Quci {c |}{res}         21    51.68632    3.649045    40.2155   54.09081
{txt}{space 3}_WT_Final {c |}{res}         20           5    2.704132   .8521896   11.25167
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:39
{txt}{.-}

{com}. 
. forvalues i = 1/15 {c -(}
{txt}  2{com}.         macro drop S_`i'
{txt}  3{com}. {c )-}
{txt}
{com}. macro drop S_51
{txt}
{com}. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:39
{txt}
{com}. metaninf tsample tmean tsd csample cmean csd, cohen notable 
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:40
{txt}{.-}

{com}. graph save "$Graphs/graph40_metan9.gph"
{txt}file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph40_metan9.gph saved

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:40
{txt}
{com}. metan    tsample tmean tsd csample cmean csd, cohen notable influence

{txt}Studies included: {res}20
{txt}Participants included: {res}3232

{txt}Influence meta-analysis of{res} Standardised Mean Differences
{txt}  by the method of {res}Cohen
{txt}using the {res}common-effect inverse-variance{txt} model

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  0.260{txt}  p = {res}0.795


{txt}Heterogeneity measures, calculated from the totality of data
with Conf. Intervals based on {res}non-central chi{c 178} (common-effect){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res}  49.73{col 39} 19{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  1.618{col 36}  1.206{col 46}  2.014
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   61.8%{col 35}   31.2%{col 45}   75.4%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)
{res}{txt}
{com}. graph save "$Graphs/graph40_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph40_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan tsample tmean tsd csample cmean csd, cohen notable influence nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , influence effect(`"Effect"')
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_ES _LCI _UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}22
           {txt}r(textsize) =  {res}1.851851851851852
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}2
             {txt}r(height) =  {res}24
                {txt}r(cdw) =  {res}27.91111405121373
                {txt}r(rdw) =  {res}15.34166606267293
                {txt}r(ldw) =  {res}12.5694479885408
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}.8598725208876551

{txt}macros:
              r(range) : "{res}-.0900643748685 .147223496999{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         21    1.190476    .8728716          1          5
{txt}{space 6}_STUDY {c |}{res}         20        10.5     5.91608          1         20
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         21    .0092936    .0177246  -.0175656   .0738784
{txt}{space 7}_seES {c |}{res}         21     .036203    .0005402   .0353193   .0374217
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         21   -.0616629    .0174905  -.0900644   .0005333
{txt}{space 8}_UCI {c |}{res}         21    .0802502    .0180178   .0549332   .1472235
{txt}{space 9}_WT {c |}{res}         21     95.2381    2.816357   89.07972        100
{txt}{space 9}_NN {c |}{res}         21    3078.095    91.86343       2870       3232
{txt}{space 7}_crit {c |}{res}         21    1.959964           0   1.959964   1.959964
{txt}{hline 13}{c +}{hline 57}
{space 10}_z {c |}{res}         21    .2550969    .4763656  -.4748754   1.974214
{txt}{space 5}_pvalue {c |}{res}         21    .7587227    .2077038   .0483574   .9928864
{txt}{space 10}_Q {c |}{res}         21    47.14521    5.948711   22.35434   49.73024
{txt}{space 8}_Qdf {c |}{res}         21    18.04762    .2182179         18         19
{txt}{space 7}_Qlci {c |}{res}         21    25.78174    3.739871   10.35466   27.61323
{txt}{hline 13}{c +}{hline 57}
{space 7}_Quci {c |}{res}         21    73.72522    8.348142   38.74176   77.26001
{txt}{space 3}_WT_Final {c |}{res}         20           5    2.663869   .8387917   10.92028
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:42
{txt}{.-}

{com}. 
. 
. 
. ***************************************
. * Recreate examples from metaprop.hlp *
. ***************************************
. 
. * Example 1
. // Pooling proportions from raw cell counts, grouped by triage group, with "label" specification, x-axis label set, ticks on x-axis added,
. //   suppressed weights, increased text size, changes on the box effect estimate, a red diamond for the confidence intervals of the pooled
. //   effect estimate, a vertical line at zero, a red dashed line, for the pooled effect estimate, e.t.c.
. 
. // The dataset used in this example has been to produce figure one in Marc Arbyn et al. (2009).
. 
. use "$Datasets/arbyn2009jcellmolmedfig1.dta", clear
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:42
{txt}
{com}. metaprop num denom, random by(tgroup) cimethod(exact) ///
>         label(namevar=author, yearvar=year) ///
>         xlab(.25,0.5,.75,1) xline(0, lcolor(black)) ///
>         subti("Atypical cervical cytology", size(4)) ///
>         xtitle("Proportion",size(2)) nowt ///
>         olineopt(lcolor(red) lpattern(shortdash)) ///
>         plotregion(icolor(ltbluishgray)) ///
>         diamopt(lcolor(red)) ///
>         pointopt(msymbol(x) msize(0)) boxopt(msymbol(S) mcolor(black)) ///
>         astext(70) texts(150)

{txt}{col 12}Study{col 22}|{col 24} {col 29}ES{col 38}[95% Conf. Interval]{col 60}
---------------------+---------------------------------------------------
{col 6}ASCUS
Manos (1999){col 22}|  {res}      0.39{col 35}      0.36         0.43{col 60}
{txt}Bergeron (2000){col 22}|  {res}      0.43{col 35}      0.34         0.53{col 60}
{txt}Lytwyn (2000){col 22}|  {res}      0.40{col 35}      0.28         0.54{col 60}
{txt}Shlay (2000){col 22}|  {res}      0.31{col 35}      0.25         0.38{col 60}
{txt}Morin (2001){col 22}|  {res}      0.29{col 35}      0.25         0.34{col 60}
{txt}Solomon (2001){col 22}|  {res}      0.57{col 35}      0.55         0.59{col 60}
{txt}Kulasingam (2002){col 22}|  {res}      0.51{col 35}      0.45         0.57{col 60}
{txt}Pretorius (2002){col 22}|  {res}      0.32{col 35}      0.29         0.35{col 60}
{txt}Lonky (2003){col 22}|  {res}      0.46{col 35}      0.40         0.52{col 60}
{txt}Wensveen (2003){col 22}|  {res}      0.45{col 35}      0.37         0.54{col 60}
{txt}Rowe (2004){col 22}|  {res}      0.44{col 35}      0.38         0.50{col 60}
{txt}Andersson (2005){col 22}|  {res}      0.44{col 35}      0.30         0.59{col 60}
{txt}Palma (2005){col 22}|  {res}      0.70{col 35}      0.62         0.77{col 60}
{txt}Giovannelli (2005){col 22}|  {res}      0.23{col 35}      0.15         0.33{col 60}
{txt}Kendall (2005){col 22}|  {res}      0.34{col 35}      0.33         0.35{col 60}
{txt}Nieh (2005){col 22}|  {res}      0.74{col 35}      0.62         0.84{col 60}
{txt}Bergeron (2006){col 22}|  {res}      0.44{col 35}      0.42         0.47{col 60}
{txt}Kiatpongsan (2006){col 22}|  {res}      0.39{col 35}      0.29         0.50{col 60}
{txt}Monsonego (2006){col 22}|  {res}      0.48{col 35}      0.36         0.60{col 60}
{txt}Ronco (2007){col 22}|  {res}      0.31{col 35}      0.28         0.35{col 60}
{txt} Sub-total{col 22}|
  Random pooled  ES{col 22}|  {res}      0.43{col 35}      0.38         0.48{col 60}
{txt}---------------------+---------------------------------------------------
{col 6}BORDERLINE DYSKARYOS
Rebello (2001){col 22}|  {res}      0.41{col 35}      0.30         0.53{col 60}
{txt}Zielinski (2001){col 22}|  {res}      0.35{col 35}      0.28         0.42{col 60}
{txt}Cuzick (2003){col 22}|  {res}      0.26{col 35}      0.19         0.35{col 60}
{txt}Guyot (2003){col 22}|  {res}      0.52{col 35}      0.31         0.73{col 60}
{txt}Moss (2006){col 22}|  {res}      0.46{col 35}      0.44         0.47{col 60}
{txt}Cuschieri (2007){col 22}|  {res}      0.61{col 35}      0.53         0.68{col 60}
{txt} Sub-total{col 22}|
  Random pooled  ES{col 22}|  {res}      0.43{col 35}      0.34         0.52{col 60}
{txt}---------------------+---------------------------------------------------
{col 6}ASC-US
Bruner (2004){col 22}|  {res}      0.27{col 35}      0.18         0.37{col 60}
{txt}Kelly (2006){col 22}|  {res}      0.73{col 35}      0.58         0.84{col 60}
{txt}Ko (2006){col 22}|  {res}      0.40{col 35}      0.38         0.42{col 60}
{txt}Selvaggi (2006){col 22}|  {res}      0.40{col 35}      0.36         0.43{col 60}
{txt}Wright (2006){col 22}|  {res}      0.34{col 35}      0.31         0.37{col 60}
{txt}You (2007){col 22}|  {res}      0.46{col 35}      0.43         0.49{col 60}
{txt} Sub-total{col 22}|
  Random pooled  ES{col 22}|  {res}      0.42{col 35}      0.36         0.47{col 60}
{txt}---------------------+---------------------------------------------------
Overall{col 22}|{col 34}
  Random pooled  ES{col 22}|  {res}      0.43{col 35}      0.39         0.46{col 60}
{txt}---------------------+---------------------------------------------------

Test(s) of heterogeneity:
{col 16}Heterogeneity  degrees of
{col 18}statistic     freedom            P       I^2**
ASCUS{res}{col 20}    614.42{col 35}19{col 43}      0.00{col 51}     96.91%
{txt}BORDERLINE DYSKARYOS{res}{col 20}     53.58{col 35} 5{col 43}      0.00{col 51}     90.67%
{txt}ASC-US{res}{col 20}     73.92{col 35} 5{col 43}      0.00{col 51}     93.24%
{txt}Overall{res}{col 20}    785.77{col 35}31{col 43}      0.00{col 51}     96.05%
{txt}** I^2: the variation in ES attributable to heterogeneity)


Random: Test for heterogeneity between sub-groups: 
{res}{col 20}      0.16{col 35} 2{col 43}      0.92

{txt}Significance test(s) of  ES=0

ASCUS{col 23}z= {res}17.22     {col 35}{txt} p = {res}0.00      
{txt}BORDERLINE DYSKARYOS{col 23}z= {res}9.58      {col 35}{txt} p = {res}0.00      
{txt}ASC-US{col 23}z= {res}14.57     {col 35}{txt} p = {res}0.00      
{txt}Overall{col 23}z= {res}25.34     {col 35}{txt} p = {res}0.00      
{txt}-------------------------------------------------------------------------
{res}{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:43
{txt}{.-}

{com}. graph save "$Graphs/graph41_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph41_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:43
{txt}
{com}. metan num denom, proportion random by(tgroup) cimethod(exact) label(namevar=author, yearvar=year) ///
>         forestplot( xlab(.25 0.5 .75 1) xline(0, lcolor(black)) ///
>                 subti("Atypical cervical cytology", size(4)) ///
>                 xtitle("Proportion",size(2)) nowt ///
>                 olineopt(lcolor(red) lpattern(shortdash)) ///
>                 plotregion(icolor(ltbluishgray)) ///
>                 diamopt(lcolor(red)) classic boxsca(50) )

{txt}Studies included: {res}32
{txt}Participants included: {res}26311

{txt}Meta-analysis pooling of{res} (untransformed) Proportions
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

{hline 23}{c TT}{hline 36}
Subgroup and{col 24}{c |}             
author (year){col 24}{c |} Proportion {col 38}[95% Conf. Interval]
{hline 23}{c +}{hline 36}
ASCUS{col 24}{c |}
Manos (1999){res}{txt}{col 24}{c |}{col 28}{res}  0.395{col 39}  0.364{col 49}  0.426{col 60}
{txt}Bergeron (2000){res}{txt}{col 24}{c |}{col 28}{res}  0.432{col 39}  0.339{col 49}  0.530{col 60}
{txt}Lytwyn (2000){res}{txt}{col 24}{c |}{col 28}{res}  0.404{col 39}  0.276{col 49}  0.542{col 60}
{txt}Shlay (2000){res}{txt}{col 24}{c |}{col 28}{res}  0.313{col 39}  0.248{col 49}  0.383{col 60}
{txt}Morin (2001){res}{txt}{col 24}{c |}{col 28}{res}  0.292{col 39}  0.245{col 49}  0.342{col 60}
{txt}Solomon (2001){res}{txt}{col 24}{c |}{col 28}{res}  0.568{col 39}  0.547{col 49}  0.588{col 60}
{txt}Kulasingam (2002){res}{txt}{col 24}{c |}{col 28}{res}  0.511{col 39}  0.450{col 49}  0.572{col 60}
{txt}Pretorius (2002){res}{txt}{col 24}{c |}{col 28}{res}  0.322{col 39}  0.293{col 49}  0.353{col 60}
{txt}Lonky (2003){res}{txt}{col 24}{c |}{col 28}{res}  0.460{col 39}  0.401{col 49}  0.521{col 60}
{txt}Wensveen (2003){res}{txt}{col 24}{c |}{col 28}{res}  0.453{col 39}  0.371{col 49}  0.537{col 60}
{txt}Rowe (2004){res}{txt}{col 24}{c |}{col 28}{res}  0.440{col 39}  0.380{col 49}  0.501{col 60}
{txt}Andersson (2005){res}{txt}{col 24}{c |}{col 28}{res}  0.442{col 39}  0.305{col 49}  0.587{col 60}
{txt}Palma (2005){res}{txt}{col 24}{c |}{col 28}{res}  0.699{col 39}  0.620{col 49}  0.769{col 60}
{txt}Giovannelli (2005){res}{txt}{col 24}{c |}{col 28}{res}  0.228{col 39}  0.147{col 49}  0.328{col 60}
{txt}Kendall (2005){res}{txt}{col 24}{c |}{col 28}{res}  0.341{col 39}  0.330{col 49}  0.352{col 60}
{txt}Nieh (2005){res}{txt}{col 24}{c |}{col 28}{res}  0.742{col 39}  0.620{col 49}  0.842{col 60}
{txt}Bergeron (2006){res}{txt}{col 24}{c |}{col 28}{res}  0.444{col 39}  0.422{col 49}  0.467{col 60}
{txt}Kiatpongsan (2006){res}{txt}{col 24}{c |}{col 28}{res}  0.389{col 39}  0.288{col 49}  0.497{col 60}
{txt}Monsonego (2006){res}{txt}{col 24}{c |}{col 28}{res}  0.479{col 39}  0.359{col 49}  0.601{col 60}
{txt}Ronco (2007){res}{txt}{col 24}{c |}{col 28}{res}  0.314{col 39}  0.281{col 49}  0.349{col 60}
{txt}{col 24}{c |}
Subgroup, DL{col 24}{c |}{col 28}{res}  0.431{col 39}  0.382{col 49}  0.480{col 60}
{txt}{hline 23}{c +}{hline 36}
ASC-US{col 24}{c |}
Bruner (2004){res}{txt}{col 24}{c |}{col 28}{res}  0.269{col 39}  0.182{col 49}  0.371{col 60}
{txt}Kelly (2006){res}{txt}{col 24}{c |}{col 28}{res}  0.725{col 39}  0.583{col 49}  0.841{col 60}
{txt}Ko (2006){res}{txt}{col 24}{c |}{col 28}{res}  0.401{col 39}  0.381{col 49}  0.421{col 60}
{txt}Selvaggi (2006){res}{txt}{col 24}{c |}{col 28}{res}  0.396{col 39}  0.359{col 49}  0.434{col 60}
{txt}Wright (2006){res}{txt}{col 24}{c |}{col 28}{res}  0.341{col 39}  0.315{col 49}  0.368{col 60}
{txt}You (2007){res}{txt}{col 24}{c |}{col 28}{res}  0.463{col 39}  0.434{col 49}  0.492{col 60}
{txt}{col 24}{c |}
Subgroup, DL{col 24}{c |}{col 28}{res}  0.416{col 39}  0.360{col 49}  0.472{col 60}
{txt}{hline 23}{c +}{hline 36}
BORDERLINE DYSKARYOSIS{col 24}{c |}
Rebello (2001){res}{txt}{col 24}{c |}{col 28}{res}  0.413{col 39}  0.301{col 49}  0.533{col 60}
{txt}Zielinski (2001){res}{txt}{col 24}{c |}{col 28}{res}  0.347{col 39}  0.284{col 49}  0.415{col 60}
{txt}Cuzick (2003){res}{txt}{col 24}{c |}{col 28}{res}  0.260{col 39}  0.185{col 49}  0.347{col 60}
{txt}Guyot (2003){res}{txt}{col 24}{c |}{col 28}{res}  0.522{col 39}  0.306{col 49}  0.732{col 60}
{txt}Moss (2006){res}{txt}{col 24}{c |}{col 28}{res}  0.456{col 39}  0.440{col 49}  0.473{col 60}
{txt}Cuschieri (2007){res}{txt}{col 24}{c |}{col 28}{res}  0.605{col 39}  0.532{col 49}  0.675{col 60}
{txt}{col 24}{c |}
Subgroup, DL{col 24}{c |}{col 28}{res}  0.428{col 39}  0.341{col 49}  0.516{col 60}
{txt}{hline 23}{c +}{hline 36}
Overall, DL{col 24}{c |}{col 28}{res}  0.428{col 39}  0.395{col 49}  0.461
{txt}{hline 23}{c BT}{hline 36}

Tests of subgroup effect size = {res}0{txt}:
ASCUS{res}{col 24}z{txt} = {res} 17.218{txt}{col 37}p = {res}0.000
{txt}ASC-US{res}{col 24}z{txt} = {res} 14.569{txt}{col 37}p = {res}0.000
{txt}BORDERLINE DYSKARYOSIS{res}{col 24}z{txt} = {res}  9.580{txt}{col 37}p = {res}0.000
{txt}Overall{col 24}{res}{col 24}z{txt} = {res} 25.340{txt}{col 37}p = {res}0.000


{txt}Cochran's Q statistics for heterogeneity
(other heterogeneity measures are stored in matrices {res}{bf:{stata mat list r(ovstats):r(ovstats)}}{txt} and {res}{bf:{stata mat list r(bystats):r(bystats)}}{txt})
{hline 23}{c TT}{hline 44}
Measure{col 24}{c |}{col 30}Value{col 41}df{col 49}p-value{col 63}I{c 178}
{hline 23}{c +}{hline 44}
ASCUS{col 24}{c |}{col 28}{res} 614.42{col 41} 19{col 48}  0.000{col 61}96.9%
{txt}ASC-US{col 24}{c |}{col 28}{res}  73.92{col 41}  5{col 48}  0.000{col 61}93.2%
{txt}BORDERLINE DYSKARYOSIS{col 24}{c |}{col 28}{res}  53.58{col 41}  5{col 48}  0.000{col 61}90.7%
{txt}Overall{col 24}{c |}{col 28}{res} 785.77{col 41} 31{col 48}  0.000{col 61}96.1%
{txt}Between{col 24}{c |}{col 28}{res}   0.16{col 41}  2{col 48}  0.925
{txt}{hline 23}{c BT}{hline 44}
Note: between-subgroup heterogeneity calculated using DL subgroup weights
{res}{txt}
{com}. graph save "$Graphs/graph41_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph41_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan num denom, proportion random by(tgroup) cimethod(exact) label(namevar=author, yearvar=year) ///
>                 forestplot( xlab(.25 0.5 .75 1) xline(0, lcolor(black)) ///
>                         subti("Atypical cervical cytology", size(4)) ///
>                         xtitle("Proportion",size(2)) nowt ///
>                         olineopt(lcolor(red) lpattern(shortdash)) ///
>                         plotregion(icolor(ltbluishgray)) ///
>                         diamopt(lcolor(red)) classic boxsca(50) ) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , denominator(1) effect(`"Proportion"') nowt xlab(.25 0.5 .75 1) xline(0, lcolor(black)) subti("Atypical cervical cytology", size(4)) xtitle("Proportion",size(2)) olineopt(lcolor(red) lpattern(shortdash)) plotregion(icolor(ltbluishgray)) diamopt(lcolor(red)) classic boxscale(50) note(NOTE: Weights and between-subgroup heterogeneity test are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_Prop_ES _Prop_LCI _Prop_UCI}
{txt} due to option {bf:denominator(}{it:#}{bf:)} being specified
Note: expected to find variable {res}{bf:_Prop_ES}{txt}, but failed;
assuming proportions pooled on untransformed scale using variables {res}{bf:_ES}, {bf:_LCI}, {bf:_UCI}
{txt}Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}45
           {txt}r(textsize) =  {res}1.26984126984127
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}47
                {txt}r(cdw) =  {res}23.27459504345232
                {txt}r(rdw) =  {res}8.866666475931805
                {txt}r(ldw) =  {res}14.40792856752052
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}1.514526887973358

{txt}macros:
              r(range) : "{res}.1471928047856 1{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         43    1.581395    1.546618          0          6
{txt}{space 9}_BY {c |}{res}         41    6.926829    6.857078          1         16
{txt}{space 6}_STUDY {c |}{res}         32        16.5    9.380832          1         32
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         36    .4325111    .1206821   .2282609   .7424242
{txt}{hline 13}{c +}{hline 57}
{space 7}_seES {c |}{res}         36    .0346268    .0214147   .0055355   .1041586
{txt}{space 8}_LCI {c |}{res}         36    .3628684    .1136802   .1471928   .6202114
{txt}{space 8}_UCI {c |}{res}         36    .5032267     .135946   .3275104   .8422336
{txt}{space 9}_WT {c |}{res}         36    8.333333    18.87807   1.535333        100
{txt}{space 9}_NN {c |}{res}         36    2192.583    5144.991         23      26311
{txt}{hline 13}{c +}{hline 57}
{space 9}_CC {c |}{res}         32           0           0          0          0
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:45
{txt}{.-}

{com}. 
.         
. * Example 2
. // Pooling proportions from raw cell counts with Freeman-Tukey double arcsine transformation
. //   and exact confidence intervals for the individual studies.
. 
. // The dataset used in this example produced the top-left graph in figure one in Ioanna Tsoumpou et al. (2009).
. 
. use "$Datasets/tsoumpou2009cancertreatrevfig2WNL.dta", clear
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:45
{txt}
{com}. metaprop p16p p16tot, random ftt cimethod(exact) ///
>         label(namevar=author, yearvar=year) sortby(year author) ///
>         xlab(0.1,.2, 0.3,0.4,0.5,0.6,.7,0.8, 0.9, 1) xline(0, lcolor(black)) ///
>         ti(Positivity of p16 immunostaining, size(4) color(blue)) ///
>         subti("Cytology = WNL", size(4) color(blue)) ///
>         xtitle(Proportion, size(3)) nowt nostats ///
>         olineopt(lcolor(red) lpattern(shortdash)) ///
>         diamopt(lcolor(black)) ///
>         pointopt(msymbol(x) msize(0)) boxopt(msymbol(S) mcolor(black)) ///
>         astext(70) texts(100)

{txt}{col 12}Study{col 22}|{col 24} {col 28}ES{col 34}[95% Conf. Interval]{col 59}
---------------------+---------------------------------------------------
Bibbo (2002){col 22}|{res}      0.00{col 35}      0.00         0.84{col 60}
{txt}Saqi (2002){col 22}|{res}      0.21{col 35}      0.08         0.40{col 60}
{txt}Murphy (2003){col 22}|{res}      0.00{col 35}      0.00         0.26{col 60}
{txt}Pientong (2003){col 22}|{res}      0.00{col 35}      0.00         0.12{col 60}
{txt}Pientong (2004){col 22}|{res}      0.00{col 35}      0.00         0.12{col 60}
{txt}Trunk (2004){col 22}|{res}      0.11{col 35}      0.04         0.22{col 60}
{txt}Bose (2005){col 22}|{res}      0.13{col 35}      0.03         0.34{col 60}
{txt}Filho (2005){col 22}|{res}      0.49{col 35}      0.41         0.57{col 60}
{txt}Moore (2005){col 22}|{res}      0.00{col 35}      0.00         0.34{col 60}
{txt}Wentzensen (2005){col 22}|{res}      0.01{col 35}      0.00         0.05{col 60}
{txt}Ekalaksananan (2006){col 22}|{res}      0.07{col 35}      0.04         0.13{col 60}
{txt}Holladay (2006){col 22}|{res}      0.00{col 35}      0.00         0.04{col 60}
{txt}Negri (2006){col 22}|{res}      0.13{col 35}      0.03         0.34{col 60}
{txt}Bollanca (2007){col 22}|{res}      0.02{col 35}      0.00         0.11{col 60}
{txt}Carozzi (2007){col 22}|{res}      0.35{col 35}      0.25         0.46{col 60}
{txt}Carydis (2007){col 22}|{res}      0.10{col 35}      0.01         0.30{col 60}
{txt}Liu (2007){col 22}|{res}      0.20{col 35}      0.08         0.37{col 60}
{txt}Meyer (2007){col 22}|{res}      0.09{col 35}      0.06         0.13{col 60}
{txt}Monsonego (2007){col 22}|{res}      0.36{col 35}      0.28         0.44{col 60}
{txt}---------------------+---------------------------------------------------
Random pooled  ES{col 22}|{res}      0.09{col 35}      0.03         0.17{col 60}
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi^2 = {res}    284.44{txt} (d.f. = {res}18{txt}) p = {res}      0.00
{txt}  I^2 (variation in ES attributable to heterogeneity) ={res}     93.67%
{txt}  Estimate of between-study variance Tau^2 = {res}      0.22

{txt}  Test of ES=0 : z= {res}      3.72{txt} p = {res}      0.00
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:46
{txt}{.-}

{com}. graph save "$Graphs/graph42_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph42_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:47
{txt}
{com}. metan p16p p16tot, proportion random ftt cimethod(exact) label(namevar=author, yearvar=year) sortby(year author) ///
>         forestplot( xlab(0.1(0.1)1) xline(0, lcolor(black)) ///
>                 ti(Positivity of p16 immunostaining, size(4) color(blue)) ///
>                 subti("Cytology = WNL", size(4) color(blue)) ///
>                 xtitle(Proportion, size(3)) nowt nostats ///
>                 olineopt(lcolor(red) lpattern(shortdash)) ///
>                 diamopt(lcolor(black)) classic )

{txt}Studies included: {res}19
{txt}Participants included: {res}1315

{txt}Meta-analysis pooling of{res} Freeman-Tukey transformed Proportions
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

{hline 21}{c TT}{hline 36}
author (year){col 22}{c |} Proportion {col 36}[95% Conf. Interval]
{hline 21}{c +}{hline 36}
Bibbo (2002){res}{txt}{col 22}{c |}{col 26}{res}  0.000{col 37}  0.000{col 47}  0.842{col 58}
{txt}Saqi (2002){res}{txt}{col 22}{c |}{col 26}{res}  0.207{col 37}  0.080{col 47}  0.397{col 58}
{txt}Murphy (2003){res}{txt}{col 22}{c |}{col 26}{res}  0.000{col 37}  0.000{col 47}  0.265{col 58}
{txt}Pientong (2003){res}{txt}{col 22}{c |}{col 26}{res}  0.000{col 37}  0.000{col 47}  0.116{col 58}
{txt}Pientong (2004){res}{txt}{col 22}{c |}{col 26}{res}  0.000{col 37}  0.000{col 47}  0.116{col 58}
{txt}Trunk (2004){res}{txt}{col 22}{c |}{col 26}{res}  0.105{col 37}  0.040{col 47}  0.215{col 58}
{txt}Bose (2005){res}{txt}{col 22}{c |}{col 26}{res}  0.130{col 37}  0.028{col 47}  0.336{col 58}
{txt}Filho (2005){res}{txt}{col 22}{c |}{col 26}{res}  0.487{col 37}  0.406{col 47}  0.568{col 58}
{txt}Moore (2005){res}{txt}{col 22}{c |}{col 26}{res}  0.000{col 37}  0.000{col 47}  0.336{col 58}
{txt}Wentzensen (2005){res}{txt}{col 22}{c |}{col 26}{res}  0.009{col 37}  0.000{col 47}  0.051{col 58}
{txt}Ekalaksananan (2006){res}{txt}{col 22}{c |}{col 26}{res}  0.074{col 37}  0.038{col 47}  0.129{col 58}
{txt}Holladay (2006){res}{txt}{col 22}{c |}{col 26}{res}  0.000{col 37}  0.000{col 47}  0.036{col 58}
{txt}Negri (2006){res}{txt}{col 22}{c |}{col 26}{res}  0.130{col 37}  0.028{col 47}  0.336{col 58}
{txt}Bollanca (2007){res}{txt}{col 22}{c |}{col 26}{res}  0.021{col 37}  0.001{col 47}  0.111{col 58}
{txt}Carozzi (2007){res}{txt}{col 22}{c |}{col 26}{res}  0.348{col 37}  0.250{col 47}  0.457{col 58}
{txt}Carydis (2007){res}{txt}{col 22}{c |}{col 26}{res}  0.095{col 37}  0.012{col 47}  0.304{col 58}
{txt}Liu (2007){res}{txt}{col 22}{c |}{col 26}{res}  0.200{col 37}  0.084{col 47}  0.369{col 58}
{txt}Meyer (2007){res}{txt}{col 22}{c |}{col 26}{res}  0.089{col 37}  0.056{col 47}  0.133{col 58}
{txt}Monsonego (2007){res}{txt}{col 22}{c |}{col 26}{res}  0.356{col 37}  0.282{col 47}  0.436{col 58}
{txt}{hline 21}{c +}{hline 36}
Overall, DL{col 22}{c |}{col 26}{res}  0.086{col 37}  0.025{col 47}  0.170
{txt}{hline 21}{c BT}{hline 36}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res}  5.702{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 21}{c TT}{hline 35}
Measure{col 22}{c |}{col 28}Value{col 39}df{col 47}p-value
{hline 21}{c +}{hline 35}
Cochran's Q{col 22}{c |}{col 26}{res} 284.44{col 39} 18{col 46}  0.000
{txt}{col 22}{c |}{col 35}{hline 1}[95% Conf. Interval]{hline 1}
H {col 22}{c |}{col 26}{res}  3.975{col 36}  2.309{col 46}  5.644
{txt}I{c 178} (%) {col 22}{c |}{col 25}{res}   93.7%{col 35}   81.2%{col 45}   96.9%
{txt}{hline 21}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 21}{c TT}{hline 13}
Method{col 22}{c |}{col 28}tau{c 178}
{hline 21}{c +}{hline 13}
DL{col 22}{c |}{col 25}{res}  0.2226
{txt}{hline 21}{c BT}{hline 13}
{res}{txt}
{com}. graph save "$Graphs/graph42_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph42_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan p16p p16tot, proportion random ftt cimethod(exact) label(namevar=author, yearvar=year) sortby(year author) ///
>                 forestplot( xlab(0.1(0.1)1) xline(0, lcolor(black)) ///
>                         ti(Positivity of p16 immunostaining, size(4) color(blue)) ///
>                         subti("Cytology = WNL", size(4) color(blue)) ///
>                         xtitle(Proportion, size(3)) nowt nostats ///
>                         olineopt(lcolor(red) lpattern(shortdash)) ///
>                         diamopt(lcolor(black)) classic ) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , denominator(1) effect(`"Proportion"') nowt nostats xlab(0.1(0.1)1) xline(0, lcolor(black)) ti(Positivity of p16 immunostaining, size(4) color(blue)) subti("Cytology = WNL", size(4) color(blue)) xtitle(Proportion, size(3)) olineopt(lcolor(red) lpattern(shortdash)) diamopt(lcolor(black)) classic note(NOTE: Weights are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_Prop_ES _Prop_LCI _Prop_UCI}
{txt} due to option {bf:denominator(}{it:#}{bf:)} being specified
Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}21
           {txt}r(textsize) =  {res}2.116402116402117
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}23
                {txt}r(cdw) =  {res}16.63937628282365
                {txt}r(rdw) =  {res}.5833333333333334
                {txt}r(ldw) =  {res}16.05604294949032
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}1.036697512382521

{txt}macros:
              r(range) : "{res}0 1{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         20         1.2    .8944272          1          5
{txt}{space 6}_STUDY {c |}{res}         19          10    5.627314          1         19
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         20    .6518355    .4019988   .0996687   1.545315
{txt}{space 7}_seES {c |}{res}         20    .1790824    .1274546   .0651635   .6324555
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         20    .3008405     .513965  -.6241104   1.388644
{txt}{space 8}_UCI {c |}{res}         20     1.00283    .4287803   .2951769    1.85507
{txt}{space 4}_Prop_ES {c |}{res}         20    .1169967    .1395953          0   .4871795
{txt}{space 3}_Prop_LCI {c |}{res}         20    .0665153    .1126323          0   .4064511
{txt}{space 3}_Prop_UCI {c |}{res}         20    .2861046    .1974722   .0362167   .8418861
{txt}{hline 13}{c +}{hline 57}
{space 9}_WT {c |}{res}         20          10     21.2019   2.182032        100
{txt}{space 9}_NN {c |}{res}         20       131.5    285.7287          2       1315
{txt}{space 9}_CC {c |}{res}         19    .3157895    .4775669          0          1
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:48
{txt}{.-}

{com}. 
. 
. * Example 3
. // The dataset used in this example produced the top-left graph in figure one in Ioanna Tsoumpou et al. (2009).
. 
. use "$Datasets/tsoumpou2009cancertreatrevfig2HSIL.dta", clear
{txt}
{com}. 
. log on  log2
{txt}{.-}
      name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:48
{txt}
{com}. metaprop p16p p16tot, random ftt cimethod(exact) ///
>         label(namevar=author, yearvar=year) sortby(year author) ///
>         xlab(0.1,.2, 0.3,0.4,0.5,0.6,.7,0.8, 0.9, 1) xline(0, lcolor(black)) ///
>         ti(Positivity of p16 immunostaining, size(4) color(blue)) ///
>         subti("Cytology = HSIL", size(4) color(blue)) ///
>         xtitle(Proportion,size(3)) nowt nostats ///
>         olineopt(lcolor(red) lpattern(shortdash)) ///
>         diamopt(lcolor(black)) ///
>         pointopt(msymbol(x) msize(0)) boxopt(msymbol(S) mcolor(black)) ///
>         astext(70) texts(100)

{txt}{col 12}Study{col 22}|{col 24} {col 28}ES{col 34}[95% Conf. Interval]{col 59}
---------------------+---------------------------------------------------
Bibbo (2002){col 22}|{res}      0.96{col 35}      0.80         1.00{col 60}
{txt}Saqi (2002){col 22}|{res}      0.90{col 35}      0.55         1.00{col 60}
{txt}Bibbo (2003){col 22}|{res}      0.63{col 35}      0.44         0.80{col 60}
{txt}Murphy (2003){col 22}|{res}      1.00{col 35}      0.63         1.00{col 60}
{txt}Pientong (2003){col 22}|{res}      0.93{col 35}      0.78         0.99{col 60}
{txt}Akpolat (2004){col 22}|{res}      0.24{col 35}      0.12         0.39{col 60}
{txt}Guo (2004){col 22}|{res}      0.97{col 35}      0.92         0.99{col 60}
{txt}Pientong (2004){col 22}|{res}      1.00{col 35}      0.88         1.00{col 60}
{txt}Trunk (2004){col 22}|{res}      1.00{col 35}      0.59         1.00{col 60}
{txt}Yoshida (2004){col 22}|{res}      1.00{col 35}      0.89         1.00{col 60}
{txt}Bose (2005){col 22}|{res}      0.81{col 35}      0.54         0.96{col 60}
{txt}Moore (2005){col 22}|{res}      1.00{col 35}      0.66         1.00{col 60}
{txt}Wentzensen (2005){col 22}|{res}      0.98{col 35}      0.89         1.00{col 60}
{txt}Ekalaksananan (2006){col 22}|{res}      1.00{col 35}      0.74         1.00{col 60}
{txt}Holladay (2006){col 22}|{res}      0.80{col 35}      0.70         0.87{col 60}
{txt}Negri (2006){col 22}|{res}      1.00{col 35}      0.83         1.00{col 60}
{txt}Bollanca (2007){col 22}|{res}      0.96{col 35}      0.86         1.00{col 60}
{txt}Carozzi (2007){col 22}|{res}      0.80{col 35}      0.28         0.99{col 60}
{txt}Liu (2007){col 22}|{res}      0.82{col 35}      0.63         0.94{col 60}
{txt}Meyer (2007){col 22}|{res}      0.81{col 35}      0.68         0.91{col 60}
{txt}Monsonego (2007){col 22}|{res}      0.88{col 35}      0.64         0.99{col 60}
{txt}---------------------+---------------------------------------------------
Random pooled  ES{col 22}|{res}      0.92{col 35}      0.84         0.97{col 60}
{txt}---------------------+---------------------------------------------------

  Heterogeneity chi^2 = {res}    157.46{txt} (d.f. = {res}20{txt}) p = {res}      0.00
{txt}  I^2 (variation in ES attributable to heterogeneity) ={res}     87.30%
{txt}  Estimate of between-study variance Tau^2 = {res}      0.22

{txt}  Test of ES=0 : z= {res}     19.86{txt} p = {res}      0.00
{txt}
{com}. log off log2
      {txt}name:  {res}log2
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log2.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:49
{txt}{.-}

{com}. graph save "$Graphs/graph43_metan9.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph43_metan9.gph saved)

{com}. log on  log3
{txt}{.-}
      name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
{txt}resumed on:  {res}12 Jul 2024, 11:52:50
{txt}
{com}. metan p16p p16tot, proportion random ftt cimethod(exact) label(namevar=author, yearvar=year) sortby(year author) ///
>         forestplot( xlab(0.1(0.1)1) xline(0, lcolor(black)) ///
>                 ti(Positivity of p16 immunostaining, size(4) color(blue)) ///
>                 subti("Cytology = HSIL", size(4) color(blue)) ///
>                 xtitle(Proportion, size(3)) nowt nostats ///
>                 olineopt(lcolor(red) lpattern(shortdash)) ///
>                 diamopt(lcolor(black)) classic )

{txt}Studies included: {res}21
{txt}Participants included: {res}676

{txt}Meta-analysis pooling of{res} Freeman-Tukey transformed Proportions
{txt}using the {res}random-effects inverse-variance{txt} model
with {res}DerSimonian-Laird{txt} estimate of tau{c 178}

{hline 23}{c TT}{hline 36}
author (year){col 24}{c |} Proportion {col 38}[95% Conf. Interval]
{hline 23}{c +}{hline 36}
Bibbo (2002){res}{txt}{col 24}{c |}{col 28}{res}  0.962{col 39}  0.804{col 49}  0.999{col 60}
{txt}Saqi (2002){res}{txt}{col 24}{c |}{col 28}{res}  0.900{col 39}  0.555{col 49}  0.997{col 60}
{txt}Bibbo (2003){res}{txt}{col 24}{c |}{col 28}{res}  0.633{col 39}  0.439{col 49}  0.801{col 60}
{txt}Murphy (2003){res}{txt}{col 24}{c |}{col 28}{res}  1.000{col 39}  0.631{col 49}  1.000{col 60}
{txt}Pientong (2003){res}{txt}{col 24}{c |}{col 28}{res}  0.933{col 39}  0.779{col 49}  0.992{col 60}
{txt}Akpolat (2004){res}{txt}{col 24}{c |}{col 28}{res}  0.238{col 39}  0.121{col 49}  0.395{col 60}
{txt}Guo (2004){res}{txt}{col 24}{c |}{col 28}{res}  0.971{col 39}  0.917{col 49}  0.994{col 60}
{txt}Pientong (2004){res}{txt}{col 24}{c |}{col 28}{res}  1.000{col 39}  0.884{col 49}  1.000{col 60}
{txt}Trunk (2004){res}{txt}{col 24}{c |}{col 28}{res}  1.000{col 39}  0.590{col 49}  1.000{col 60}
{txt}Yoshida (2004){res}{txt}{col 24}{c |}{col 28}{res}  1.000{col 39}  0.894{col 49}  1.000{col 60}
{txt}Bose (2005){res}{txt}{col 24}{c |}{col 28}{res}  0.813{col 39}  0.544{col 49}  0.960{col 60}
{txt}Moore (2005){res}{txt}{col 24}{c |}{col 28}{res}  1.000{col 39}  0.664{col 49}  1.000{col 60}
{txt}Wentzensen (2005){res}{txt}{col 24}{c |}{col 28}{res}  0.980{col 39}  0.894{col 49}  0.999{col 60}
{txt}Ekalaksananan (2006){res}{txt}{col 24}{c |}{col 28}{res}  1.000{col 39}  0.735{col 49}  1.000{col 60}
{txt}Holladay (2006){res}{txt}{col 24}{c |}{col 28}{res}  0.796{col 39}  0.703{col 49}  0.871{col 60}
{txt}Negri (2006){res}{txt}{col 24}{c |}{col 28}{res}  1.000{col 39}  0.832{col 49}  1.000{col 60}
{txt}Bollanca (2007){res}{txt}{col 24}{c |}{col 28}{res}  0.959{col 39}  0.860{col 49}  0.995{col 60}
{txt}Carozzi (2007){res}{txt}{col 24}{c |}{col 28}{res}  0.800{col 39}  0.284{col 49}  0.995{col 60}
{txt}Liu (2007){res}{txt}{col 24}{c |}{col 28}{res}  0.821{col 39}  0.631{col 49}  0.939{col 60}
{txt}Meyer (2007){res}{txt}{col 24}{c |}{col 28}{res}  0.811{col 39}  0.680{col 49}  0.906{col 60}
{txt}Monsonego (2007){res}{txt}{col 24}{c |}{col 28}{res}  0.882{col 39}  0.636{col 49}  0.985{col 60}
{txt}{hline 23}{c +}{hline 36}
Overall, DL{col 24}{c |}{col 28}{res}  0.916{col 39}  0.835{col 49}  0.975
{txt}{hline 23}{c BT}{hline 36}

Test of overall effect = {res}0{txt}:  {res}z{txt} = {res} 21.973{txt}  p = {res}0.000


{txt}Heterogeneity measures, calculated from the data
with Conf. Intervals based on {res}Gamma (random-effects){txt} distribution for Q
{hline 23}{c TT}{hline 35}
Measure{col 24}{c |}{col 30}Value{col 41}df{col 49}p-value
{hline 23}{c +}{hline 35}
Cochran's Q{col 24}{c |}{col 28}{res} 157.46{col 41} 20{col 48}  0.000
{txt}{col 24}{c |}{col 37}{hline 1}[95% Conf. Interval]{hline 1}
H {col 24}{c |}{col 28}{res}  2.806{col 38}  1.770{col 48}  3.842
{txt}I{c 178} (%) {col 24}{c |}{col 27}{res}   87.3%{col 37}   68.1%{col 47}   93.2%
{txt}{hline 23}{c BT}{hline 35}
H = relative excess in Cochran's Q over its degrees-of-freedom
I{c 178} = proportion of total variation in effect estimate due to between-study heterogeneity (based on Q)


Heterogeneity variance estimates
{hline 23}{c TT}{hline 13}
Method{col 24}{c |}{col 30}tau{c 178}
{hline 23}{c +}{hline 13}
DL{col 24}{c |}{col 27}{res}  0.2173
{txt}{hline 23}{c BT}{hline 13}
{res}{txt}
{com}. graph save "$Graphs/graph43_metan.gph"
{res}{txt}(file C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/Graphs_12Jul2024/graph43_metan.gph saved)

{com}. /* NEW 2024: summary of forestplot results set and returned values from forestplot, to enable quick comparison of plots between versions */
. preserve
{txt}
{com}.         qui metan p16p p16tot, proportion random ftt cimethod(exact) label(namevar=author, yearvar=year) sortby(year author) ///
>                 forestplot( xlab(0.1(0.1)1) xline(0, lcolor(black)) ///
>                         ti(Positivity of p16 immunostaining, size(4) color(blue)) ///
>                         subti("Cytology = HSIL", size(4) color(blue)) ///
>                         xtitle(Proportion, size(3)) nowt nostats ///
>                         olineopt(lcolor(red) lpattern(shortdash)) ///
>                         diamopt(lcolor(black)) classic ) nograph clear
{txt}
{com}.         forestplot, useopts
{txt}Full command line as defined by {bf:useopts} is as follows:
{res}  forestplot , denominator(1) effect(`"Proportion"') nowt nostats xlab(0.1(0.1)1) xline(0, lcolor(black)) ti(Positivity of p16 immunostaining, size(4) color(blue)) subti("Cytology = HSIL", size(4) color(blue)) xtitle(Proportion, size(3)) olineopt(lcolor(red) lpattern(shortdash)) diamopt(lcolor(black)) classic note(NOTE: Weights are from random-effects model)
{txt}(Note: any or all of this information may be over-ridden by other options;
 in general only the rightmost of any repeated options will be honoured, but see {help repeated_options})
Note: no {it:varlist} specified; using default {it:varlist}{res} {bf:_Prop_ES _Prop_LCI _Prop_UCI}
{txt} due to option {bf:denominator(}{it:#}{bf:)} being specified
Note: option {bf:use(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_USE}
{txt}Note: option {bf:wgt(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_WT}
{txt}Note: option {bf:labels(}{it:varname}{bf:)} not specified; using default {it:varname}{res} {bf:_LABELS}
{txt}
{com}.         return list, all

{txt}scalars:
                r(obs) =  {res}23
           {txt}r(textsize) =  {res}1.99004975124378
              {txt}r(xsize) =  {res}5.5
              {txt}r(ysize) =  {res}4
            {txt}r(spacing) =  {res}1.5
             {txt}r(height) =  {res}25
                {txt}r(cdw) =  {res}11.60833326975505
                {txt}r(rdw) =  {res}.5833333333333334
                {txt}r(ldw) =  {res}11.02499993642172
             {txt}r(astext) =  {res}50
             {txt}r(aspect) =  {res}1.615218960748846

{txt}macros:
              r(range) : "{res}.1 1{txt}"

{com}.         summarize

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}_USE {c |}{res}         22    1.181818    .8528029          1          5
{txt}{space 6}_STUDY {c |}{res}         21          11    6.204837          1         21
{txt}{space 5}_LABELS {c |}{res}          0
{txt}{space 9}_ES {c |}{res}         22    2.487154    .4549137     1.0335   2.969242
{txt}{space 7}_seES {c |}{res}         22    .2154064    .0912443   .0982946   .4264014
{txt}{hline 13}{c +}{hline 57}
{space 8}_LCI {c |}{res}         22    2.064965     .468162   .7328549   2.630612
{txt}{space 8}_UCI {c |}{res}         22    2.909343    .5086075   1.334144   3.495903
{txt}{space 4}_Prop_ES {c |}{res}         22    .8825331    .1739499   .2380952          1
{txt}{space 3}_Prop_LCI {c |}{res}         22    .6777182    .2041739   .1205162   .9172351
{txt}{space 3}_Prop_UCI {c |}{res}         22    .9455573    .1332921   .3945024          1
{txt}{hline 13}{c +}{hline 57}
{space 9}_WT {c |}{res}         22    9.090909    20.31599   3.189661        100
{txt}{space 9}_NN {c |}{res}         22    61.45455    139.7674          5        676
{txt}{space 9}_CC {c |}{res}         21    .3333333    .4830459          0          1
{txt}{space 5}_EFFECT {c |}{res}          0
{txt}
{com}. restore
{txt}
{com}. log off log3
      {txt}name:  {res}log3
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log3.smcl
  {txt}log type:  {res}smcl
 {txt}paused on:  {res}12 Jul 2024, 11:52:51
{txt}{.-}

{com}. 
. 
. 
. *******************************************************
. 
. log close log1
      {txt}name:  {res}log1
       {txt}log:  {res}C:/Users/Test/Documents/metan/Validation/1. Backwards compatibility/metan_test_12Jul2024_log1.smcl
  {txt}log type:  {res}smcl
 {txt}closed on:  {res}12 Jul 2024, 11:52:51
{txt}{.-}
{smcl}
{txt}{sf}{ul off}